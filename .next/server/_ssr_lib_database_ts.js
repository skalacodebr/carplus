"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_database_ts";
exports.ids = ["_ssr_lib_database_ts"];
exports.modules = {

/***/ "(ssr)/./lib/asaas.ts":
/*!**********************!*\
  !*** ./lib/asaas.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cancelPayment: () => (/* binding */ cancelPayment),\n/* harmony export */   checkPaymentStatus: () => (/* binding */ checkPaymentStatus),\n/* harmony export */   createOrUpdateCustomer: () => (/* binding */ createOrUpdateCustomer),\n/* harmony export */   createPayment: () => (/* binding */ createPayment),\n/* harmony export */   formatCep: () => (/* binding */ formatCep),\n/* harmony export */   formatCpfCnpj: () => (/* binding */ formatCpfCnpj),\n/* harmony export */   formatPhone: () => (/* binding */ formatPhone),\n/* harmony export */   getPaymentLink: () => (/* binding */ getPaymentLink),\n/* harmony export */   getPixQrCode: () => (/* binding */ getPixQrCode)\n/* harmony export */ });\n// Biblioteca para integração com o Asaas\n// Tipos para a API do Asaas\n// Função para fazer requisições à API do Asaas\nasync function asaasRequest(endpoint, method = \"POST\", data) {\n    try {\n        const response = await fetch(\"/api/asaas/proxy\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                endpoint,\n                method,\n                data\n            })\n        });\n        const responseData = await response.json();\n        return responseData;\n    } catch (error) {\n        console.error(\"Erro na requisição Asaas:\", error);\n        return {\n            error: true,\n            message: error.message\n        };\n    }\n}\n// Funções para interagir com a API do Asaas\n// Criar ou atualizar cliente\nasync function createOrUpdateCustomer(customerData) {\n    // Verificar se o cliente já existe pelo CPF/CNPJ\n    try {\n        console.log(\"Verificando cliente no Asaas:\", customerData);\n        const searchResult = await asaasRequest(`/customers?cpfCnpj=${customerData.cpfCnpj}`);\n        if (searchResult.data && searchResult.data.length > 0) {\n            // Cliente já existe, atualizar\n            const existingCustomer = searchResult.data[0];\n            console.log(\"Cliente encontrado:\", existingCustomer);\n            return await asaasRequest(`/customers/${existingCustomer.id}`, \"PUT\", customerData);\n        } else {\n            // Cliente não existe, criar\n            console.log(\"Cliente não encontrado, criando...\");\n            return await asaasRequest(\"/customers\", \"POST\", customerData);\n        }\n    } catch (error) {\n        console.error(\"Erro ao criar/atualizar cliente no Asaas:\", error);\n        throw error;\n    }\n}\n// Criar cobrança\nasync function createPayment(paymentData) {\n    try {\n        return await asaasRequest(\"/payments\", \"POST\", paymentData);\n    } catch (error) {\n        console.error(\"Erro ao criar cobrança no Asaas:\", error);\n        throw error;\n    }\n}\n// Obter QR Code PIX\nasync function getPixQrCode(paymentId) {\n    try {\n        return await asaasRequest(`/payments/${paymentId}/billingInfo`, \"GET\", null);\n    } catch (error) {\n        console.error(\"Erro ao obter QR Code PIX:\", error);\n        throw error;\n    }\n}\n// Obter link de pagamento\nasync function getPaymentLink(paymentId) {\n    try {\n        const payment = await asaasRequest(`/payments/${paymentId}`);\n        return payment.invoiceUrl;\n    } catch (error) {\n        console.error(\"Erro ao obter link de pagamento:\", error);\n        throw error;\n    }\n}\n// Verificar status de pagamento\nasync function checkPaymentStatus(paymentId) {\n    try {\n        const payment = await asaasRequest(`/payments/${paymentId}/status`, \"GET\", null);\n        // Se o pagamento não existir ou estiver nulo, significa que foi excluído\n        if (!payment || payment.error) {\n            return \"excluido\";\n        }\n        return payment.status;\n    } catch (error) {\n        // Se o erro for 404 (não encontrado), significa que o pagamento foi excluído\n        if (error.response?.status === 404) {\n            return \"excluido\";\n        }\n        console.error(\"Erro ao verificar status do pagamento:\", error);\n        throw error;\n    }\n}\n// Cancelar cobrança\nasync function cancelPayment(paymentId) {\n    try {\n        return await asaasRequest(`/payments/${paymentId}`, \"DELETE\");\n    } catch (error) {\n        console.error(\"Erro ao cancelar cobrança:\", error);\n        throw error;\n    }\n}\n// Função para formatar CPF/CNPJ (remover caracteres especiais)\nfunction formatCpfCnpj(cpfCnpj) {\n    return cpfCnpj.replace(/[^\\d]/g, \"\");\n}\n// Função para formatar telefone (remover caracteres especiais)\nfunction formatPhone(phone) {\n    return phone.replace(/[^\\d]/g, \"\");\n}\n// Função para formatar CEP (remover caracteres especiais)\nfunction formatCep(cep) {\n    return cep.replace(/[^\\d]/g, \"\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU1SLFFBQVEsRUFBRTJCLFdBQVcsS0FBSztZQUNsQyxPQUFPO1FBQ1Q7UUFDQWxCLFFBQVFELEtBQUssQ0FBQywwQ0FBMENBO1FBQ3hELE1BQU1BO0lBQ1I7QUFDRjtBQUVBLG9CQUFvQjtBQUNiLGVBQWVvQixjQUFjTixTQUFpQjtJQUNuRCxJQUFJO1FBQ0YsT0FBTyxNQUFNMUIsYUFBYSxDQUFDLFVBQVUsRUFBRTBCLFdBQVcsRUFBRTtJQUN0RCxFQUFFLE9BQU9kLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUMsTUFBTUE7SUFDUjtBQUNGO0FBRUEsK0RBQStEO0FBQ3hELFNBQVNxQixjQUFjZCxPQUFlO0lBQzNDLE9BQU9BLFFBQVFlLE9BQU8sQ0FBQyxVQUFVO0FBQ25DO0FBRUEsK0RBQStEO0FBQ3hELFNBQVNDLFlBQVlDLEtBQWE7SUFDdkMsT0FBT0EsTUFBTUYsT0FBTyxDQUFDLFVBQVU7QUFDakM7QUFFQSwwREFBMEQ7QUFDbkQsU0FBU0csVUFBVUMsR0FBVztJQUNuQyxPQUFPQSxJQUFJSixPQUFPLENBQUMsVUFBVTtBQUMvQiIsInNvdXJjZXMiOlsiQzpcXHhhbXBwXFxodGRvY3NcXEdJVEhVQlxcY2FycGx1c1xcbGliXFxhc2Fhcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCaWJsaW90ZWNhIHBhcmEgaW50ZWdyYcOnw6NvIGNvbSBvIEFzYWFzXHJcblxyXG4vLyBUaXBvcyBwYXJhIGEgQVBJIGRvIEFzYWFzXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXNhYXNDdXN0b21lciB7XHJcbiAgaWQ/OiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGhvbmU6IHN0cmluZztcclxuICBtb2JpbGVQaG9uZT86IHN0cmluZztcclxuICBjcGZDbnBqOiBzdHJpbmc7XHJcbiAgcG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gIGFkZHJlc3M6IHN0cmluZztcclxuICBhZGRyZXNzTnVtYmVyOiBzdHJpbmc7XHJcbiAgY29tcGxlbWVudD86IHN0cmluZztcclxuICBwcm92aW5jZTogc3RyaW5nOyAvLyBiYWlycm9cclxuICBjaXR5OiBzdHJpbmc7XHJcbiAgc3RhdGU6IHN0cmluZztcclxuICBleHRlcm5hbFJlZmVyZW5jZT86IHN0cmluZztcclxuICBub3RpZmljYXRpb25EaXNhYmxlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXNhYXNQYXltZW50IHtcclxuICBpZD86IHN0cmluZztcclxuICBjdXN0b21lcjogc3RyaW5nOyAvLyBJRCBkbyBjbGllbnRlIG5vIEFzYWFzXHJcbiAgYmlsbGluZ1R5cGU6IFwiQk9MRVRPXCIgfCBcIkNSRURJVF9DQVJEXCIgfCBcIlBJWFwiIHwgXCJVTkRFRklORURcIjtcclxuICB2YWx1ZTogbnVtYmVyO1xyXG4gIGR1ZURhdGU6IHN0cmluZzsgLy8gRm9ybWF0bzogWVlZWS1NTS1ERFxyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIGV4dGVybmFsUmVmZXJlbmNlPzogc3RyaW5nO1xyXG4gIGluc3RhbGxtZW50Q291bnQ/OiBudW1iZXI7XHJcbiAgdG90YWxWYWx1ZT86IG51bWJlcjtcclxuICBpbnN0YWxsbWVudFZhbHVlPzogbnVtYmVyO1xyXG4gIGRpc2NvdW50Pzoge1xyXG4gICAgdmFsdWU/OiBudW1iZXI7XHJcbiAgICBkdWVEYXRlTGltaXREYXlzPzogbnVtYmVyO1xyXG4gICAgdHlwZT86IFwiRklYRURcIiB8IFwiUEVSQ0VOVEFHRVwiO1xyXG4gIH07XHJcbiAgaW50ZXJlc3Q/OiB7XHJcbiAgICB2YWx1ZTogbnVtYmVyO1xyXG4gIH07XHJcbiAgZmluZT86IHtcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcbiAgfTtcclxuICBwb3N0YWxTZXJ2aWNlPzogYm9vbGVhbjtcclxuICBjcmVkaXRDYXJkPzoge1xyXG4gICAgaG9sZGVyTmFtZTogc3RyaW5nO1xyXG4gICAgbnVtYmVyOiBzdHJpbmc7XHJcbiAgICBleHBpcnlNb250aDogc3RyaW5nO1xyXG4gICAgZXhwaXJ5WWVhcjogc3RyaW5nO1xyXG4gICAgY2N2OiBzdHJpbmc7XHJcbiAgfTtcclxuICBjcmVkaXRDYXJkSG9sZGVySW5mbz86IHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBjcGZDbnBqOiBzdHJpbmc7XHJcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XHJcbiAgICBhZGRyZXNzTnVtYmVyOiBzdHJpbmc7XHJcbiAgICBhZGRyZXNzQ29tcGxlbWVudD86IHN0cmluZztcclxuICAgIHBob25lOiBzdHJpbmc7XHJcbiAgICBtb2JpbGVQaG9uZT86IHN0cmluZztcclxuICB9O1xyXG4gIHJlbW90ZUlwPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFzYWFzUGl4UXJDb2RlIHtcclxuICBlbmNvZGVkSW1hZ2U6IHN0cmluZztcclxuICBwYXlsb2FkOiBzdHJpbmc7XHJcbiAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBmYXplciByZXF1aXNpw6fDtWVzIMOgIEFQSSBkbyBBc2Fhc1xyXG5hc3luYyBmdW5jdGlvbiBhc2Fhc1JlcXVlc3QoZW5kcG9pbnQ6IHN0cmluZywgbWV0aG9kID0gXCJQT1NUXCIsIGRhdGE/OiBhbnkpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvYXNhYXMvcHJveHlcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW5kcG9pbnQsIG1ldGhvZCwgZGF0YSB9KSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiByZXNwb25zZURhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIG5hIHJlcXVpc2nDp8OjbyBBc2FhczpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IHRydWUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIGludGVyYWdpciBjb20gYSBBUEkgZG8gQXNhYXNcclxuXHJcbi8vIENyaWFyIG91IGF0dWFsaXphciBjbGllbnRlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUN1c3RvbWVyKFxyXG4gIGN1c3RvbWVyRGF0YTogQXNhYXNDdXN0b21lclxyXG4pOiBQcm9taXNlPEFzYWFzQ3VzdG9tZXI+IHtcclxuICAvLyBWZXJpZmljYXIgc2UgbyBjbGllbnRlIGrDoSBleGlzdGUgcGVsbyBDUEYvQ05QSlxyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlZlcmlmaWNhbmRvIGNsaWVudGUgbm8gQXNhYXM6XCIsIGN1c3RvbWVyRGF0YSk7XHJcbiAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBhd2FpdCBhc2Fhc1JlcXVlc3QoXHJcbiAgICAgIGAvY3VzdG9tZXJzP2NwZkNucGo9JHtjdXN0b21lckRhdGEuY3BmQ25wan1gXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChzZWFyY2hSZXN1bHQuZGF0YSAmJiBzZWFyY2hSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIENsaWVudGUgasOhIGV4aXN0ZSwgYXR1YWxpemFyXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ3VzdG9tZXIgPSBzZWFyY2hSZXN1bHQuZGF0YVswXTtcclxuICAgICAgY29uc29sZS5sb2coXCJDbGllbnRlIGVuY29udHJhZG86XCIsIGV4aXN0aW5nQ3VzdG9tZXIpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFxyXG4gICAgICAgIGAvY3VzdG9tZXJzLyR7ZXhpc3RpbmdDdXN0b21lci5pZH1gLFxyXG4gICAgICAgIFwiUFVUXCIsXHJcbiAgICAgICAgY3VzdG9tZXJEYXRhXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDbGllbnRlIG7Do28gZXhpc3RlLCBjcmlhclxyXG4gICAgICBjb25zb2xlLmxvZyhcIkNsaWVudGUgbsOjbyBlbmNvbnRyYWRvLCBjcmlhbmRvLi4uXCIpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFwiL2N1c3RvbWVyc1wiLCBcIlBPU1RcIiwgY3VzdG9tZXJEYXRhKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY3JpYXIvYXR1YWxpemFyIGNsaWVudGUgbm8gQXNhYXM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JpYXIgY29icmFuw6dhXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQYXltZW50KHBheW1lbnREYXRhOiBBc2Fhc1BheW1lbnQpOiBQcm9taXNlPGFueT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFwiL3BheW1lbnRzXCIsIFwiUE9TVFwiLCBwYXltZW50RGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGNyaWFyIGNvYnJhbsOnYSBubyBBc2FhczpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBPYnRlciBRUiBDb2RlIFBJWFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGl4UXJDb2RlKHBheW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxBc2Fhc1BpeFFyQ29kZT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFxyXG4gICAgICBgL3BheW1lbnRzLyR7cGF5bWVudElkfS9iaWxsaW5nSW5mb2AsXHJcbiAgICAgIFwiR0VUXCIsXHJcbiAgICAgIG51bGxcclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIG9idGVyIFFSIENvZGUgUElYOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIE9idGVyIGxpbmsgZGUgcGFnYW1lbnRvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXltZW50TGluayhwYXltZW50SWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCBhc2Fhc1JlcXVlc3QoYC9wYXltZW50cy8ke3BheW1lbnRJZH1gKTtcclxuICAgIHJldHVybiBwYXltZW50Lmludm9pY2VVcmw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIG9idGVyIGxpbmsgZGUgcGFnYW1lbnRvOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIFZlcmlmaWNhciBzdGF0dXMgZGUgcGFnYW1lbnRvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1BheW1lbnRTdGF0dXMocGF5bWVudElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXltZW50ID0gYXdhaXQgYXNhYXNSZXF1ZXN0KFxyXG4gICAgICBgL3BheW1lbnRzLyR7cGF5bWVudElkfS9zdGF0dXNgLFxyXG4gICAgICBcIkdFVFwiLFxyXG4gICAgICBudWxsXHJcbiAgICApO1xyXG4gICAgLy8gU2UgbyBwYWdhbWVudG8gbsOjbyBleGlzdGlyIG91IGVzdGl2ZXIgbnVsbywgc2lnbmlmaWNhIHF1ZSBmb2kgZXhjbHXDrWRvXHJcbiAgICBpZiAoIXBheW1lbnQgfHwgcGF5bWVudC5lcnJvcikge1xyXG4gICAgICByZXR1cm4gXCJleGNsdWlkb1wiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBheW1lbnQuc3RhdHVzO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIC8vIFNlIG8gZXJybyBmb3IgNDA0IChuw6NvIGVuY29udHJhZG8pLCBzaWduaWZpY2EgcXVlIG8gcGFnYW1lbnRvIGZvaSBleGNsdcOtZG9cclxuICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgcmV0dXJuIFwiZXhjbHVpZG9cIjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIHZlcmlmaWNhciBzdGF0dXMgZG8gcGFnYW1lbnRvOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIENhbmNlbGFyIGNvYnJhbsOnYVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsUGF5bWVudChwYXltZW50SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBhc2Fhc1JlcXVlc3QoYC9wYXltZW50cy8ke3BheW1lbnRJZH1gLCBcIkRFTEVURVwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY2FuY2VsYXIgY29icmFuw6dhOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgZm9ybWF0YXIgQ1BGL0NOUEogKHJlbW92ZXIgY2FyYWN0ZXJlcyBlc3BlY2lhaXMpXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRDcGZDbnBqKGNwZkNucGo6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGNwZkNucGoucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpO1xyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGZvcm1hdGFyIHRlbGVmb25lIChyZW1vdmVyIGNhcmFjdGVyZXMgZXNwZWNpYWlzKVxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHBob25lLnJlcGxhY2UoL1teXFxkXS9nLCBcIlwiKTtcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBmb3JtYXRhciBDRVAgKHJlbW92ZXIgY2FyYWN0ZXJlcyBlc3BlY2lhaXMpXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRDZXAoY2VwOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBjZXAucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJhc2Fhc1JlcXVlc3QiLCJlbmRwb2ludCIsIm1ldGhvZCIsImRhdGEiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2VEYXRhIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJjcmVhdGVPclVwZGF0ZUN1c3RvbWVyIiwiY3VzdG9tZXJEYXRhIiwibG9nIiwic2VhcmNoUmVzdWx0IiwiY3BmQ25waiIsImxlbmd0aCIsImV4aXN0aW5nQ3VzdG9tZXIiLCJpZCIsImNyZWF0ZVBheW1lbnQiLCJwYXltZW50RGF0YSIsImdldFBpeFFyQ29kZSIsInBheW1lbnRJZCIsImdldFBheW1lbnRMaW5rIiwicGF5bWVudCIsImludm9pY2VVcmwiLCJjaGVja1BheW1lbnRTdGF0dXMiLCJzdGF0dXMiLCJjYW5jZWxQYXltZW50IiwiZm9ybWF0Q3BmQ25waiIsInJlcGxhY2UiLCJmb3JtYXRQaG9uZSIsInBob25lIiwiZm9ybWF0Q2VwIiwiY2VwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/asaas.ts\n");

/***/ }),

/***/ "(ssr)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adicionarItemCarrinho: () => (/* binding */ adicionarItemCarrinho),\n/* harmony export */   atualizarCarrinhoUsuario: () => (/* binding */ atualizarCarrinhoUsuario),\n/* harmony export */   atualizarQuantidadeCarrinho: () => (/* binding */ atualizarQuantidadeCarrinho),\n/* harmony export */   atualizarStatusPedido: () => (/* binding */ atualizarStatusPedido),\n/* harmony export */   cancelarPedido: () => (/* binding */ cancelarPedido),\n/* harmony export */   checkStatusPedido: () => (/* binding */ checkStatusPedido),\n/* harmony export */   criarPedido: () => (/* binding */ criarPedido),\n/* harmony export */   criarPedidoNovo: () => (/* binding */ criarPedidoNovo),\n/* harmony export */   getAlturasByTamanhoId: () => (/* binding */ getAlturasByTamanhoId),\n/* harmony export */   getCalculos: () => (/* binding */ getCalculos),\n/* harmony export */   getCalculosUsuario: () => (/* binding */ getCalculosUsuario),\n/* harmony export */   getCarrinhoUsuario: () => (/* binding */ getCarrinhoUsuario),\n/* harmony export */   getLargurasByAlturaId: () => (/* binding */ getLargurasByAlturaId),\n/* harmony export */   getPacoteByLarguraId: () => (/* binding */ getPacoteByLarguraId),\n/* harmony export */   getPacoteByProdutoNome: () => (/* binding */ getPacoteByProdutoNome),\n/* harmony export */   getPacoteValido: () => (/* binding */ getPacoteValido),\n/* harmony export */   getPedidos: () => (/* binding */ getPedidos),\n/* harmony export */   getPedidosCliente: () => (/* binding */ getPedidosCliente),\n/* harmony export */   getProduto: () => (/* binding */ getProduto),\n/* harmony export */   getProdutos: () => (/* binding */ getProdutos),\n/* harmony export */   getRevendedoresComProduto: () => (/* binding */ getRevendedoresComProduto),\n/* harmony export */   getRevendedoresParaProdutos: () => (/* binding */ getRevendedoresParaProdutos),\n/* harmony export */   getTamanhos: () => (/* binding */ getTamanhos),\n/* harmony export */   getUserInfo: () => (/* binding */ getUserInfo),\n/* harmony export */   getUsuarioIdRevendedor: () => (/* binding */ getUsuarioIdRevendedor),\n/* harmony export */   limparCarrinhoUsuario: () => (/* binding */ limparCarrinhoUsuario),\n/* harmony export */   registrarMudancaStatus: () => (/* binding */ registrarMudancaStatus),\n/* harmony export */   removerItemCarrinho: () => (/* binding */ removerItemCarrinho),\n/* harmony export */   salvarCalculo: () => (/* binding */ salvarCalculo),\n/* harmony export */   salvarCalculoUsuario: () => (/* binding */ salvarCalculoUsuario)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _lib_asaas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/asaas */ \"(ssr)/./lib/asaas.ts\");\n\n\n// Funções para produtos\nasync function getProdutos() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"produtos\").select(\"*\").order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function getProduto(id) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"produtos\").select(\"*\").eq(\"id\", id).single();\n    return {\n        data,\n        error\n    };\n}\n// Funções para cálculos\nasync function salvarCalculo(tamanhoRoda, altura, largura, resultado, cor) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculos\").insert([\n        {\n            tamanho_roda: tamanhoRoda,\n            altura: altura,\n            largura: largura,\n            resultado: resultado,\n            cor: cor\n        }\n    ]).select();\n    return {\n        data,\n        error\n    };\n}\n// Nova função para salvar cálculos do usuário com limite de 10\nasync function salvarCalculoUsuario(userId, tamanho, altura, largura, pacote) {\n    try {\n        // 1. Verificar quantos cálculos o usuário já tem\n        const { data: calculos, error: contarError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").select(\"id, created_at\").eq(\"userid\", userId).order(\"created_at\", {\n            ascending: true\n        });\n        if (contarError) {\n            console.error(\"Erro ao contar cálculos do usuário:\", contarError);\n            return {\n                data: null,\n                error: contarError\n            };\n        }\n        // 2. Se já tiver 10 ou mais, excluir o mais antigo\n        if (calculos && calculos.length >= 10) {\n            const calculoMaisAntigo = calculos[0];\n            const { error: deleteError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").delete().eq(\"id\", calculoMaisAntigo.id);\n            if (deleteError) {\n                console.error(\"Erro ao excluir cálculo mais antigo:\", deleteError);\n                return {\n                    data: null,\n                    error: deleteError\n                };\n            }\n        }\n        // 3. Inserir o novo cálculo\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").insert([\n            {\n                userid: userId,\n                tamanho: tamanho,\n                altura: altura,\n                largura: largura,\n                pacote: pacote,\n                created_at: new Date()\n            }\n        ]).select();\n        if (error) {\n            console.error(\"Erro ao salvar cálculo do usuário:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao salvar cálculo do usuário:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Função para obter os cálculos do usuário\nasync function getCalculosUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").select(\"*\").eq(\"userid\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function getCalculos(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculos\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Funções para pedidos\nasync function criarPedido(userId, items, total, tipoEntrega = \"retirada\", metodoPagamento = \"cartao\", dadosAdicionais = {}) {\n    try {\n        // Criar o pedido\n        const { data: pedido, error: pedidoError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").insert([\n            {\n                user_id: userId,\n                total: total,\n                tipo_entrega: tipoEntrega,\n                pagamento_tipo: metodoPagamento,\n                status: \"pendente\",\n                dados_adicionais: dadosAdicionais\n            }\n        ]).select().single();\n        if (pedidoError) throw pedidoError;\n        // Inserir os itens do pedido\n        const itens = items.map((item)=>({\n                pedido_id: pedido.id,\n                produto_nome: item.nome,\n                quantidade: item.quantidade,\n                preco_unitario: item.preco,\n                revendedor_id: item.revendedor_id\n            }));\n        const { error: itensError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"itens_pedido\").insert(itens);\n        if (itensError) throw itensError;\n        return {\n            data: pedido,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao criar pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Remover as funções getClienteByUsuarioId e garantirCliente que estavam criando uma tabela clientes desnecessária\n// Função para buscar pacote baseado no nome do produto\nasync function getPacoteByProdutoNome(produtoNome) {\n    try {\n        // Mapear nomes de produtos para pacotes\n        // Você pode ajustar essa lógica conforme sua regra de negócio\n        const mapeamentoProdutos = {\n            \"Microesferas Azul\": 1,\n            \"Microesferas Vermelha\": 2,\n            \"Microesferas Verde\": 3,\n            \"Microesferas Amarela\": 4,\n            \"Microesferas Preta\": 5,\n            \"Microesferas Branca\": 6\n        };\n        // Se existe um mapeamento direto, usar ele\n        if (mapeamentoProdutos[produtoNome]) {\n            return {\n                data: mapeamentoProdutos[produtoNome],\n                error: null\n            };\n        }\n        // Caso contrário, tentar buscar por nome similar\n        const { data: pacotes, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id, nome, cor\").ilike(\"nome\", `%${produtoNome}%`).limit(1);\n        if (error) {\n            console.error(\"Erro ao buscar pacote por nome:\", error);\n            return {\n                data: 1,\n                error: null\n            }; // Fallback para ID 1\n        }\n        if (pacotes && pacotes.length > 0) {\n            return {\n                data: pacotes[0].id,\n                error: null\n            };\n        }\n        // Se não encontrou nada, tentar buscar por cor\n        const cores = [\n            \"azul\",\n            \"vermelha\",\n            \"verde\",\n            \"amarela\",\n            \"preta\",\n            \"branca\"\n        ];\n        for (const cor of cores){\n            if (produtoNome.toLowerCase().includes(cor)) {\n                const { data: pacotePorCor, error: errorCor } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id\").ilike(\"cor\", `%${cor}%`).limit(1);\n                if (!errorCor && pacotePorCor && pacotePorCor.length > 0) {\n                    return {\n                        data: pacotePorCor[0].id,\n                        error: null\n                    };\n                }\n            }\n        }\n        // Fallback final\n        return {\n            data: 1,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        return {\n            data: 1,\n            error: null\n        };\n    }\n}\n// Função para buscar um pacote válido (por enquanto retorna o primeiro disponível)\nasync function getPacoteValido() {\n    try {\n        const { data: pacotes, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id\").limit(1);\n        if (error) {\n            console.error(\"Erro ao buscar pacote:\", error);\n            return 1; // Fallback para ID 1\n        }\n        return pacotes && pacotes.length > 0 ? pacotes[0].id : 1;\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        return 1; // Fallback para ID 1\n    }\n}\n// Função para registrar mudança de status no histórico\nasync function registrarMudancaStatus(pedidoId, statusAnterior, statusNovo, observacao, updatedBy) {\n    try {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedido_historico_status\").insert([\n            {\n                pedido_id: pedidoId,\n                status_anterior: statusAnterior,\n                status_novo: statusNovo,\n                observacao: observacao,\n                updated_by: updatedBy\n            }\n        ]).select();\n        if (error) {\n            console.error(\"Erro ao registrar mudança de status:\", error);\n        }\n        return {\n            data,\n            error\n        };\n    } catch (error) {\n        console.error(\"Erro ao registrar mudança de status:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Substituir a função criarPedidoNovo por esta versão corrigida:\nasync function criarPedidoNovo(userId, revendedorId, items, valorTotal, frete, tipoEntrega, metodoPagamento) {\n    try {\n        console.log(\"Iniciando criação do pedido para usuário:\", userId);\n        console.log(\"Revendedor ID:\", revendedorId);\n        console.log(\"Items:\", items);\n        console.log(\"Valor Total:\", valorTotal);\n        console.log(\"Frete:\", frete);\n        console.log(\"Tipo de Entrega:\", tipoEntrega);\n        console.log(\"Método de Pagamento:\", metodoPagamento);\n        // Converter userId para número\n        const clienteId = Number.parseInt(userId);\n        // Buscar o usuario_id do revendedor baseado no revendedor_id\n        const { data: revendedorUsuarioId, error: revendedorError } = await getUsuarioIdRevendedor(revendedorId);\n        if (revendedorError || !revendedorUsuarioId) {\n            throw new Error(\"Erro ao buscar revendedor: \" + (revendedorError?.message || \"Revendedor não encontrado\"));\n        }\n        console.log(\"Cliente ID:\", clienteId);\n        console.log(\"Revendedor ID:\", revendedorId);\n        console.log(\"Revendedor Usuario ID:\", revendedorUsuarioId);\n        // Gerar número do pedido único\n        const numeroPedido = `PED-${Date.now()}-${Math.random().toString(36).substr(2, 4).toUpperCase()}`;\n        // Definir status inicial baseado no tipo de entrega\n        const statusInicial = tipoEntrega === \"retirada\" ? \"aguardando_preparacao\" : \"aguardando_aceite\";\n        // Criar o pedido usando o schema correto\n        const user = await getUserInfo(clienteId.toString());\n        console.log(\"User:\", user);\n        if (!user.data) {\n            throw new Error(\"Usuário não encontrado\");\n        }\n        if (!user.data?.nome || !user.data?.email || !user.data?.telefone || !user.data?.cpf) {\n            throw new Error(\"Dados do usuário incompletos\");\n        }\n        const cliente = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.createOrUpdateCustomer)({\n            name: user.data?.nome + \" \" + user.data?.sobrenome,\n            email: user.data?.email,\n            phone: user.data?.telefone,\n            mobilePhone: user.data?.telefone,\n            cpfCnpj: user.data?.cpf,\n            postalCode: user.data?.cep,\n            address: user.data?.rua,\n            addressNumber: user.data?.numero,\n            complement: user.data?.complemento,\n            province: user.data?.bairro,\n            city: user.data?.cidade,\n            state: user.data?.uf,\n            externalReference: user.data?.id.toString()\n        });\n        console.log(\"Cliente criado:\", cliente);\n        const pagamentoData = {\n            billingType: metodoPagamento,\n            customer: cliente.id,\n            value: Number(valorTotal) + Number(frete),\n            dueDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n            description: `#${numeroPedido}`\n        };\n        if (metodoPagamento === \"CREDIT_CARD\") {\n            pagamentoData.creditCard = {\n                holderName: user.data.nome + \" \" + user.data.sobrenome,\n                number: \"4111111111111111\",\n                expiryMonth: \"12\",\n                expiryYear: \"2025\",\n                ccv: \"123\"\n            };\n            pagamentoData.installmentCount = 1;\n            pagamentoData.totalValue = Number(valorTotal) + Number(frete);\n            pagamentoData.installmentValue = Number(valorTotal) + Number(frete);\n            pagamentoData.discount = {\n                value: 0,\n                dueDateLimitDays: 0,\n                type: \"FIXED\"\n            };\n            pagamentoData.interest = {\n                value: 0\n            };\n            pagamentoData.fine = {\n                value: 0\n            };\n            pagamentoData.creditCardHolderInfo = {\n                name: user.data.nome + \" \" + user.data.sobrenome,\n                email: user.data.email,\n                cpfCnpj: user.data.cpf,\n                postalCode: user.data.cep,\n                addressNumber: user.data.numero,\n                addressComplement: user.data.complemento || \"\",\n                phone: user.data.telefone,\n                mobilePhone: user.data.telefone\n            };\n            pagamentoData.remoteIp = \"127.0.0.1\";\n        }\n        const pagamento = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.createPayment)(pagamentoData);\n        console.log(\"Pagamento criado:\", pagamento);\n        if (!pagamento.id) {\n            throw new Error(\"Erro ao criar pagamento no Asaas\");\n        }\n        let dadosPagamento = null;\n        if (metodoPagamento === \"PIX\" || metodoPagamento === \"BOLETO\") {\n            dadosPagamento = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.getPixQrCode)(pagamento.id);\n            console.log(\"QR Code PIX:\", dadosPagamento);\n        }\n        let pix = null;\n        let boleto = null;\n        if (dadosPagamento) {\n            pix = dadosPagamento.pix;\n            boleto = dadosPagamento.bankSlip;\n        }\n        const { data: pedido, error: pedidoError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").insert([\n            {\n                cliente_id: clienteId,\n                revendedor_id: revendedorUsuarioId,\n                numero: numeroPedido,\n                frete: frete,\n                valor_total: valorTotal,\n                pagamento_tipo: metodoPagamento,\n                tipo_entrega: tipoEntrega,\n                status: \"pendente\",\n                status_detalhado: statusInicial,\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString(),\n                pagamento_id: pagamento.id\n            }\n        ]).select().single();\n        if (pedidoError) {\n            console.error(\"Erro ao criar pedido:\", pedidoError);\n            throw pedidoError;\n        }\n        // Registrar o status inicial no histórico\n        await registrarMudancaStatus(pedido.id, null, statusInicial, \"Pedido criado\", null);\n        // Preparar itens para inserção com pacote_id correto para cada item\n        const itensParaInserir = await Promise.all(items.map(async (item, index)=>{\n            // Buscar o pacote_id correto baseado no nome do produto\n            const { data: pacoteId } = await getPacoteByProdutoNome(item.nome);\n            const itemParaInserir = {\n                pedido_id: pedido.id,\n                pacote_id: pacoteId,\n                qtd: Number(item.quantidade) || 0,\n                valor_unitario: Number(item.preco) || 0\n            };\n            console.log(`Item ${index + 1} preparado:`, itemParaInserir);\n            console.log(`Produto: ${item.nome} -> Pacote ID: ${pacoteId}`);\n            return itemParaInserir;\n        }));\n        console.log(\"Todos os itens preparados:\", itensParaInserir);\n        // Inserir os itens do pedido\n        const { data: itensInseridos, error: itensError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedido_itens\").insert(itensParaInserir).select();\n        if (itensError) {\n            console.error(\"Erro detalhado ao inserir itens do pedido:\", itensError);\n            console.error(\"Dados que tentamos inserir:\", itensParaInserir);\n            throw itensError;\n        }\n        console.log(\"Itens inseridos com sucesso:\", itensInseridos);\n        console.log(\"Pagamento criado com sucesso:\", pix);\n        console.log(\"Pagamento criado com sucesso:\", boleto);\n        console.log(\"Pagamento criado com sucesso:\", pagamento.id);\n        return {\n            data: pedido,\n            pix,\n            boleto,\n            pagamentoId: pagamento.id,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao criar pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Função para atualizar status do pedido\nasync function atualizarStatusPedido(pedidoId, novoStatus, dataEstimada, observacoes, updatedBy) {\n    try {\n        // Primeiro, buscar o status atual\n        const { data: pedidoAtual, error: errorBusca } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(\"status_detalhado\").eq(\"id\", pedidoId).single();\n        if (errorBusca) {\n            throw errorBusca;\n        }\n        // Preparar dados para atualização\n        const dadosAtualizacao = {\n            status_detalhado: novoStatus,\n            updated_at: new Date().toISOString()\n        };\n        if (dataEstimada) {\n            dadosAtualizacao.data_estimada_entrega = dataEstimada;\n        }\n        if (observacoes) {\n            dadosAtualizacao.observacoes_revendedor = observacoes;\n        }\n        // Se o status for \"entregue\" ou \"retirado\", definir data real\n        if (novoStatus === \"entregue\" || novoStatus === \"retirado\") {\n            dadosAtualizacao.data_entrega_real = new Date().toISOString();\n        }\n        // Atualizar o pedido\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").update(dadosAtualizacao).eq(\"id\", pedidoId).select();\n        if (error) {\n            throw error;\n        }\n        // Registrar mudança no histórico\n        await registrarMudancaStatus(pedidoId, pedidoAtual.status_detalhado, novoStatus, observacoes, updatedBy);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao atualizar status do pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function getPedidos(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(`\n      *,\n      itens_pedido:itens_pedido(\n        *,\n        produto:produtos(*)\n      )\n    `).eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Substituir a função getPedidosCliente por esta versão corrigida:\nasync function getPedidosCliente(userId) {\n    try {\n        console.log(\"Buscando pedidos para usuário:\", userId);\n        // Converter userId para número\n        const clienteId = Number.parseInt(userId);\n        // Buscar pedidos usando o cliente_id diretamente\n        const { data: pedidos, error: pedidosError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(`\n        *,\n        pedido_itens:pedido_itens(\n          id,\n          pedido_id,\n          pacote_id,\n          qtd,\n          valor_unitario,\n          pacotes:pacotes(id, descricao, cor, imagem)\n        )\n      `).eq(\"cliente_id\", clienteId) // Corrigido: cliente_id em vez de client_id\n        .order(\"created_at\", {\n            ascending: false\n        });\n        console.log(\"Pedidos encontrados:\", pedidos?.length || 0);\n        if (pedidosError) {\n            console.error(\"Erro ao buscar pedidos:\", pedidosError);\n            throw pedidosError;\n        }\n        return {\n            data: pedidos || [],\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pedidos do cliente:\", error);\n        return {\n            data: [],\n            error\n        };\n    }\n}\n// Função para buscar tamanhos de rodas disponíveis\nasync function getTamanhos() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"tamanhos\").select(\"id, nome\").order(\"nome\", {\n        ascending: true\n    });\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar alturas disponíveis com base no tamanho da roda\nasync function getAlturasByTamanhoId(tamanhoId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"alturas\").select(\"id, valor\").eq(\"tamanho_id\", tamanhoId).order(\"valor\", {\n        ascending: true\n    });\n    // Remover duplicatas baseado no valor\n    if (data && data.length > 0) {\n        const uniqueAlturas = data.reduce((acc, current)=>{\n            const exists = acc.find((item)=>item.valor === current.valor);\n            if (!exists) {\n                acc.push(current);\n            }\n            return acc;\n        }, []);\n        return {\n            data: uniqueAlturas,\n            error\n        };\n    }\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar larguras based on altura_id\nasync function getLargurasByAlturaId(alturaId) {\n    console.log(\"🔍 Buscando larguras para alturaId:\", alturaId);\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"larguras\").select(\"id, valor\").eq(\"altura_id\", alturaId).order(\"valor\", {\n        ascending: true\n    });\n    // Remover duplicatas baseado no valor\n    if (data && data.length > 0) {\n        const uniqueLarguras = data.reduce((acc, current)=>{\n            const exists = acc.find((item)=>item.valor === current.valor);\n            if (!exists) {\n                acc.push(current);\n            }\n            return acc;\n        }, []);\n        console.log(\"📏 Larguras únicas encontradas:\", {\n            data: uniqueLarguras,\n            error\n        });\n        return {\n            data: uniqueLarguras,\n            error\n        };\n    }\n    console.log(\"📏 Larguras encontradas:\", {\n        data,\n        error\n    });\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar package details by largura_id\nasync function getPacoteByLarguraId(larguraId) {\n    try {\n        console.log(\"🔍 Buscando pacote para larguraId:\", larguraId);\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"*\").eq(\"largura_id\", larguraId).single();\n        console.log(\"📦 Resultado da busca:\", {\n            data,\n            error\n        });\n        if (error) {\n            console.error(\"❌ Erro ao buscar pacote por largura_id:\", error);\n            // Fallback: retornar um pacote padrão\n            return {\n                data: {\n                    id: 1,\n                    nome: \"LTP60\",\n                    cor: \"#4A4953\"\n                },\n                error: null\n            };\n        }\n        if (!data) {\n            console.log(\"Nenhum pacote encontrado para largura_id:\", larguraId);\n            // Fallback: retornar um pacote padrão\n            return {\n                data: {\n                    id: 1,\n                    nome: \"LTP60\",\n                    cor: \"#4A4953\"\n                },\n                error: null\n            };\n        }\n        // Ajustar dados se nome estiver null\n        const pacoteAjustado = {\n            id: data.id,\n            nome: data.nome || data.descricao || \"LTP60\",\n            cor: data.cor || \"#949698\"\n        };\n        return {\n            data: pacoteAjustado,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        // Fallback: retornar um pacote padrão\n        return {\n            data: {\n                id: 1,\n                nome: \"LTP60\",\n                cor: \"#4A4953\"\n            },\n            error: null\n        };\n    }\n}\n// ==================== FUNÇÕES DO CARRINHO ====================\n// Buscar carrinho do usuário\nasync function getCarrinhoUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Adicionar item ao carrinho\nasync function adicionarItemCarrinho(userId, produtoNome, quantidade = 5, imagem) {\n    // Ensure quantity is a multiple of 5 and at least 5\n    const adjustedQuantity = Math.max(Math.round(quantidade / 5) * 5, 5);\n    // Verificar se o item já existe no carrinho\n    const { data: itemExistente, error: errorBusca } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").select(\"*\").eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome).single();\n    if (errorBusca && errorBusca.code !== \"PGRST116\") {\n        // PGRST116 = No rows found (esperado se item não existe)\n        return {\n            data: null,\n            error: errorBusca\n        };\n    }\n    if (itemExistente) {\n        // Item já existe, adicionar 5 unidades\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").update({\n            quantidade: itemExistente.quantidade + 5,\n            updated_at: new Date().toISOString()\n        }).eq(\"id\", itemExistente.id).select();\n        return {\n            data,\n            error\n        };\n    } else {\n        // Item não existe, criar novo com quantidade ajustada\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").insert([\n            {\n                user_id: userId,\n                produto_nome: produtoNome,\n                quantidade: adjustedQuantity,\n                imagem: imagem\n            }\n        ]).select();\n        return {\n            data,\n            error\n        };\n    }\n}\n// Atualizar quantidade de item no carrinho\nasync function atualizarQuantidadeCarrinho(userId, produtoNome, quantidade) {\n    // Ensure quantity is a multiple of 5 and at least 5\n    const adjustedQuantity = Math.max(Math.round(quantidade / 5) * 5, 5);\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").update({\n        quantidade: adjustedQuantity,\n        updated_at: new Date().toISOString()\n    }).eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome).select();\n    return {\n        data,\n        error\n    };\n}\n// Remover item do carrinho\nasync function removerItemCarrinho(userId, produtoNome) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").delete().eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome);\n    return {\n        data,\n        error\n    };\n}\n// Limpar carrinho do usuário\nasync function limparCarrinhoUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").delete().eq(\"user_id\", userId);\n    return {\n        data,\n        error\n    };\n}\n// Atualizar carrinho completo do usuário\nasync function atualizarCarrinhoUsuario(userId, items) {\n    try {\n        // Primeiro, limpar o carrinho atual\n        await limparCarrinhoUsuario(userId);\n        // Se não há itens, apenas retornar sucesso\n        if (!items || items.length === 0) {\n            return {\n                data: null,\n                error: null\n            };\n        }\n        // Inserir todos os novos itens\n        const itensParaInserir = items.map((item)=>({\n                user_id: userId,\n                produto_nome: item.nome,\n                quantidade: item.quantidade,\n                imagem: item.imagem,\n                created_at: new Date().toISOString()\n            }));\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").insert(itensParaInserir).select();\n        return {\n            data,\n            error\n        };\n    } catch (error) {\n        console.error(\"Erro ao atualizar carrinho:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// ==================== FUNÇÕES DE REVENDEDORES E ESTOQUE ====================\n// Buscar revendedores que possuem um produto específico em estoque\nasync function getRevendedoresComProduto(produtoNome) {\n    // Usando JOIN manual em vez de relacionamento\n    const { data: estoque, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedor_estoque\").select(`\n      id,\n      revendedor_id,\n      produto,\n      quantidade,\n      preco,\n      status\n    `).eq(\"produto\", produtoNome).gt(\"quantidade\", 0); // Apenas com estoque disponível\n    if (error) {\n        return {\n            data: null,\n            error\n        };\n    }\n    // Buscar informações dos revendedores\n    const revendedorIds = estoque?.map((item)=>item.revendedor_id) || [];\n    if (revendedorIds.length === 0) {\n        return {\n            data: [],\n            error: null\n        };\n    }\n    const { data: revendedores, error: revendedoresError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(`\n      id,\n      usuario_id,\n      loja,\n      cidade,\n      uf,\n      frete,\n      vendas,\n      status\n    `).in(\"id\", revendedorIds);\n    if (revendedoresError) {\n        return {\n            data: null,\n            error: revendedoresError\n        };\n    }\n    // Combinar os dados\n    const resultado = estoque?.map((item)=>{\n        const revendedor = revendedores?.find((r)=>r.id === item.revendedor_id);\n        return {\n            ...item,\n            revendedor: revendedor || null\n        };\n    }).filter((item)=>item.revendedor !== null) || [];\n    // Ordenar por preço\n    resultado.sort((a, b)=>a.preco - b.preco);\n    return {\n        data: resultado,\n        error: null\n    };\n}\n// Buscar revendedores para múltiplos produtos\nasync function getRevendedoresParaProdutos(produtoNomes) {\n    if (!produtoNomes.length) return {\n        data: {},\n        error: null\n    };\n    // Buscar todos os produtos de uma vez\n    const { data: estoque, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedor_estoque\").select(`\n      id,\n      revendedor_id,\n      produto,\n      quantidade,\n      preco,\n      status\n    `).in(\"produto\", produtoNomes).gt(\"quantidade\", 0); // Apenas com estoque disponível\n    if (error) {\n        return {\n            data: {},\n            error\n        };\n    }\n    if (!estoque || estoque.length === 0) {\n        return {\n            data: {},\n            error: null\n        };\n    }\n    // Buscar informações dos revendedores\n    const revendedorIds = [\n        ...new Set(estoque.map((item)=>item.revendedor_id))\n    ];\n    const { data: revendedores, error: revendedoresError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(`\n      id,\n      usuario_id,\n      loja,\n      cidade,\n      uf,\n      frete,\n      vendas,\n      status\n    `).in(\"id\", revendedorIds);\n    if (revendedoresError) {\n        return {\n            data: {},\n            error: revendedoresError\n        };\n    }\n    // Combinar os dados e agrupar por produto\n    const produtosAgrupados = {};\n    produtoNomes.forEach((produtoNome)=>{\n        const produtoEstoque = estoque.filter((item)=>item.produto === produtoNome).map((item)=>{\n            const revendedor = revendedores?.find((r)=>r.id === item.revendedor_id);\n            return revendedor ? {\n                ...item,\n                revendedor\n            } : null;\n        }).filter((item)=>item !== null);\n        // Ordenar por preço\n        produtoEstoque.sort((a, b)=>a.preco - b.preco);\n        produtosAgrupados[produtoNome] = produtoEstoque;\n    });\n    return {\n        data: produtosAgrupados,\n        error: null\n    };\n}\n// Buscar informações do usuário\nasync function getUserInfo(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"usuarios\").select(\"id, nome, sobrenome, email, cpf, telefone, cidade, uf, cep, rua, bairro, complemento, numero\").eq(\"id\", userId).single();\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar usuario_id do revendedor baseado no revendedor_id\nasync function getUsuarioIdRevendedor(revendedorId) {\n    try {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(\"usuario_id\").eq(\"id\", revendedorId).single();\n        if (error) {\n            console.error(\"Erro ao buscar usuario_id do revendedor:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data: data.usuario_id,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar usuario_id do revendedor:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function checkStatusPedido(id) {\n    try {\n        console.log(\"Iniciando criação do pedido para usuário:\", id);\n        if (!id) {\n            throw new Error(\"ID do pagamento não encontrado\");\n        }\n        const status = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.checkPaymentStatus)(id);\n        console.log(\"Status do pagamento:\", status);\n        return {\n            data: status,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar status do pagamento:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function cancelarPedido(id) {\n    try {\n        console.log(\"Iniciando criação do pedido para usuário:\", id);\n        if (!id) {\n            throw new Error(\"ID do pagamento não encontrado\");\n        }\n        const response = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.cancelPayment)(id);\n        console.log(\"Status do pagamento:\", response);\n        return {\n            data: response,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar status do pagamento:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvZGF0YWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFPakI7QUFFckIsd0JBQXdCO0FBQ2pCLGVBQWVNO0lBQ3BCLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsS0FDUEMsS0FBSyxDQUFDLGNBQWM7UUFBRUMsV0FBVztJQUFNO0lBRTFDLE9BQU87UUFBRUw7UUFBTUM7SUFBTTtBQUN2QjtBQUVPLGVBQWVLLFdBQVdDLEVBQVU7SUFDekMsTUFBTSxFQUFFUCxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLCtDQUFRQSxDQUNuQ1MsSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQyxLQUNQSyxFQUFFLENBQUMsTUFBTUQsSUFDVEUsTUFBTTtJQUVULE9BQU87UUFBRVQ7UUFBTUM7SUFBTTtBQUN2QjtBQUVBLHdCQUF3QjtBQUNqQixlQUFlUyxjQUNwQkMsV0FBbUIsRUFDbkJDLE1BQWMsRUFDZEMsT0FBZSxFQUNmQyxTQUFpQixFQUNqQkMsR0FBVztJQUVYLE1BQU0sRUFBRWYsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxZQUNMYyxNQUFNLENBQUM7UUFDTjtZQUNFQyxjQUFjTjtZQUNkQyxRQUFRQTtZQUNSQyxTQUFTQTtZQUNUQyxXQUFXQTtZQUNYQyxLQUFLQTtRQUNQO0tBQ0QsRUFDQVosTUFBTTtJQUVULE9BQU87UUFBRUg7UUFBTUM7SUFBTTtBQUN2QjtBQUVBLCtEQUErRDtBQUN4RCxlQUFlaUIscUJBQ3BCQyxNQUFjLEVBQ2RDLE9BQWUsRUFDZlIsTUFBYyxFQUNkQyxPQUFlLEVBQ2ZRLE1BQWM7SUFFZCxJQUFJO1FBQ0YsaURBQWlEO1FBQ2pELE1BQU0sRUFBRXJCLE1BQU1zQixRQUFRLEVBQUVyQixPQUFPc0IsV0FBVyxFQUFFLEdBQUcsTUFBTTlCLCtDQUFRQSxDQUMxRFMsSUFBSSxDQUFDLG9CQUNMQyxNQUFNLENBQUMsa0JBQ1BLLEVBQUUsQ0FBQyxVQUFVVyxRQUNiZixLQUFLLENBQUMsY0FBYztZQUFFQyxXQUFXO1FBQUs7UUFFekMsSUFBSWtCLGFBQWE7WUFDZkMsUUFBUXZCLEtBQUssQ0FBQyx1Q0FBdUNzQjtZQUNyRCxPQUFPO2dCQUFFdkIsTUFBTTtnQkFBTUMsT0FBT3NCO1lBQVk7UUFDMUM7UUFFQSxtREFBbUQ7UUFDbkQsSUFBSUQsWUFBWUEsU0FBU0csTUFBTSxJQUFJLElBQUk7WUFDckMsTUFBTUMsb0JBQW9CSixRQUFRLENBQUMsRUFBRTtZQUNyQyxNQUFNLEVBQUVyQixPQUFPMEIsV0FBVyxFQUFFLEdBQUcsTUFBTWxDLCtDQUFRQSxDQUMxQ1MsSUFBSSxDQUFDLG9CQUNMMEIsTUFBTSxHQUNOcEIsRUFBRSxDQUFDLE1BQU1rQixrQkFBa0JuQixFQUFFO1lBRWhDLElBQUlvQixhQUFhO2dCQUNmSCxRQUFRdkIsS0FBSyxDQUFDLHdDQUF3QzBCO2dCQUN0RCxPQUFPO29CQUFFM0IsTUFBTTtvQkFBTUMsT0FBTzBCO2dCQUFZO1lBQzFDO1FBQ0Y7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTSxFQUFFM0IsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxvQkFDTGMsTUFBTSxDQUFDO1lBQ047Z0JBQ0VhLFFBQVFWO2dCQUNSQyxTQUFTQTtnQkFDVFIsUUFBUUE7Z0JBQ1JDLFNBQVNBO2dCQUNUUSxRQUFRQTtnQkFDUlMsWUFBWSxJQUFJQztZQUNsQjtTQUNELEVBQ0E1QixNQUFNO1FBRVQsSUFBSUYsT0FBTztZQUNUdUIsUUFBUXZCLEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BELE9BQU87Z0JBQUVELE1BQU07Z0JBQU1DO1lBQU07UUFDN0I7UUFFQSxPQUFPO1lBQUVEO1lBQU1DLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZHVCLFFBQVF2QixLQUFLLENBQUMsc0NBQXNDQTtRQUNwRCxPQUFPO1lBQUVELE1BQU07WUFBTUM7UUFBTTtJQUM3QjtBQUNGO0FBRUEsMkNBQTJDO0FBQ3BDLGVBQWUrQixtQkFBbUJiLE1BQWM7SUFDckQsTUFBTSxFQUFFbkIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxvQkFDTEMsTUFBTSxDQUFDLEtBQ1BLLEVBQUUsQ0FBQyxVQUFVVyxRQUNiZixLQUFLLENBQUMsY0FBYztRQUFFQyxXQUFXO0lBQU07SUFFMUMsT0FBTztRQUFFTDtRQUFNQztJQUFNO0FBQ3ZCO0FBRU8sZUFBZWdDLFlBQVlkLE1BQWM7SUFDOUMsTUFBTSxFQUFFbkIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsS0FDUEssRUFBRSxDQUFDLFdBQVdXLFFBQ2RmLEtBQUssQ0FBQyxjQUFjO1FBQUVDLFdBQVc7SUFBTTtJQUUxQyxPQUFPO1FBQUVMO1FBQU1DO0lBQU07QUFDdkI7QUFFQSx1QkFBdUI7QUFDaEIsZUFBZWlDLFlBQ3BCZixNQUFjLEVBQ2RnQixLQUFZLEVBQ1pDLEtBQWEsRUFDYkMsY0FBYyxVQUFVLEVBQ3hCQyxrQkFBa0IsUUFBUSxFQUMxQkMsa0JBQXVCLENBQUMsQ0FBQztJQUV6QixJQUFJO1FBQ0YsaUJBQWlCO1FBQ2pCLE1BQU0sRUFBRXZDLE1BQU13QyxNQUFNLEVBQUV2QyxPQUFPd0MsV0FBVyxFQUFFLEdBQUcsTUFBTWhELCtDQUFRQSxDQUN4RFMsSUFBSSxDQUFDLFdBQ0xjLE1BQU0sQ0FBQztZQUNOO2dCQUNFMEIsU0FBU3ZCO2dCQUNUaUIsT0FBT0E7Z0JBQ1BPLGNBQWNOO2dCQUNkTyxnQkFBZ0JOO2dCQUNoQk8sUUFBUTtnQkFDUkMsa0JBQWtCUDtZQUNwQjtTQUNELEVBQ0FwQyxNQUFNLEdBQ05NLE1BQU07UUFFVCxJQUFJZ0MsYUFBYSxNQUFNQTtRQUV2Qiw2QkFBNkI7UUFDN0IsTUFBTU0sUUFBUVosTUFBTWEsR0FBRyxDQUFDLENBQUNDLE9BQVU7Z0JBQ2pDQyxXQUFXVixPQUFPakMsRUFBRTtnQkFDcEI0QyxjQUFjRixLQUFLRyxJQUFJO2dCQUN2QkMsWUFBWUosS0FBS0ksVUFBVTtnQkFDM0JDLGdCQUFnQkwsS0FBS00sS0FBSztnQkFDMUJDLGVBQWVQLEtBQUtPLGFBQWE7WUFDbkM7UUFFQSxNQUFNLEVBQUV2RCxPQUFPd0QsVUFBVSxFQUFFLEdBQUcsTUFBTWhFLCtDQUFRQSxDQUN6Q1MsSUFBSSxDQUFDLGdCQUNMYyxNQUFNLENBQUMrQjtRQUVWLElBQUlVLFlBQVksTUFBTUE7UUFFdEIsT0FBTztZQUFFekQsTUFBTXdDO1lBQVF2QyxPQUFPO1FBQUs7SUFDckMsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBTztZQUFFRCxNQUFNO1lBQU1DO1FBQU07SUFDN0I7QUFDRjtBQUVBLG1IQUFtSDtBQUVuSCx1REFBdUQ7QUFDaEQsZUFBZXlELHVCQUF1QkMsV0FBbUI7SUFDOUQsSUFBSTtRQUNGLHdDQUF3QztRQUN4Qyw4REFBOEQ7UUFDOUQsTUFBTUMscUJBQTZDO1lBQ2pELHFCQUFxQjtZQUNyQix5QkFBeUI7WUFDekIsc0JBQXNCO1lBQ3RCLHdCQUF3QjtZQUN4QixzQkFBc0I7WUFDdEIsdUJBQXVCO1FBQ3pCO1FBRUEsMkNBQTJDO1FBQzNDLElBQUlBLGtCQUFrQixDQUFDRCxZQUFZLEVBQUU7WUFDbkMsT0FBTztnQkFBRTNELE1BQU00RCxrQkFBa0IsQ0FBQ0QsWUFBWTtnQkFBRTFELE9BQU87WUFBSztRQUM5RDtRQUVBLGlEQUFpRDtRQUNqRCxNQUFNLEVBQUVELE1BQU02RCxPQUFPLEVBQUU1RCxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDNUNTLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUMsaUJBQ1AyRCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRUgsWUFBWSxDQUFDLENBQUMsRUFDaENJLEtBQUssQ0FBQztRQUVULElBQUk5RCxPQUFPO1lBQ1R1QixRQUFRdkIsS0FBSyxDQUFDLG1DQUFtQ0E7WUFDakQsT0FBTztnQkFBRUQsTUFBTTtnQkFBR0MsT0FBTztZQUFLLEdBQUcscUJBQXFCO1FBQ3hEO1FBRUEsSUFBSTRELFdBQVdBLFFBQVFwQyxNQUFNLEdBQUcsR0FBRztZQUNqQyxPQUFPO2dCQUFFekIsTUFBTTZELE9BQU8sQ0FBQyxFQUFFLENBQUN0RCxFQUFFO2dCQUFFTixPQUFPO1lBQUs7UUFDNUM7UUFFQSwrQ0FBK0M7UUFDL0MsTUFBTStELFFBQVE7WUFBQztZQUFRO1lBQVk7WUFBUztZQUFXO1lBQVM7U0FBUztRQUN6RSxLQUFLLE1BQU1qRCxPQUFPaUQsTUFBTztZQUN2QixJQUFJTCxZQUFZTSxXQUFXLEdBQUdDLFFBQVEsQ0FBQ25ELE1BQU07Z0JBQzNDLE1BQU0sRUFBRWYsTUFBTW1FLFlBQVksRUFBRWxFLE9BQU9tRSxRQUFRLEVBQUUsR0FBRyxNQUFNM0UsK0NBQVFBLENBQzNEUyxJQUFJLENBQUMsV0FDTEMsTUFBTSxDQUFDLE1BQ1AyRCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRS9DLElBQUksQ0FBQyxDQUFDLEVBQ3ZCZ0QsS0FBSyxDQUFDO2dCQUVULElBQUksQ0FBQ0ssWUFBWUQsZ0JBQWdCQSxhQUFhMUMsTUFBTSxHQUFHLEdBQUc7b0JBQ3hELE9BQU87d0JBQUV6QixNQUFNbUUsWUFBWSxDQUFDLEVBQUUsQ0FBQzVELEVBQUU7d0JBQUVOLE9BQU87b0JBQUs7Z0JBQ2pEO1lBQ0Y7UUFDRjtRQUVBLGlCQUFpQjtRQUNqQixPQUFPO1lBQUVELE1BQU07WUFBR0MsT0FBTztRQUFLO0lBQ2hDLEVBQUUsT0FBT0EsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87WUFBRUQsTUFBTTtZQUFHQyxPQUFPO1FBQUs7SUFDaEM7QUFDRjtBQUVBLG1GQUFtRjtBQUM1RSxlQUFlb0U7SUFDcEIsSUFBSTtRQUNGLE1BQU0sRUFBRXJFLE1BQU02RCxPQUFPLEVBQUU1RCxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDNUNTLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUMsTUFDUDRELEtBQUssQ0FBQztRQUVULElBQUk5RCxPQUFPO1lBQ1R1QixRQUFRdkIsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEMsT0FBTyxHQUFHLHFCQUFxQjtRQUNqQztRQUVBLE9BQU80RCxXQUFXQSxRQUFRcEMsTUFBTSxHQUFHLElBQUlvQyxPQUFPLENBQUMsRUFBRSxDQUFDdEQsRUFBRSxHQUFHO0lBQ3pELEVBQUUsT0FBT04sT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU8sR0FBRyxxQkFBcUI7SUFDakM7QUFDRjtBQUVBLHVEQUF1RDtBQUNoRCxlQUFlcUUsdUJBQ3BCQyxRQUFnQixFQUNoQkMsY0FBNkIsRUFDN0JDLFVBQWtCLEVBQ2xCQyxVQUFtQixFQUNuQkMsU0FBa0I7SUFFbEIsSUFBSTtRQUNGLE1BQU0sRUFBRTNFLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMsMkJBQ0xjLE1BQU0sQ0FBQztZQUNOO2dCQUNFa0MsV0FBV3FCO2dCQUNYSyxpQkFBaUJKO2dCQUNqQkssYUFBYUo7Z0JBQ2JDLFlBQVlBO2dCQUNaSSxZQUFZSDtZQUNkO1NBQ0QsRUFDQXhFLE1BQU07UUFFVCxJQUFJRixPQUFPO1lBQ1R1QixRQUFRdkIsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDeEQ7UUFFQSxPQUFPO1lBQUVEO1lBQU1DO1FBQU07SUFDdkIsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBTztZQUFFRCxNQUFNO1lBQU1DO1FBQU07SUFDN0I7QUFDRjtBQUVBLGlFQUFpRTtBQUMxRCxlQUFlOEUsZ0JBQ3BCNUQsTUFBYyxFQUNkNkQsWUFBb0IsRUFDcEI3QyxLQUFZLEVBQ1o4QyxVQUFrQixFQUNsQkMsS0FBYSxFQUNiN0MsV0FBbUIsRUFDbkJDLGVBQXVCO0lBRXZCLElBQUk7UUFDRmQsUUFBUTJELEdBQUcsQ0FBQyw2Q0FBNkNoRTtRQUN6REssUUFBUTJELEdBQUcsQ0FBQyxrQkFBa0JIO1FBQzlCeEQsUUFBUTJELEdBQUcsQ0FBQyxVQUFVaEQ7UUFDdEJYLFFBQVEyRCxHQUFHLENBQUMsZ0JBQWdCRjtRQUM1QnpELFFBQVEyRCxHQUFHLENBQUMsVUFBVUQ7UUFDdEIxRCxRQUFRMkQsR0FBRyxDQUFDLG9CQUFvQjlDO1FBQ2hDYixRQUFRMkQsR0FBRyxDQUFDLHdCQUF3QjdDO1FBRXBDLCtCQUErQjtRQUMvQixNQUFNOEMsWUFBWUMsT0FBT0MsUUFBUSxDQUFDbkU7UUFFbEMsNkRBQTZEO1FBQzdELE1BQU0sRUFBRW5CLE1BQU11RixtQkFBbUIsRUFBRXRGLE9BQU91RixlQUFlLEVBQUUsR0FDekQsTUFBTUMsdUJBQXVCVDtRQUUvQixJQUFJUSxtQkFBbUIsQ0FBQ0QscUJBQXFCO1lBQzNDLE1BQU0sSUFBSUcsTUFDUixnQ0FDR0YsQ0FBQUEsaUJBQWlCRyxXQUFXLDJCQUEwQjtRQUU3RDtRQUVBbkUsUUFBUTJELEdBQUcsQ0FBQyxlQUFlQztRQUMzQjVELFFBQVEyRCxHQUFHLENBQUMsa0JBQWtCSDtRQUM5QnhELFFBQVEyRCxHQUFHLENBQUMsMEJBQTBCSTtRQUV0QywrQkFBK0I7UUFDL0IsTUFBTUssZUFBZSxDQUFDLElBQUksRUFBRTdELEtBQUs4RCxHQUFHLEdBQUcsQ0FBQyxFQUFFQyxLQUFLQyxNQUFNLEdBQ2xEQyxRQUFRLENBQUMsSUFDVEMsTUFBTSxDQUFDLEdBQUcsR0FDVkMsV0FBVyxJQUFJO1FBRWxCLG9EQUFvRDtRQUNwRCxNQUFNQyxnQkFDSjlELGdCQUFnQixhQUNaLDBCQUNBO1FBRU4seUNBQXlDO1FBRXpDLE1BQU0rRCxPQUFPLE1BQU1DLFlBQVlqQixVQUFVWSxRQUFRO1FBQ2pEeEUsUUFBUTJELEdBQUcsQ0FBQyxTQUFTaUI7UUFFckIsSUFBSSxDQUFDQSxLQUFLcEcsSUFBSSxFQUFFO1lBQ2QsTUFBTSxJQUFJMEYsTUFBTTtRQUNsQjtRQUVBLElBQ0UsQ0FBQ1UsS0FBS3BHLElBQUksRUFBRW9ELFFBQ1osQ0FBQ2dELEtBQUtwRyxJQUFJLEVBQUVzRyxTQUNaLENBQUNGLEtBQUtwRyxJQUFJLEVBQUV1RyxZQUNaLENBQUNILEtBQUtwRyxJQUFJLEVBQUV3RyxLQUNaO1lBQ0EsTUFBTSxJQUFJZCxNQUFNO1FBQ2xCO1FBRUEsTUFBTWUsVUFBVSxNQUFNOUcsa0VBQXNCQSxDQUFDO1lBQzNDK0csTUFBTU4sS0FBS3BHLElBQUksRUFBRW9ELE9BQU8sTUFBTWdELEtBQUtwRyxJQUFJLEVBQUUyRztZQUN6Q0wsT0FBT0YsS0FBS3BHLElBQUksRUFBRXNHO1lBQ2xCTSxPQUFPUixLQUFLcEcsSUFBSSxFQUFFdUc7WUFDbEJNLGFBQWFULEtBQUtwRyxJQUFJLEVBQUV1RztZQUN4Qk8sU0FBU1YsS0FBS3BHLElBQUksRUFBRXdHO1lBQ3BCTyxZQUFZWCxLQUFLcEcsSUFBSSxFQUFFZ0g7WUFDdkJDLFNBQVNiLEtBQUtwRyxJQUFJLEVBQUVrSDtZQUNwQkMsZUFBZWYsS0FBS3BHLElBQUksRUFBRW9IO1lBQzFCQyxZQUFZakIsS0FBS3BHLElBQUksRUFBRXNIO1lBQ3ZCQyxVQUFVbkIsS0FBS3BHLElBQUksRUFBRXdIO1lBQ3JCQyxNQUFNckIsS0FBS3BHLElBQUksRUFBRTBIO1lBQ2pCQyxPQUFPdkIsS0FBS3BHLElBQUksRUFBRTRIO1lBQ2xCQyxtQkFBbUJ6QixLQUFLcEcsSUFBSSxFQUFFTyxHQUFHeUY7UUFDbkM7UUFFQXhFLFFBQVEyRCxHQUFHLENBQUMsbUJBQW1Cc0I7UUFFL0IsTUFBTXFCLGdCQUE4QjtZQUNsQ0MsYUFBYXpGO1lBS2IwRixVQUFVdkIsUUFBUWxHLEVBQUU7WUFDcEIwSCxPQUFPNUMsT0FBT0osY0FBY0ksT0FBT0g7WUFDbkNnRCxTQUFTLElBQUluRyxLQUFLQSxLQUFLOEQsR0FBRyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQzNDc0MsV0FBVyxHQUNYQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEJDLGFBQWEsQ0FBQyxDQUFDLEVBQUV6QyxjQUFjO1FBQ2pDO1FBRUEsSUFBSXRELG9CQUFvQixlQUFlO1lBQ3JDd0YsY0FBY1EsVUFBVSxHQUFHO2dCQUN6QkMsWUFBWW5DLEtBQUtwRyxJQUFJLENBQUNvRCxJQUFJLEdBQUcsTUFBTWdELEtBQUtwRyxJQUFJLENBQUMyRyxTQUFTO2dCQUN0RDZCLFFBQVE7Z0JBQ1JDLGFBQWE7Z0JBQ2JDLFlBQVk7Z0JBQ1pDLEtBQUs7WUFDUDtZQUNBYixjQUFjYyxnQkFBZ0IsR0FBRztZQUNqQ2QsY0FBY2UsVUFBVSxHQUFHeEQsT0FBT0osY0FBY0ksT0FBT0g7WUFDdkQ0QyxjQUFjZ0IsZ0JBQWdCLEdBQUd6RCxPQUFPSixjQUFjSSxPQUFPSDtZQUM3RDRDLGNBQWNpQixRQUFRLEdBQUc7Z0JBQ3ZCZCxPQUFPO2dCQUNQZSxrQkFBa0I7Z0JBQ2xCQyxNQUFNO1lBQ1I7WUFDQW5CLGNBQWNvQixRQUFRLEdBQUc7Z0JBQ3ZCakIsT0FBTztZQUNUO1lBQ0FILGNBQWNxQixJQUFJLEdBQUc7Z0JBQ25CbEIsT0FBTztZQUNUO1lBQ0FILGNBQWNzQixvQkFBb0IsR0FBRztnQkFDbkMxQyxNQUFNTixLQUFLcEcsSUFBSSxDQUFDb0QsSUFBSSxHQUFHLE1BQU1nRCxLQUFLcEcsSUFBSSxDQUFDMkcsU0FBUztnQkFDaERMLE9BQU9GLEtBQUtwRyxJQUFJLENBQUNzRyxLQUFLO2dCQUN0QlEsU0FBU1YsS0FBS3BHLElBQUksQ0FBQ3dHLEdBQUc7Z0JBQ3RCTyxZQUFZWCxLQUFLcEcsSUFBSSxDQUFDZ0gsR0FBRztnQkFDekJHLGVBQWVmLEtBQUtwRyxJQUFJLENBQUNvSCxNQUFNO2dCQUMvQmlDLG1CQUFtQmpELEtBQUtwRyxJQUFJLENBQUNzSCxXQUFXLElBQUk7Z0JBQzVDVixPQUFPUixLQUFLcEcsSUFBSSxDQUFDdUcsUUFBUTtnQkFDekJNLGFBQWFULEtBQUtwRyxJQUFJLENBQUN1RyxRQUFRO1lBQ2pDO1lBQ0F1QixjQUFjd0IsUUFBUSxHQUFHO1FBQzNCO1FBRUEsTUFBTUMsWUFBWSxNQUFNN0oseURBQWFBLENBQUNvSTtRQUV0Q3RHLFFBQVEyRCxHQUFHLENBQUMscUJBQXFCb0U7UUFFakMsSUFBSSxDQUFDQSxVQUFVaEosRUFBRSxFQUFFO1lBQ2pCLE1BQU0sSUFBSW1GLE1BQU07UUFDbEI7UUFFQSxJQUFJOEQsaUJBQWlCO1FBQ3JCLElBQUlsSCxvQkFBb0IsU0FBU0Esb0JBQW9CLFVBQVU7WUFDN0RrSCxpQkFBaUIsTUFBTTVKLHdEQUFZQSxDQUFDMkosVUFBVWhKLEVBQUU7WUFDaERpQixRQUFRMkQsR0FBRyxDQUFDLGdCQUFnQnFFO1FBQzlCO1FBRUEsSUFBSUMsTUFBTTtRQUNWLElBQUlDLFNBQVM7UUFFYixJQUFJRixnQkFBZ0I7WUFDbEJDLE1BQU1ELGVBQWVDLEdBQUc7WUFDeEJDLFNBQVNGLGVBQWVHLFFBQVE7UUFDbEM7UUFFQSxNQUFNLEVBQUUzSixNQUFNd0MsTUFBTSxFQUFFdkMsT0FBT3dDLFdBQVcsRUFBRSxHQUFHLE1BQU1oRCwrQ0FBUUEsQ0FDeERTLElBQUksQ0FBQyxXQUNMYyxNQUFNLENBQUM7WUFDTjtnQkFDRTRJLFlBQVl4RTtnQkFDWjVCLGVBQWUrQjtnQkFDZjZCLFFBQVF4QjtnQkFDUlYsT0FBT0E7Z0JBQ1AyRSxhQUFhNUU7Z0JBQ2JyQyxnQkFBZ0JOO2dCQUNoQkssY0FBY047Z0JBQ2RRLFFBQVE7Z0JBQ1JpSCxrQkFBa0IzRDtnQkFDbEJyRSxZQUFZLElBQUlDLE9BQU9vRyxXQUFXO2dCQUNsQzRCLFlBQVksSUFBSWhJLE9BQU9vRyxXQUFXO2dCQUNsQzZCLGNBQWNULFVBQVVoSixFQUFFO1lBQzVCO1NBQ0QsRUFDQUosTUFBTSxHQUNOTSxNQUFNO1FBRVQsSUFBSWdDLGFBQWE7WUFDZmpCLFFBQVF2QixLQUFLLENBQUMseUJBQXlCd0M7WUFDdkMsTUFBTUE7UUFDUjtRQUVBLDBDQUEwQztRQUMxQyxNQUFNNkIsdUJBQ0o5QixPQUFPakMsRUFBRSxFQUNULE1BQ0E0RixlQUNBLGlCQUNBO1FBR0Ysb0VBQW9FO1FBQ3BFLE1BQU04RCxtQkFBbUIsTUFBTUMsUUFBUUMsR0FBRyxDQUN4Q2hJLE1BQU1hLEdBQUcsQ0FBQyxPQUFPQyxNQUFNbUg7WUFDckIsd0RBQXdEO1lBQ3hELE1BQU0sRUFBRXBLLE1BQU1xSyxRQUFRLEVBQUUsR0FBRyxNQUFNM0csdUJBQXVCVCxLQUFLRyxJQUFJO1lBRWpFLE1BQU1rSCxrQkFBa0I7Z0JBQ3RCcEgsV0FBV1YsT0FBT2pDLEVBQUU7Z0JBQ3BCZ0ssV0FBV0Y7Z0JBQ1hHLEtBQUtuRixPQUFPcEMsS0FBS0ksVUFBVSxLQUFLO2dCQUNoQ29ILGdCQUFnQnBGLE9BQU9wQyxLQUFLTSxLQUFLLEtBQUs7WUFDeEM7WUFFQS9CLFFBQVEyRCxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUVpRixRQUFRLEVBQUUsV0FBVyxDQUFDLEVBQUVFO1lBQzVDOUksUUFBUTJELEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRWxDLEtBQUtHLElBQUksQ0FBQyxlQUFlLEVBQUVpSCxVQUFVO1lBQzdELE9BQU9DO1FBQ1Q7UUFHRjlJLFFBQVEyRCxHQUFHLENBQUMsOEJBQThCOEU7UUFFMUMsNkJBQTZCO1FBQzdCLE1BQU0sRUFBRWpLLE1BQU0wSyxjQUFjLEVBQUV6SyxPQUFPd0QsVUFBVSxFQUFFLEdBQUcsTUFBTWhFLCtDQUFRQSxDQUMvRFMsSUFBSSxDQUFDLGdCQUNMYyxNQUFNLENBQUNpSixrQkFDUDlKLE1BQU07UUFFVCxJQUFJc0QsWUFBWTtZQUNkakMsUUFBUXZCLEtBQUssQ0FBQyw4Q0FBOEN3RDtZQUM1RGpDLFFBQVF2QixLQUFLLENBQUMsK0JBQStCZ0s7WUFDN0MsTUFBTXhHO1FBQ1I7UUFFQWpDLFFBQVEyRCxHQUFHLENBQUMsZ0NBQWdDdUY7UUFDNUNsSixRQUFRMkQsR0FBRyxDQUFDLGlDQUFpQ3NFO1FBQzdDakksUUFBUTJELEdBQUcsQ0FBQyxpQ0FBaUN1RTtRQUM3Q2xJLFFBQVEyRCxHQUFHLENBQUMsaUNBQWlDb0UsVUFBVWhKLEVBQUU7UUFFekQsT0FBTztZQUNMUCxNQUFNd0M7WUFDTmlIO1lBQ0FDO1lBQ0FpQixhQUFhcEIsVUFBVWhKLEVBQUU7WUFDekJOLE9BQU87UUFDVDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU87WUFBRUQsTUFBTTtZQUFNQztRQUFNO0lBQzdCO0FBQ0Y7QUFFQSx5Q0FBeUM7QUFDbEMsZUFBZTJLLHNCQUNwQnJHLFFBQWdCLEVBQ2hCc0csVUFBa0IsRUFDbEJDLFlBQXFCLEVBQ3JCQyxXQUFvQixFQUNwQnBHLFNBQWtCO0lBRWxCLElBQUk7UUFDRixrQ0FBa0M7UUFDbEMsTUFBTSxFQUFFM0UsTUFBTWdMLFdBQVcsRUFBRS9LLE9BQU9nTCxVQUFVLEVBQUUsR0FBRyxNQUFNeEwsK0NBQVFBLENBQzVEUyxJQUFJLENBQUMsV0FDTEMsTUFBTSxDQUFDLG9CQUNQSyxFQUFFLENBQUMsTUFBTStELFVBQ1Q5RCxNQUFNO1FBRVQsSUFBSXdLLFlBQVk7WUFDZCxNQUFNQTtRQUNSO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1DLG1CQUF3QjtZQUM1QnBCLGtCQUFrQmU7WUFDbEJkLFlBQVksSUFBSWhJLE9BQU9vRyxXQUFXO1FBQ3BDO1FBRUEsSUFBSTJDLGNBQWM7WUFDaEJJLGlCQUFpQkMscUJBQXFCLEdBQUdMO1FBQzNDO1FBRUEsSUFBSUMsYUFBYTtZQUNmRyxpQkFBaUJFLHNCQUFzQixHQUFHTDtRQUM1QztRQUVBLDhEQUE4RDtRQUM5RCxJQUFJRixlQUFlLGNBQWNBLGVBQWUsWUFBWTtZQUMxREssaUJBQWlCRyxpQkFBaUIsR0FBRyxJQUFJdEosT0FBT29HLFdBQVc7UUFDN0Q7UUFFQSxxQkFBcUI7UUFDckIsTUFBTSxFQUFFbkksSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxXQUNMb0wsTUFBTSxDQUFDSixrQkFDUDFLLEVBQUUsQ0FBQyxNQUFNK0QsVUFDVHBFLE1BQU07UUFFVCxJQUFJRixPQUFPO1lBQ1QsTUFBTUE7UUFDUjtRQUVBLGlDQUFpQztRQUNqQyxNQUFNcUUsdUJBQ0pDLFVBQ0F5RyxZQUFZbEIsZ0JBQWdCLEVBQzVCZSxZQUNBRSxhQUNBcEc7UUFHRixPQUFPO1lBQUUzRTtZQUFNQyxPQUFPO1FBQUs7SUFDN0IsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLHVDQUF1Q0E7UUFDckQsT0FBTztZQUFFRCxNQUFNO1lBQU1DO1FBQU07SUFDN0I7QUFDRjtBQUVPLGVBQWVzTCxXQUFXcEssTUFBYztJQUM3QyxNQUFNLEVBQUVuQixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLCtDQUFRQSxDQUNuQ1MsSUFBSSxDQUFDLFdBQ0xDLE1BQU0sQ0FDTCxDQUFDOzs7Ozs7SUFNSCxDQUFDLEVBRUFLLEVBQUUsQ0FBQyxXQUFXVyxRQUNkZixLQUFLLENBQUMsY0FBYztRQUFFQyxXQUFXO0lBQU07SUFFMUMsT0FBTztRQUFFTDtRQUFNQztJQUFNO0FBQ3ZCO0FBRUEsbUVBQW1FO0FBQzVELGVBQWV1TCxrQkFBa0JySyxNQUFjO0lBQ3BELElBQUk7UUFDRkssUUFBUTJELEdBQUcsQ0FBQyxrQ0FBa0NoRTtRQUU5QywrQkFBK0I7UUFDL0IsTUFBTWlFLFlBQVlDLE9BQU9DLFFBQVEsQ0FBQ25FO1FBRWxDLGlEQUFpRDtRQUNqRCxNQUFNLEVBQUVuQixNQUFNeUwsT0FBTyxFQUFFeEwsT0FBT3lMLFlBQVksRUFBRSxHQUFHLE1BQU1qTSwrQ0FBUUEsQ0FDMURTLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQ0wsQ0FBQzs7Ozs7Ozs7OztNQVVILENBQUMsRUFFQUssRUFBRSxDQUFDLGNBQWM0RSxXQUFXLDRDQUE0QztTQUN4RWhGLEtBQUssQ0FBQyxjQUFjO1lBQUVDLFdBQVc7UUFBTTtRQUUxQ21CLFFBQVEyRCxHQUFHLENBQUMsd0JBQXdCc0csU0FBU2hLLFVBQVU7UUFFdkQsSUFBSWlLLGNBQWM7WUFDaEJsSyxRQUFRdkIsS0FBSyxDQUFDLDJCQUEyQnlMO1lBQ3pDLE1BQU1BO1FBQ1I7UUFFQSxPQUFPO1lBQUUxTCxNQUFNeUwsV0FBVyxFQUFFO1lBQUV4TCxPQUFPO1FBQUs7SUFDNUMsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcEQsT0FBTztZQUFFRCxNQUFNLEVBQUU7WUFBRUM7UUFBTTtJQUMzQjtBQUNGO0FBRUEsbURBQW1EO0FBQzVDLGVBQWUwTDtJQUNwQixNQUFNLEVBQUUzTCxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLCtDQUFRQSxDQUNuQ1MsSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQyxZQUNQQyxLQUFLLENBQUMsUUFBUTtRQUFFQyxXQUFXO0lBQUs7SUFFbkMsT0FBTztRQUFFTDtRQUFNQztJQUFNO0FBQ3ZCO0FBRUEscUVBQXFFO0FBQzlELGVBQWUyTCxzQkFBc0JDLFNBQWlCO0lBQzNELE1BQU0sRUFBRTdMLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMsV0FDTEMsTUFBTSxDQUFDLGFBQ1BLLEVBQUUsQ0FBQyxjQUFjcUwsV0FDakJ6TCxLQUFLLENBQUMsU0FBUztRQUFFQyxXQUFXO0lBQUs7SUFFcEMsc0NBQXNDO0lBQ3RDLElBQUlMLFFBQVFBLEtBQUt5QixNQUFNLEdBQUcsR0FBRztRQUMzQixNQUFNcUssZ0JBQWdCOUwsS0FBSytMLE1BQU0sQ0FBQyxDQUFDQyxLQUFZQztZQUM3QyxNQUFNQyxTQUFTRixJQUFJRyxJQUFJLENBQUMsQ0FBQ2xKLE9BQVNBLEtBQUttSixLQUFLLEtBQUtILFFBQVFHLEtBQUs7WUFDOUQsSUFBSSxDQUFDRixRQUFRO2dCQUNYRixJQUFJSyxJQUFJLENBQUNKO1lBQ1g7WUFDQSxPQUFPRDtRQUNULEdBQUcsRUFBRTtRQUVMLE9BQU87WUFBRWhNLE1BQU04TDtZQUFlN0w7UUFBTTtJQUN0QztJQUVBLE9BQU87UUFBRUQ7UUFBTUM7SUFBTTtBQUN2QjtBQUVBLGlEQUFpRDtBQUMxQyxlQUFlcU0sc0JBQXNCQyxRQUFnQjtJQUMxRC9LLFFBQVEyRCxHQUFHLENBQUMsdUNBQXVDb0g7SUFFbkQsTUFBTSxFQUFFdk0sSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsYUFDUEssRUFBRSxDQUFDLGFBQWErTCxVQUNoQm5NLEtBQUssQ0FBQyxTQUFTO1FBQUVDLFdBQVc7SUFBSztJQUVwQyxzQ0FBc0M7SUFDdEMsSUFBSUwsUUFBUUEsS0FBS3lCLE1BQU0sR0FBRyxHQUFHO1FBQzNCLE1BQU0rSyxpQkFBaUJ4TSxLQUFLK0wsTUFBTSxDQUFDLENBQUNDLEtBQVlDO1lBQzlDLE1BQU1DLFNBQVNGLElBQUlHLElBQUksQ0FBQyxDQUFDbEosT0FBU0EsS0FBS21KLEtBQUssS0FBS0gsUUFBUUcsS0FBSztZQUM5RCxJQUFJLENBQUNGLFFBQVE7Z0JBQ1hGLElBQUlLLElBQUksQ0FBQ0o7WUFDWDtZQUNBLE9BQU9EO1FBQ1QsR0FBRyxFQUFFO1FBRUx4SyxRQUFRMkQsR0FBRyxDQUFDLG1DQUFtQztZQUM3Q25GLE1BQU13TTtZQUNOdk07UUFDRjtRQUNBLE9BQU87WUFBRUQsTUFBTXdNO1lBQWdCdk07UUFBTTtJQUN2QztJQUVBdUIsUUFBUTJELEdBQUcsQ0FBQyw0QkFBNEI7UUFBRW5GO1FBQU1DO0lBQU07SUFDdEQsT0FBTztRQUFFRDtRQUFNQztJQUFNO0FBQ3ZCO0FBRUEsbURBQW1EO0FBQzVDLGVBQWV3TSxxQkFBcUJDLFNBQWlCO0lBQzFELElBQUk7UUFDRmxMLFFBQVEyRCxHQUFHLENBQUMsc0NBQXNDdUg7UUFFbEQsTUFBTSxFQUFFMU0sSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUMsS0FDUEssRUFBRSxDQUFDLGNBQWNrTSxXQUNqQmpNLE1BQU07UUFFVGUsUUFBUTJELEdBQUcsQ0FBQywwQkFBMEI7WUFBRW5GO1lBQU1DO1FBQU07UUFFcEQsSUFBSUEsT0FBTztZQUNUdUIsUUFBUXZCLEtBQUssQ0FBQywyQ0FBMkNBO1lBQ3pELHNDQUFzQztZQUN0QyxPQUFPO2dCQUNMRCxNQUFNO29CQUNKTyxJQUFJO29CQUNKNkMsTUFBTTtvQkFDTnJDLEtBQUs7Z0JBQ1A7Z0JBQ0FkLE9BQU87WUFDVDtRQUNGO1FBRUEsSUFBSSxDQUFDRCxNQUFNO1lBQ1R3QixRQUFRMkQsR0FBRyxDQUFDLDZDQUE2Q3VIO1lBQ3pELHNDQUFzQztZQUN0QyxPQUFPO2dCQUNMMU0sTUFBTTtvQkFDSk8sSUFBSTtvQkFDSjZDLE1BQU07b0JBQ05yQyxLQUFLO2dCQUNQO2dCQUNBZCxPQUFPO1lBQ1Q7UUFDRjtRQUVBLHFDQUFxQztRQUNyQyxNQUFNME0saUJBQWlCO1lBQ3JCcE0sSUFBSVAsS0FBS08sRUFBRTtZQUNYNkMsTUFBTXBELEtBQUtvRCxJQUFJLElBQUlwRCxLQUFLNE0sU0FBUyxJQUFJO1lBQ3JDN0wsS0FBS2YsS0FBS2UsR0FBRyxJQUFJO1FBQ25CO1FBRUEsT0FBTztZQUFFZixNQUFNMk07WUFBZ0IxTSxPQUFPO1FBQUs7SUFDN0MsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsc0NBQXNDO1FBQ3RDLE9BQU87WUFDTEQsTUFBTTtnQkFDSk8sSUFBSTtnQkFDSjZDLE1BQU07Z0JBQ05yQyxLQUFLO1lBQ1A7WUFDQWQsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVBLGdFQUFnRTtBQUVoRSw2QkFBNkI7QUFDdEIsZUFBZTRNLG1CQUFtQjFMLE1BQWM7SUFDckQsTUFBTSxFQUFFbkIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxxQkFDTEMsTUFBTSxDQUFDLEtBQ1BLLEVBQUUsQ0FBQyxXQUFXVyxRQUNkZixLQUFLLENBQUMsY0FBYztRQUFFQyxXQUFXO0lBQU07SUFFMUMsT0FBTztRQUFFTDtRQUFNQztJQUFNO0FBQ3ZCO0FBRUEsNkJBQTZCO0FBQ3RCLGVBQWU2TSxzQkFDcEIzTCxNQUFjLEVBQ2R3QyxXQUFtQixFQUNuQk4sYUFBYSxDQUFDLEVBQ2QwSixNQUFlO0lBRWYsb0RBQW9EO0lBQ3BELE1BQU1DLG1CQUFtQmxILEtBQUttSCxHQUFHLENBQUNuSCxLQUFLb0gsS0FBSyxDQUFDN0osYUFBYSxLQUFLLEdBQUc7SUFFbEUsNENBQTRDO0lBQzVDLE1BQU0sRUFBRXJELE1BQU1tTixhQUFhLEVBQUVsTixPQUFPZ0wsVUFBVSxFQUFFLEdBQUcsTUFBTXhMLCtDQUFRQSxDQUM5RFMsSUFBSSxDQUFDLHFCQUNMQyxNQUFNLENBQUMsS0FDUEssRUFBRSxDQUFDLFdBQVdXLFFBQ2RYLEVBQUUsQ0FBQyxnQkFBZ0JtRCxhQUNuQmxELE1BQU07SUFFVCxJQUFJd0ssY0FBY0EsV0FBV21DLElBQUksS0FBSyxZQUFZO1FBQ2hELHlEQUF5RDtRQUN6RCxPQUFPO1lBQUVwTixNQUFNO1lBQU1DLE9BQU9nTDtRQUFXO0lBQ3pDO0lBRUEsSUFBSWtDLGVBQWU7UUFDakIsdUNBQXVDO1FBQ3ZDLE1BQU0sRUFBRW5OLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMscUJBQ0xvTCxNQUFNLENBQUM7WUFDTmpJLFlBQVk4SixjQUFjOUosVUFBVSxHQUFHO1lBQ3ZDMEcsWUFBWSxJQUFJaEksT0FBT29HLFdBQVc7UUFDcEMsR0FDQzNILEVBQUUsQ0FBQyxNQUFNMk0sY0FBYzVNLEVBQUUsRUFDekJKLE1BQU07UUFFVCxPQUFPO1lBQUVIO1lBQU1DO1FBQU07SUFDdkIsT0FBTztRQUNMLHNEQUFzRDtRQUN0RCxNQUFNLEVBQUVELElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMscUJBQ0xjLE1BQU0sQ0FBQztZQUNOO2dCQUNFMEIsU0FBU3ZCO2dCQUNUZ0MsY0FBY1E7Z0JBQ2ROLFlBQVkySjtnQkFDWkQsUUFBUUE7WUFDVjtTQUNELEVBQ0E1TSxNQUFNO1FBRVQsT0FBTztZQUFFSDtZQUFNQztRQUFNO0lBQ3ZCO0FBQ0Y7QUFFQSwyQ0FBMkM7QUFDcEMsZUFBZW9OLDRCQUNwQmxNLE1BQWMsRUFDZHdDLFdBQW1CLEVBQ25CTixVQUFrQjtJQUVsQixvREFBb0Q7SUFDcEQsTUFBTTJKLG1CQUFtQmxILEtBQUttSCxHQUFHLENBQUNuSCxLQUFLb0gsS0FBSyxDQUFDN0osYUFBYSxLQUFLLEdBQUc7SUFFbEUsTUFBTSxFQUFFckQsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxxQkFDTG9MLE1BQU0sQ0FBQztRQUNOakksWUFBWTJKO1FBQ1pqRCxZQUFZLElBQUloSSxPQUFPb0csV0FBVztJQUNwQyxHQUNDM0gsRUFBRSxDQUFDLFdBQVdXLFFBQ2RYLEVBQUUsQ0FBQyxnQkFBZ0JtRCxhQUNuQnhELE1BQU07SUFFVCxPQUFPO1FBQUVIO1FBQU1DO0lBQU07QUFDdkI7QUFFQSwyQkFBMkI7QUFDcEIsZUFBZXFOLG9CQUFvQm5NLE1BQWMsRUFBRXdDLFdBQW1CO0lBQzNFLE1BQU0sRUFBRTNELElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMscUJBQ0wwQixNQUFNLEdBQ05wQixFQUFFLENBQUMsV0FBV1csUUFDZFgsRUFBRSxDQUFDLGdCQUFnQm1EO0lBRXRCLE9BQU87UUFBRTNEO1FBQU1DO0lBQU07QUFDdkI7QUFFQSw2QkFBNkI7QUFDdEIsZUFBZXNOLHNCQUFzQnBNLE1BQWM7SUFDeEQsTUFBTSxFQUFFbkIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxxQkFDTDBCLE1BQU0sR0FDTnBCLEVBQUUsQ0FBQyxXQUFXVztJQUVqQixPQUFPO1FBQUVuQjtRQUFNQztJQUFNO0FBQ3ZCO0FBRUEseUNBQXlDO0FBQ2xDLGVBQWV1Tix5QkFBeUJyTSxNQUFjLEVBQUVnQixLQUFZO0lBQ3pFLElBQUk7UUFDRixvQ0FBb0M7UUFDcEMsTUFBTW9MLHNCQUFzQnBNO1FBRTVCLDJDQUEyQztRQUMzQyxJQUFJLENBQUNnQixTQUFTQSxNQUFNVixNQUFNLEtBQUssR0FBRztZQUNoQyxPQUFPO2dCQUFFekIsTUFBTTtnQkFBTUMsT0FBTztZQUFLO1FBQ25DO1FBRUEsK0JBQStCO1FBQy9CLE1BQU1nSyxtQkFBbUI5SCxNQUFNYSxHQUFHLENBQUMsQ0FBQ0MsT0FBVTtnQkFDNUNQLFNBQVN2QjtnQkFDVGdDLGNBQWNGLEtBQUtHLElBQUk7Z0JBQ3ZCQyxZQUFZSixLQUFLSSxVQUFVO2dCQUMzQjBKLFFBQVE5SixLQUFLOEosTUFBTTtnQkFDbkJqTCxZQUFZLElBQUlDLE9BQU9vRyxXQUFXO1lBQ3BDO1FBRUEsTUFBTSxFQUFFbkksSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxxQkFDTGMsTUFBTSxDQUFDaUosa0JBQ1A5SixNQUFNO1FBRVQsT0FBTztZQUFFSDtZQUFNQztRQUFNO0lBQ3ZCLEVBQUUsT0FBT0EsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU87WUFBRUQsTUFBTTtZQUFNQztRQUFNO0lBQzdCO0FBQ0Y7QUFFQSw4RUFBOEU7QUFFOUUsbUVBQW1FO0FBQzVELGVBQWV3TiwwQkFBMEI5SixXQUFtQjtJQUNqRSw4Q0FBOEM7SUFDOUMsTUFBTSxFQUFFM0QsTUFBTTBOLE9BQU8sRUFBRXpOLEtBQUssRUFBRSxHQUFHLE1BQU1SLCtDQUFRQSxDQUM1Q1MsSUFBSSxDQUFDLHNCQUNMQyxNQUFNLENBQ0wsQ0FBQzs7Ozs7OztJQU9ILENBQUMsRUFFQUssRUFBRSxDQUFDLFdBQVdtRCxhQUNkZ0ssRUFBRSxDQUFDLGNBQWMsSUFBSSxnQ0FBZ0M7SUFFeEQsSUFBSTFOLE9BQU87UUFDVCxPQUFPO1lBQUVELE1BQU07WUFBTUM7UUFBTTtJQUM3QjtJQUVBLHNDQUFzQztJQUN0QyxNQUFNMk4sZ0JBQWdCRixTQUFTMUssSUFBSSxDQUFDQyxPQUFTQSxLQUFLTyxhQUFhLEtBQUssRUFBRTtJQUV0RSxJQUFJb0ssY0FBY25NLE1BQU0sS0FBSyxHQUFHO1FBQzlCLE9BQU87WUFBRXpCLE1BQU0sRUFBRTtZQUFFQyxPQUFPO1FBQUs7SUFDakM7SUFFQSxNQUFNLEVBQUVELE1BQU02TixZQUFZLEVBQUU1TixPQUFPNk4saUJBQWlCLEVBQUUsR0FBRyxNQUFNck8sK0NBQVFBLENBQ3BFUyxJQUFJLENBQUMsZ0JBQ0xDLE1BQU0sQ0FDTCxDQUFDOzs7Ozs7Ozs7SUFTSCxDQUFDLEVBRUE0TixFQUFFLENBQUMsTUFBTUg7SUFFWixJQUFJRSxtQkFBbUI7UUFDckIsT0FBTztZQUFFOU4sTUFBTTtZQUFNQyxPQUFPNk47UUFBa0I7SUFDaEQ7SUFFQSxvQkFBb0I7SUFDcEIsTUFBTWhOLFlBQ0o0TSxTQUNJMUssSUFBSSxDQUFDQztRQUNMLE1BQU0rSyxhQUFhSCxjQUFjMUIsS0FDL0IsQ0FBQzhCLElBQU1BLEVBQUUxTixFQUFFLEtBQUswQyxLQUFLTyxhQUFhO1FBRXBDLE9BQU87WUFDTCxHQUFHUCxJQUFJO1lBQ1ArSyxZQUFZQSxjQUFjO1FBQzVCO0lBQ0YsR0FDQ0UsT0FBTyxDQUFDakwsT0FBU0EsS0FBSytLLFVBQVUsS0FBSyxTQUFTLEVBQUU7SUFFckQsb0JBQW9CO0lBQ3BCbE4sVUFBVXFOLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxFQUFFN0ssS0FBSyxHQUFHOEssRUFBRTlLLEtBQUs7SUFFMUMsT0FBTztRQUFFdkQsTUFBTWM7UUFBV2IsT0FBTztJQUFLO0FBQ3hDO0FBRUEsOENBQThDO0FBQ3ZDLGVBQWVxTyw0QkFBNEJDLFlBQXNCO0lBQ3RFLElBQUksQ0FBQ0EsYUFBYTlNLE1BQU0sRUFBRSxPQUFPO1FBQUV6QixNQUFNLENBQUM7UUFBR0MsT0FBTztJQUFLO0lBRXpELHNDQUFzQztJQUN0QyxNQUFNLEVBQUVELE1BQU0wTixPQUFPLEVBQUV6TixLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDNUNTLElBQUksQ0FBQyxzQkFDTEMsTUFBTSxDQUNMLENBQUM7Ozs7Ozs7SUFPSCxDQUFDLEVBRUE0TixFQUFFLENBQUMsV0FBV1EsY0FDZFosRUFBRSxDQUFDLGNBQWMsSUFBSSxnQ0FBZ0M7SUFFeEQsSUFBSTFOLE9BQU87UUFDVCxPQUFPO1lBQUVELE1BQU0sQ0FBQztZQUFHQztRQUFNO0lBQzNCO0lBRUEsSUFBSSxDQUFDeU4sV0FBV0EsUUFBUWpNLE1BQU0sS0FBSyxHQUFHO1FBQ3BDLE9BQU87WUFBRXpCLE1BQU0sQ0FBQztZQUFHQyxPQUFPO1FBQUs7SUFDakM7SUFFQSxzQ0FBc0M7SUFDdEMsTUFBTTJOLGdCQUFnQjtXQUFJLElBQUlZLElBQUlkLFFBQVExSyxHQUFHLENBQUMsQ0FBQ0MsT0FBU0EsS0FBS08sYUFBYTtLQUFHO0lBRTdFLE1BQU0sRUFBRXhELE1BQU02TixZQUFZLEVBQUU1TixPQUFPNk4saUJBQWlCLEVBQUUsR0FBRyxNQUFNck8sK0NBQVFBLENBQ3BFUyxJQUFJLENBQUMsZ0JBQ0xDLE1BQU0sQ0FDTCxDQUFDOzs7Ozs7Ozs7SUFTSCxDQUFDLEVBRUE0TixFQUFFLENBQUMsTUFBTUg7SUFFWixJQUFJRSxtQkFBbUI7UUFDckIsT0FBTztZQUFFOU4sTUFBTSxDQUFDO1lBQUdDLE9BQU82TjtRQUFrQjtJQUM5QztJQUVBLDBDQUEwQztJQUMxQyxNQUFNVyxvQkFBMkMsQ0FBQztJQUVsREYsYUFBYUcsT0FBTyxDQUFDLENBQUMvSztRQUNwQixNQUFNZ0wsaUJBQWlCakIsUUFDcEJRLE1BQU0sQ0FBQyxDQUFDakwsT0FBU0EsS0FBSzJMLE9BQU8sS0FBS2pMLGFBQ2xDWCxHQUFHLENBQUMsQ0FBQ0M7WUFDSixNQUFNK0ssYUFBYUgsY0FBYzFCLEtBQy9CLENBQUM4QixJQUFNQSxFQUFFMU4sRUFBRSxLQUFLMEMsS0FBS08sYUFBYTtZQUVwQyxPQUFPd0ssYUFBYTtnQkFBRSxHQUFHL0ssSUFBSTtnQkFBRStLO1lBQVcsSUFBSTtRQUNoRCxHQUNDRSxNQUFNLENBQUMsQ0FBQ2pMLE9BQVNBLFNBQVM7UUFFN0Isb0JBQW9CO1FBQ3BCMEwsZUFBZVIsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUU3SyxLQUFLLEdBQUc4SyxFQUFFOUssS0FBSztRQUUvQ2tMLGlCQUFpQixDQUFDOUssWUFBWSxHQUFHZ0w7SUFDbkM7SUFFQSxPQUFPO1FBQUUzTyxNQUFNeU87UUFBbUJ4TyxPQUFPO0lBQUs7QUFDaEQ7QUFFQSxnQ0FBZ0M7QUFDekIsZUFBZW9HLFlBQVlsRixNQUFjO0lBQzlDLE1BQU0sRUFBRW5CLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsK0NBQVFBLENBQ25DUyxJQUFJLENBQUMsWUFDTEMsTUFBTSxDQUNMLGdHQUVESyxFQUFFLENBQUMsTUFBTVcsUUFDVFYsTUFBTTtJQUVULE9BQU87UUFBRVQ7UUFBTUM7SUFBTTtBQUN2QjtBQUVBLHVFQUF1RTtBQUNoRSxlQUFld0YsdUJBQXVCVCxZQUFvQjtJQUMvRCxJQUFJO1FBQ0YsTUFBTSxFQUFFaEYsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUiwrQ0FBUUEsQ0FDbkNTLElBQUksQ0FBQyxnQkFDTEMsTUFBTSxDQUFDLGNBQ1BLLEVBQUUsQ0FBQyxNQUFNd0UsY0FDVHZFLE1BQU07UUFFVCxJQUFJUixPQUFPO1lBQ1R1QixRQUFRdkIsS0FBSyxDQUFDLDRDQUE0Q0E7WUFDMUQsT0FBTztnQkFBRUQsTUFBTTtnQkFBTUM7WUFBTTtRQUM3QjtRQUVBLE9BQU87WUFBRUQsTUFBTUEsS0FBSzZPLFVBQVU7WUFBRTVPLE9BQU87UUFBSztJQUM5QyxFQUFFLE9BQU9BLE9BQU87UUFDZHVCLFFBQVF2QixLQUFLLENBQUMsNENBQTRDQTtRQUMxRCxPQUFPO1lBQUVELE1BQU07WUFBTUM7UUFBTTtJQUM3QjtBQUNGO0FBRU8sZUFBZTZPLGtCQUFrQnZPLEVBQVU7SUFDaEQsSUFBSTtRQUNGaUIsUUFBUTJELEdBQUcsQ0FBQyw2Q0FBNkM1RTtRQUV6RCxJQUFJLENBQUNBLElBQUk7WUFDUCxNQUFNLElBQUltRixNQUFNO1FBQ2xCO1FBRUEsTUFBTTdDLFNBQVMsTUFBTWhELDhEQUFrQkEsQ0FBQ1U7UUFFeENpQixRQUFRMkQsR0FBRyxDQUFDLHdCQUF3QnRDO1FBRXBDLE9BQU87WUFBRTdDLE1BQU02QztZQUFRNUMsT0FBTztRQUFLO0lBQ3JDLEVBQUUsT0FBT0EsT0FBTztRQUNkdUIsUUFBUXZCLEtBQUssQ0FBQywwQ0FBMENBO1FBQ3hELE9BQU87WUFBRUQsTUFBTTtZQUFNQztRQUFNO0lBQzdCO0FBQ0Y7QUFFTyxlQUFlOE8sZUFBZXhPLEVBQVU7SUFDN0MsSUFBSTtRQUNGaUIsUUFBUTJELEdBQUcsQ0FBQyw2Q0FBNkM1RTtRQUV6RCxJQUFJLENBQUNBLElBQUk7WUFDUCxNQUFNLElBQUltRixNQUFNO1FBQ2xCO1FBRUEsTUFBTXNKLFdBQVcsTUFBTWxQLHlEQUFhQSxDQUFDUztRQUVyQ2lCLFFBQVEyRCxHQUFHLENBQUMsd0JBQXdCNko7UUFFcEMsT0FBTztZQUFFaFAsTUFBTWdQO1lBQVUvTyxPQUFPO1FBQUs7SUFDdkMsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLDBDQUEwQ0E7UUFDeEQsT0FBTztZQUFFRCxNQUFNO1lBQU1DO1FBQU07SUFDN0I7QUFDRiIsInNvdXJjZXMiOlsiQzpcXHhhbXBwXFxodGRvY3NcXEdJVEhVQlxcY2FycGx1c1xcbGliXFxkYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuL3N1cGFiYXNlXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlUGF5bWVudCxcclxuICBjcmVhdGVPclVwZGF0ZUN1c3RvbWVyLFxyXG4gIGdldFBpeFFyQ29kZSxcclxuICBjaGVja1BheW1lbnRTdGF0dXMsXHJcbiAgY2FuY2VsUGF5bWVudCxcclxufSBmcm9tIFwiQC9saWIvYXNhYXNcIjtcclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIHByb2R1dG9zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdXRvcygpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJwcm9kdXRvc1wiKVxyXG4gICAgLnNlbGVjdChcIipcIilcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHV0byhpZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicHJvZHV0b3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJpZFwiLCBpZClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgY8OhbGN1bG9zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWx2YXJDYWxjdWxvKFxyXG4gIHRhbWFuaG9Sb2RhOiBzdHJpbmcsXHJcbiAgYWx0dXJhOiBzdHJpbmcsXHJcbiAgbGFyZ3VyYTogc3RyaW5nLFxyXG4gIHJlc3VsdGFkbzogc3RyaW5nLFxyXG4gIGNvcjogc3RyaW5nXHJcbikge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhbGN1bG9zXCIpXHJcbiAgICAuaW5zZXJ0KFtcclxuICAgICAge1xyXG4gICAgICAgIHRhbWFuaG9fcm9kYTogdGFtYW5ob1JvZGEsXHJcbiAgICAgICAgYWx0dXJhOiBhbHR1cmEsXHJcbiAgICAgICAgbGFyZ3VyYTogbGFyZ3VyYSxcclxuICAgICAgICByZXN1bHRhZG86IHJlc3VsdGFkbyxcclxuICAgICAgICBjb3I6IGNvcixcclxuICAgICAgfSxcclxuICAgIF0pXHJcbiAgICAuc2VsZWN0KCk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIE5vdmEgZnVuw6fDo28gcGFyYSBzYWx2YXIgY8OhbGN1bG9zIGRvIHVzdcOhcmlvIGNvbSBsaW1pdGUgZGUgMTBcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhbHZhckNhbGN1bG9Vc3VhcmlvKFxyXG4gIHVzZXJJZDogc3RyaW5nLFxyXG4gIHRhbWFuaG86IHN0cmluZyxcclxuICBhbHR1cmE6IHN0cmluZyxcclxuICBsYXJndXJhOiBzdHJpbmcsXHJcbiAgcGFjb3RlOiBzdHJpbmdcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIDEuIFZlcmlmaWNhciBxdWFudG9zIGPDoWxjdWxvcyBvIHVzdcOhcmlvIGrDoSB0ZW1cclxuICAgIGNvbnN0IHsgZGF0YTogY2FsY3Vsb3MsIGVycm9yOiBjb250YXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJjYWxjdWxvX3VzdWFyaW9zXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJpZCwgY3JlYXRlZF9hdFwiKVxyXG4gICAgICAuZXEoXCJ1c2VyaWRcIiwgdXNlcklkKVxyXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChjb250YXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBjb250YXIgY8OhbGN1bG9zIGRvIHVzdcOhcmlvOlwiLCBjb250YXJFcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBjb250YXJFcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDIuIFNlIGrDoSB0aXZlciAxMCBvdSBtYWlzLCBleGNsdWlyIG8gbWFpcyBhbnRpZ29cclxuICAgIGlmIChjYWxjdWxvcyAmJiBjYWxjdWxvcy5sZW5ndGggPj0gMTApIHtcclxuICAgICAgY29uc3QgY2FsY3Vsb01haXNBbnRpZ28gPSBjYWxjdWxvc1swXTtcclxuICAgICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJjYWxjdWxvX3VzdWFyaW9zXCIpXHJcbiAgICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgICAgLmVxKFwiaWRcIiwgY2FsY3Vsb01haXNBbnRpZ28uaWQpO1xyXG5cclxuICAgICAgaWYgKGRlbGV0ZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gZXhjbHVpciBjw6FsY3VsbyBtYWlzIGFudGlnbzpcIiwgZGVsZXRlRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBkZWxldGVFcnJvciB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMy4gSW5zZXJpciBvIG5vdm8gY8OhbGN1bG9cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY2FsY3Vsb191c3Vhcmlvc1wiKVxyXG4gICAgICAuaW5zZXJ0KFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB1c2VyaWQ6IHVzZXJJZCxcclxuICAgICAgICAgIHRhbWFuaG86IHRhbWFuaG8sXHJcbiAgICAgICAgICBhbHR1cmE6IGFsdHVyYSxcclxuICAgICAgICAgIGxhcmd1cmE6IGxhcmd1cmEsXHJcbiAgICAgICAgICBwYWNvdGU6IHBhY290ZSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgXSlcclxuICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBzYWx2YXIgY8OhbGN1bG8gZG8gdXN1w6FyaW86XCIsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBzYWx2YXIgY8OhbGN1bG8gZG8gdXN1w6FyaW86XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIG9idGVyIG9zIGPDoWxjdWxvcyBkbyB1c3XDoXJpb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FsY3Vsb3NVc3VhcmlvKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FsY3Vsb191c3Vhcmlvc1wiKVxyXG4gICAgLnNlbGVjdChcIipcIilcclxuICAgIC5lcShcInVzZXJpZFwiLCB1c2VySWQpXHJcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhbGN1bG9zKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FsY3Vsb3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBGdW7Dp8O1ZXMgcGFyYSBwZWRpZG9zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmlhclBlZGlkbyhcclxuICB1c2VySWQ6IHN0cmluZyxcclxuICBpdGVtczogYW55W10sXHJcbiAgdG90YWw6IG51bWJlcixcclxuICB0aXBvRW50cmVnYSA9IFwicmV0aXJhZGFcIixcclxuICBtZXRvZG9QYWdhbWVudG8gPSBcImNhcnRhb1wiLFxyXG4gIGRhZG9zQWRpY2lvbmFpczogYW55ID0ge31cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENyaWFyIG8gcGVkaWRvXHJcbiAgICBjb25zdCB7IGRhdGE6IHBlZGlkbywgZXJyb3I6IHBlZGlkb0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBlZGlkb3NcIilcclxuICAgICAgLmluc2VydChbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgdG90YWw6IHRvdGFsLFxyXG4gICAgICAgICAgdGlwb19lbnRyZWdhOiB0aXBvRW50cmVnYSxcclxuICAgICAgICAgIHBhZ2FtZW50b190aXBvOiBtZXRvZG9QYWdhbWVudG8sXHJcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGVudGVcIixcclxuICAgICAgICAgIGRhZG9zX2FkaWNpb25haXM6IGRhZG9zQWRpY2lvbmFpcywgLy8gQXJtYXplbmEgbyBlbmRlcmXDp28gYWx0ZXJuYXRpdm8gc2UgZXhpc3RpclxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKHBlZGlkb0Vycm9yKSB0aHJvdyBwZWRpZG9FcnJvcjtcclxuXHJcbiAgICAvLyBJbnNlcmlyIG9zIGl0ZW5zIGRvIHBlZGlkb1xyXG4gICAgY29uc3QgaXRlbnMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgIHBlZGlkb19pZDogcGVkaWRvLmlkLFxyXG4gICAgICBwcm9kdXRvX25vbWU6IGl0ZW0ubm9tZSxcclxuICAgICAgcXVhbnRpZGFkZTogaXRlbS5xdWFudGlkYWRlLFxyXG4gICAgICBwcmVjb191bml0YXJpbzogaXRlbS5wcmVjbyxcclxuICAgICAgcmV2ZW5kZWRvcl9pZDogaXRlbS5yZXZlbmRlZG9yX2lkLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3I6IGl0ZW5zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiaXRlbnNfcGVkaWRvXCIpXHJcbiAgICAgIC5pbnNlcnQoaXRlbnMpO1xyXG5cclxuICAgIGlmIChpdGVuc0Vycm9yKSB0aHJvdyBpdGVuc0Vycm9yO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHBlZGlkbywgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY3JpYXIgcGVkaWRvOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gUmVtb3ZlciBhcyBmdW7Dp8O1ZXMgZ2V0Q2xpZW50ZUJ5VXN1YXJpb0lkIGUgZ2FyYW50aXJDbGllbnRlIHF1ZSBlc3RhdmFtIGNyaWFuZG8gdW1hIHRhYmVsYSBjbGllbnRlcyBkZXNuZWNlc3PDoXJpYVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBidXNjYXIgcGFjb3RlIGJhc2VhZG8gbm8gbm9tZSBkbyBwcm9kdXRvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWNvdGVCeVByb2R1dG9Ob21lKHByb2R1dG9Ob21lOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8gTWFwZWFyIG5vbWVzIGRlIHByb2R1dG9zIHBhcmEgcGFjb3Rlc1xyXG4gICAgLy8gVm9jw6ogcG9kZSBhanVzdGFyIGVzc2EgbMOzZ2ljYSBjb25mb3JtZSBzdWEgcmVncmEgZGUgbmVnw7NjaW9cclxuICAgIGNvbnN0IG1hcGVhbWVudG9Qcm9kdXRvczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcclxuICAgICAgXCJNaWNyb2VzZmVyYXMgQXp1bFwiOiAxLFxyXG4gICAgICBcIk1pY3JvZXNmZXJhcyBWZXJtZWxoYVwiOiAyLFxyXG4gICAgICBcIk1pY3JvZXNmZXJhcyBWZXJkZVwiOiAzLFxyXG4gICAgICBcIk1pY3JvZXNmZXJhcyBBbWFyZWxhXCI6IDQsXHJcbiAgICAgIFwiTWljcm9lc2ZlcmFzIFByZXRhXCI6IDUsXHJcbiAgICAgIFwiTWljcm9lc2ZlcmFzIEJyYW5jYVwiOiA2LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZSBleGlzdGUgdW0gbWFwZWFtZW50byBkaXJldG8sIHVzYXIgZWxlXHJcbiAgICBpZiAobWFwZWFtZW50b1Byb2R1dG9zW3Byb2R1dG9Ob21lXSkge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBtYXBlYW1lbnRvUHJvZHV0b3NbcHJvZHV0b05vbWVdLCBlcnJvcjogbnVsbCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhc28gY29udHLDoXJpbywgdGVudGFyIGJ1c2NhciBwb3Igbm9tZSBzaW1pbGFyXHJcbiAgICBjb25zdCB7IGRhdGE6IHBhY290ZXMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBhY290ZXNcIilcclxuICAgICAgLnNlbGVjdChcImlkLCBub21lLCBjb3JcIilcclxuICAgICAgLmlsaWtlKFwibm9tZVwiLCBgJSR7cHJvZHV0b05vbWV9JWApXHJcbiAgICAgIC5saW1pdCgxKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYnVzY2FyIHBhY290ZSBwb3Igbm9tZTpcIiwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiAxLCBlcnJvcjogbnVsbCB9OyAvLyBGYWxsYmFjayBwYXJhIElEIDFcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFjb3RlcyAmJiBwYWNvdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogcGFjb3Rlc1swXS5pZCwgZXJyb3I6IG51bGwgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBuw6NvIGVuY29udHJvdSBuYWRhLCB0ZW50YXIgYnVzY2FyIHBvciBjb3JcclxuICAgIGNvbnN0IGNvcmVzID0gW1wiYXp1bFwiLCBcInZlcm1lbGhhXCIsIFwidmVyZGVcIiwgXCJhbWFyZWxhXCIsIFwicHJldGFcIiwgXCJicmFuY2FcIl07XHJcbiAgICBmb3IgKGNvbnN0IGNvciBvZiBjb3Jlcykge1xyXG4gICAgICBpZiAocHJvZHV0b05vbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb3IpKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwYWNvdGVQb3JDb3IsIGVycm9yOiBlcnJvckNvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKFwicGFjb3Rlc1wiKVxyXG4gICAgICAgICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAgICAgICAuaWxpa2UoXCJjb3JcIiwgYCUke2Nvcn0lYClcclxuICAgICAgICAgIC5saW1pdCgxKTtcclxuXHJcbiAgICAgICAgaWYgKCFlcnJvckNvciAmJiBwYWNvdGVQb3JDb3IgJiYgcGFjb3RlUG9yQ29yLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGE6IHBhY290ZVBvckNvclswXS5pZCwgZXJyb3I6IG51bGwgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGYWxsYmFjayBmaW5hbFxyXG4gICAgcmV0dXJuIHsgZGF0YTogMSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYnVzY2FyIHBhY290ZTpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogMSwgZXJyb3I6IG51bGwgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgYnVzY2FyIHVtIHBhY290ZSB2w6FsaWRvIChwb3IgZW5xdWFudG8gcmV0b3JuYSBvIHByaW1laXJvIGRpc3BvbsOtdmVsKVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFjb3RlVmFsaWRvKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHBhY290ZXMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBhY290ZXNcIilcclxuICAgICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAgIC5saW1pdCgxKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYnVzY2FyIHBhY290ZTpcIiwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gMTsgLy8gRmFsbGJhY2sgcGFyYSBJRCAxXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhY290ZXMgJiYgcGFjb3Rlcy5sZW5ndGggPiAwID8gcGFjb3Rlc1swXS5pZCA6IDE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYWNvdGU6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiAxOyAvLyBGYWxsYmFjayBwYXJhIElEIDFcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgcmVnaXN0cmFyIG11ZGFuw6dhIGRlIHN0YXR1cyBubyBoaXN0w7NyaWNvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RyYXJNdWRhbmNhU3RhdHVzKFxyXG4gIHBlZGlkb0lkOiBudW1iZXIsXHJcbiAgc3RhdHVzQW50ZXJpb3I6IHN0cmluZyB8IG51bGwsXHJcbiAgc3RhdHVzTm92bzogc3RyaW5nLFxyXG4gIG9ic2VydmFjYW8/OiBzdHJpbmcsXHJcbiAgdXBkYXRlZEJ5PzogbnVtYmVyXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBlZGlkb19oaXN0b3JpY29fc3RhdHVzXCIpXHJcbiAgICAgIC5pbnNlcnQoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHBlZGlkb19pZDogcGVkaWRvSWQsXHJcbiAgICAgICAgICBzdGF0dXNfYW50ZXJpb3I6IHN0YXR1c0FudGVyaW9yLFxyXG4gICAgICAgICAgc3RhdHVzX25vdm86IHN0YXR1c05vdm8sXHJcbiAgICAgICAgICBvYnNlcnZhY2FvOiBvYnNlcnZhY2FvLFxyXG4gICAgICAgICAgdXBkYXRlZF9ieTogdXBkYXRlZEJ5LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0pXHJcbiAgICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gcmVnaXN0cmFyIG11ZGFuw6dhIGRlIHN0YXR1czpcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIHJlZ2lzdHJhciBtdWRhbsOnYSBkZSBzdGF0dXM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBTdWJzdGl0dWlyIGEgZnVuw6fDo28gY3JpYXJQZWRpZG9Ob3ZvIHBvciBlc3RhIHZlcnPDo28gY29ycmlnaWRhOlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JpYXJQZWRpZG9Ob3ZvKFxyXG4gIHVzZXJJZDogc3RyaW5nLFxyXG4gIHJldmVuZGVkb3JJZDogbnVtYmVyLFxyXG4gIGl0ZW1zOiBhbnlbXSxcclxuICB2YWxvclRvdGFsOiBudW1iZXIsXHJcbiAgZnJldGU6IG51bWJlcixcclxuICB0aXBvRW50cmVnYTogc3RyaW5nLFxyXG4gIG1ldG9kb1BhZ2FtZW50bzogc3RyaW5nXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluaWNpYW5kbyBjcmlhw6fDo28gZG8gcGVkaWRvIHBhcmEgdXN1w6FyaW86XCIsIHVzZXJJZCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlJldmVuZGVkb3IgSUQ6XCIsIHJldmVuZGVkb3JJZCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkl0ZW1zOlwiLCBpdGVtcyk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlZhbG9yIFRvdGFsOlwiLCB2YWxvclRvdGFsKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRnJldGU6XCIsIGZyZXRlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiVGlwbyBkZSBFbnRyZWdhOlwiLCB0aXBvRW50cmVnYSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIk3DqXRvZG8gZGUgUGFnYW1lbnRvOlwiLCBtZXRvZG9QYWdhbWVudG8pO1xyXG5cclxuICAgIC8vIENvbnZlcnRlciB1c2VySWQgcGFyYSBuw7ptZXJvXHJcbiAgICBjb25zdCBjbGllbnRlSWQgPSBOdW1iZXIucGFyc2VJbnQodXNlcklkKTtcclxuXHJcbiAgICAvLyBCdXNjYXIgbyB1c3VhcmlvX2lkIGRvIHJldmVuZGVkb3IgYmFzZWFkbyBubyByZXZlbmRlZG9yX2lkXHJcbiAgICBjb25zdCB7IGRhdGE6IHJldmVuZGVkb3JVc3VhcmlvSWQsIGVycm9yOiByZXZlbmRlZG9yRXJyb3IgfSA9XHJcbiAgICAgIGF3YWl0IGdldFVzdWFyaW9JZFJldmVuZGVkb3IocmV2ZW5kZWRvcklkKTtcclxuXHJcbiAgICBpZiAocmV2ZW5kZWRvckVycm9yIHx8ICFyZXZlbmRlZG9yVXN1YXJpb0lkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBcIkVycm8gYW8gYnVzY2FyIHJldmVuZGVkb3I6IFwiICtcclxuICAgICAgICAgIChyZXZlbmRlZG9yRXJyb3I/Lm1lc3NhZ2UgfHwgXCJSZXZlbmRlZG9yIG7Do28gZW5jb250cmFkb1wiKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50ZSBJRDpcIiwgY2xpZW50ZUlkKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUmV2ZW5kZWRvciBJRDpcIiwgcmV2ZW5kZWRvcklkKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUmV2ZW5kZWRvciBVc3VhcmlvIElEOlwiLCByZXZlbmRlZG9yVXN1YXJpb0lkKTtcclxuXHJcbiAgICAvLyBHZXJhciBuw7ptZXJvIGRvIHBlZGlkbyDDum5pY29cclxuICAgIGNvbnN0IG51bWVyb1BlZGlkbyA9IGBQRUQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKClcclxuICAgICAgLnRvU3RyaW5nKDM2KVxyXG4gICAgICAuc3Vic3RyKDIsIDQpXHJcbiAgICAgIC50b1VwcGVyQ2FzZSgpfWA7XHJcblxyXG4gICAgLy8gRGVmaW5pciBzdGF0dXMgaW5pY2lhbCBiYXNlYWRvIG5vIHRpcG8gZGUgZW50cmVnYVxyXG4gICAgY29uc3Qgc3RhdHVzSW5pY2lhbCA9XHJcbiAgICAgIHRpcG9FbnRyZWdhID09PSBcInJldGlyYWRhXCJcclxuICAgICAgICA/IFwiYWd1YXJkYW5kb19wcmVwYXJhY2FvXCJcclxuICAgICAgICA6IFwiYWd1YXJkYW5kb19hY2VpdGVcIjtcclxuXHJcbiAgICAvLyBDcmlhciBvIHBlZGlkbyB1c2FuZG8gbyBzY2hlbWEgY29ycmV0b1xyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VySW5mbyhjbGllbnRlSWQudG9TdHJpbmcoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlVzZXI6XCIsIHVzZXIpO1xyXG5cclxuICAgIGlmICghdXNlci5kYXRhKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzdcOhcmlvIG7Do28gZW5jb250cmFkb1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgICF1c2VyLmRhdGE/Lm5vbWUgfHxcclxuICAgICAgIXVzZXIuZGF0YT8uZW1haWwgfHxcclxuICAgICAgIXVzZXIuZGF0YT8udGVsZWZvbmUgfHxcclxuICAgICAgIXVzZXIuZGF0YT8uY3BmXHJcbiAgICApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGFkb3MgZG8gdXN1w6FyaW8gaW5jb21wbGV0b3NcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xpZW50ZSA9IGF3YWl0IGNyZWF0ZU9yVXBkYXRlQ3VzdG9tZXIoe1xyXG4gICAgICBuYW1lOiB1c2VyLmRhdGE/Lm5vbWUgKyBcIiBcIiArIHVzZXIuZGF0YT8uc29icmVub21lLFxyXG4gICAgICBlbWFpbDogdXNlci5kYXRhPy5lbWFpbCxcclxuICAgICAgcGhvbmU6IHVzZXIuZGF0YT8udGVsZWZvbmUsXHJcbiAgICAgIG1vYmlsZVBob25lOiB1c2VyLmRhdGE/LnRlbGVmb25lLFxyXG4gICAgICBjcGZDbnBqOiB1c2VyLmRhdGE/LmNwZixcclxuICAgICAgcG9zdGFsQ29kZTogdXNlci5kYXRhPy5jZXAsXHJcbiAgICAgIGFkZHJlc3M6IHVzZXIuZGF0YT8ucnVhLFxyXG4gICAgICBhZGRyZXNzTnVtYmVyOiB1c2VyLmRhdGE/Lm51bWVybyxcclxuICAgICAgY29tcGxlbWVudDogdXNlci5kYXRhPy5jb21wbGVtZW50byxcclxuICAgICAgcHJvdmluY2U6IHVzZXIuZGF0YT8uYmFpcnJvLFxyXG4gICAgICBjaXR5OiB1c2VyLmRhdGE/LmNpZGFkZSxcclxuICAgICAgc3RhdGU6IHVzZXIuZGF0YT8udWYsXHJcbiAgICAgIGV4dGVybmFsUmVmZXJlbmNlOiB1c2VyLmRhdGE/LmlkLnRvU3RyaW5nKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkNsaWVudGUgY3JpYWRvOlwiLCBjbGllbnRlKTtcclxuXHJcbiAgICBjb25zdCBwYWdhbWVudG9EYXRhOiBBc2Fhc1BheW1lbnQgPSB7XHJcbiAgICAgIGJpbGxpbmdUeXBlOiBtZXRvZG9QYWdhbWVudG8gYXNcclxuICAgICAgICB8IFwiQk9MRVRPXCJcclxuICAgICAgICB8IFwiQ1JFRElUX0NBUkRcIlxyXG4gICAgICAgIHwgXCJQSVhcIlxyXG4gICAgICAgIHwgXCJVTkRFRklORURcIixcclxuICAgICAgY3VzdG9tZXI6IGNsaWVudGUuaWQsXHJcbiAgICAgIHZhbHVlOiBOdW1iZXIodmFsb3JUb3RhbCkgKyBOdW1iZXIoZnJldGUpLFxyXG4gICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMClcclxuICAgICAgICAudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIC5zcGxpdChcIlRcIilbMF0sXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBgIyR7bnVtZXJvUGVkaWRvfWAsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChtZXRvZG9QYWdhbWVudG8gPT09IFwiQ1JFRElUX0NBUkRcIikge1xyXG4gICAgICBwYWdhbWVudG9EYXRhLmNyZWRpdENhcmQgPSB7XHJcbiAgICAgICAgaG9sZGVyTmFtZTogdXNlci5kYXRhLm5vbWUgKyBcIiBcIiArIHVzZXIuZGF0YS5zb2JyZW5vbWUsXHJcbiAgICAgICAgbnVtYmVyOiBcIjQxMTExMTExMTExMTExMTFcIixcclxuICAgICAgICBleHBpcnlNb250aDogXCIxMlwiLFxyXG4gICAgICAgIGV4cGlyeVllYXI6IFwiMjAyNVwiLFxyXG4gICAgICAgIGNjdjogXCIxMjNcIixcclxuICAgICAgfTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5pbnN0YWxsbWVudENvdW50ID0gMTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS50b3RhbFZhbHVlID0gTnVtYmVyKHZhbG9yVG90YWwpICsgTnVtYmVyKGZyZXRlKTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5pbnN0YWxsbWVudFZhbHVlID0gTnVtYmVyKHZhbG9yVG90YWwpICsgTnVtYmVyKGZyZXRlKTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5kaXNjb3VudCA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBkdWVEYXRlTGltaXREYXlzOiAwLFxyXG4gICAgICAgIHR5cGU6IFwiRklYRURcIixcclxuICAgICAgfTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5pbnRlcmVzdCA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgfTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5maW5lID0ge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICB9O1xyXG4gICAgICBwYWdhbWVudG9EYXRhLmNyZWRpdENhcmRIb2xkZXJJbmZvID0ge1xyXG4gICAgICAgIG5hbWU6IHVzZXIuZGF0YS5ub21lICsgXCIgXCIgKyB1c2VyLmRhdGEuc29icmVub21lLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyLmRhdGEuZW1haWwsXHJcbiAgICAgICAgY3BmQ25wajogdXNlci5kYXRhLmNwZixcclxuICAgICAgICBwb3N0YWxDb2RlOiB1c2VyLmRhdGEuY2VwLFxyXG4gICAgICAgIGFkZHJlc3NOdW1iZXI6IHVzZXIuZGF0YS5udW1lcm8sXHJcbiAgICAgICAgYWRkcmVzc0NvbXBsZW1lbnQ6IHVzZXIuZGF0YS5jb21wbGVtZW50byB8fCBcIlwiLFxyXG4gICAgICAgIHBob25lOiB1c2VyLmRhdGEudGVsZWZvbmUsXHJcbiAgICAgICAgbW9iaWxlUGhvbmU6IHVzZXIuZGF0YS50ZWxlZm9uZSxcclxuICAgICAgfTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5yZW1vdGVJcCA9IFwiMTI3LjAuMC4xXCI7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGFnYW1lbnRvID0gYXdhaXQgY3JlYXRlUGF5bWVudChwYWdhbWVudG9EYXRhKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlBhZ2FtZW50byBjcmlhZG86XCIsIHBhZ2FtZW50byk7XHJcblxyXG4gICAgaWYgKCFwYWdhbWVudG8uaWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJybyBhbyBjcmlhciBwYWdhbWVudG8gbm8gQXNhYXNcIik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGRhZG9zUGFnYW1lbnRvID0gbnVsbDtcclxuICAgIGlmIChtZXRvZG9QYWdhbWVudG8gPT09IFwiUElYXCIgfHwgbWV0b2RvUGFnYW1lbnRvID09PSBcIkJPTEVUT1wiKSB7XHJcbiAgICAgIGRhZG9zUGFnYW1lbnRvID0gYXdhaXQgZ2V0UGl4UXJDb2RlKHBhZ2FtZW50by5pZCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiUVIgQ29kZSBQSVg6XCIsIGRhZG9zUGFnYW1lbnRvKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcGl4ID0gbnVsbDtcclxuICAgIGxldCBib2xldG8gPSBudWxsO1xyXG5cclxuICAgIGlmIChkYWRvc1BhZ2FtZW50bykge1xyXG4gICAgICBwaXggPSBkYWRvc1BhZ2FtZW50by5waXg7XHJcbiAgICAgIGJvbGV0byA9IGRhZG9zUGFnYW1lbnRvLmJhbmtTbGlwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogcGVkaWRvLCBlcnJvcjogcGVkaWRvRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicGVkaWRvc1wiKVxyXG4gICAgICAuaW5zZXJ0KFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjbGllbnRlX2lkOiBjbGllbnRlSWQsIC8vIElEIGRvIHVzdcOhcmlvIHF1ZSBmZXogYSBjb21wcmFcclxuICAgICAgICAgIHJldmVuZGVkb3JfaWQ6IHJldmVuZGVkb3JVc3VhcmlvSWQsIC8vIElEIGRvIHVzdcOhcmlvIHJldmVuZGVkb3IgKGRhIHRhYmVsYSB1c3VhcmlvcylcclxuICAgICAgICAgIG51bWVybzogbnVtZXJvUGVkaWRvLFxyXG4gICAgICAgICAgZnJldGU6IGZyZXRlLFxyXG4gICAgICAgICAgdmFsb3JfdG90YWw6IHZhbG9yVG90YWwsXHJcbiAgICAgICAgICBwYWdhbWVudG9fdGlwbzogbWV0b2RvUGFnYW1lbnRvLFxyXG4gICAgICAgICAgdGlwb19lbnRyZWdhOiB0aXBvRW50cmVnYSxcclxuICAgICAgICAgIHN0YXR1czogXCJwZW5kZW50ZVwiLCAvLyBTdGF0dXMgZGUgcGFnYW1lbnRvXHJcbiAgICAgICAgICBzdGF0dXNfZGV0YWxoYWRvOiBzdGF0dXNJbmljaWFsLCAvLyBTdGF0dXMgZGV0YWxoYWRvIGJhc2VhZG8gbm8gdGlwbyBkZSBlbnRyZWdhXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBwYWdhbWVudG9faWQ6IHBhZ2FtZW50by5pZCxcclxuICAgICAgICB9LFxyXG4gICAgICBdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChwZWRpZG9FcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBjcmlhciBwZWRpZG86XCIsIHBlZGlkb0Vycm9yKTtcclxuICAgICAgdGhyb3cgcGVkaWRvRXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG8gc3RhdHVzIGluaWNpYWwgbm8gaGlzdMOzcmljb1xyXG4gICAgYXdhaXQgcmVnaXN0cmFyTXVkYW5jYVN0YXR1cyhcclxuICAgICAgcGVkaWRvLmlkLFxyXG4gICAgICBudWxsLFxyXG4gICAgICBzdGF0dXNJbmljaWFsLFxyXG4gICAgICBcIlBlZGlkbyBjcmlhZG9cIixcclxuICAgICAgbnVsbFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBQcmVwYXJhciBpdGVucyBwYXJhIGluc2Vyw6fDo28gY29tIHBhY290ZV9pZCBjb3JyZXRvIHBhcmEgY2FkYSBpdGVtXHJcbiAgICBjb25zdCBpdGVuc1BhcmFJbnNlcmlyID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIGl0ZW1zLm1hcChhc3luYyAoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAvLyBCdXNjYXIgbyBwYWNvdGVfaWQgY29ycmV0byBiYXNlYWRvIG5vIG5vbWUgZG8gcHJvZHV0b1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFjb3RlSWQgfSA9IGF3YWl0IGdldFBhY290ZUJ5UHJvZHV0b05vbWUoaXRlbS5ub21lKTtcclxuXHJcbiAgICAgICAgY29uc3QgaXRlbVBhcmFJbnNlcmlyID0ge1xyXG4gICAgICAgICAgcGVkaWRvX2lkOiBwZWRpZG8uaWQsXHJcbiAgICAgICAgICBwYWNvdGVfaWQ6IHBhY290ZUlkLFxyXG4gICAgICAgICAgcXRkOiBOdW1iZXIoaXRlbS5xdWFudGlkYWRlKSB8fCAwLFxyXG4gICAgICAgICAgdmFsb3JfdW5pdGFyaW86IE51bWJlcihpdGVtLnByZWNvKSB8fCAwLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBJdGVtICR7aW5kZXggKyAxfSBwcmVwYXJhZG86YCwgaXRlbVBhcmFJbnNlcmlyKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUHJvZHV0bzogJHtpdGVtLm5vbWV9IC0+IFBhY290ZSBJRDogJHtwYWNvdGVJZH1gKTtcclxuICAgICAgICByZXR1cm4gaXRlbVBhcmFJbnNlcmlyO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlRvZG9zIG9zIGl0ZW5zIHByZXBhcmFkb3M6XCIsIGl0ZW5zUGFyYUluc2VyaXIpO1xyXG5cclxuICAgIC8vIEluc2VyaXIgb3MgaXRlbnMgZG8gcGVkaWRvXHJcbiAgICBjb25zdCB7IGRhdGE6IGl0ZW5zSW5zZXJpZG9zLCBlcnJvcjogaXRlbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwZWRpZG9faXRlbnNcIilcclxuICAgICAgLmluc2VydChpdGVuc1BhcmFJbnNlcmlyKVxyXG4gICAgICAuc2VsZWN0KCk7XHJcblxyXG4gICAgaWYgKGl0ZW5zRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gZGV0YWxoYWRvIGFvIGluc2VyaXIgaXRlbnMgZG8gcGVkaWRvOlwiLCBpdGVuc0Vycm9yKTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkRhZG9zIHF1ZSB0ZW50YW1vcyBpbnNlcmlyOlwiLCBpdGVuc1BhcmFJbnNlcmlyKTtcclxuICAgICAgdGhyb3cgaXRlbnNFcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkl0ZW5zIGluc2VyaWRvcyBjb20gc3VjZXNzbzpcIiwgaXRlbnNJbnNlcmlkb3MpO1xyXG4gICAgY29uc29sZS5sb2coXCJQYWdhbWVudG8gY3JpYWRvIGNvbSBzdWNlc3NvOlwiLCBwaXgpO1xyXG4gICAgY29uc29sZS5sb2coXCJQYWdhbWVudG8gY3JpYWRvIGNvbSBzdWNlc3NvOlwiLCBib2xldG8pO1xyXG4gICAgY29uc29sZS5sb2coXCJQYWdhbWVudG8gY3JpYWRvIGNvbSBzdWNlc3NvOlwiLCBwYWdhbWVudG8uaWQpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IHBlZGlkbyxcclxuICAgICAgcGl4LFxyXG4gICAgICBib2xldG8sXHJcbiAgICAgIHBhZ2FtZW50b0lkOiBwYWdhbWVudG8uaWQsXHJcbiAgICAgIGVycm9yOiBudWxsLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY3JpYXIgcGVkaWRvOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBhdHVhbGl6YXIgc3RhdHVzIGRvIHBlZGlkb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXR1YWxpemFyU3RhdHVzUGVkaWRvKFxyXG4gIHBlZGlkb0lkOiBudW1iZXIsXHJcbiAgbm92b1N0YXR1czogc3RyaW5nLFxyXG4gIGRhdGFFc3RpbWFkYT86IHN0cmluZyxcclxuICBvYnNlcnZhY29lcz86IHN0cmluZyxcclxuICB1cGRhdGVkQnk/OiBudW1iZXJcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFByaW1laXJvLCBidXNjYXIgbyBzdGF0dXMgYXR1YWxcclxuICAgIGNvbnN0IHsgZGF0YTogcGVkaWRvQXR1YWwsIGVycm9yOiBlcnJvckJ1c2NhIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBlZGlkb3NcIilcclxuICAgICAgLnNlbGVjdChcInN0YXR1c19kZXRhbGhhZG9cIilcclxuICAgICAgLmVxKFwiaWRcIiwgcGVkaWRvSWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3JCdXNjYSkge1xyXG4gICAgICB0aHJvdyBlcnJvckJ1c2NhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBhcmFyIGRhZG9zIHBhcmEgYXR1YWxpemHDp8Ojb1xyXG4gICAgY29uc3QgZGFkb3NBdHVhbGl6YWNhbzogYW55ID0ge1xyXG4gICAgICBzdGF0dXNfZGV0YWxoYWRvOiBub3ZvU3RhdHVzLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkYXRhRXN0aW1hZGEpIHtcclxuICAgICAgZGFkb3NBdHVhbGl6YWNhby5kYXRhX2VzdGltYWRhX2VudHJlZ2EgPSBkYXRhRXN0aW1hZGE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9ic2VydmFjb2VzKSB7XHJcbiAgICAgIGRhZG9zQXR1YWxpemFjYW8ub2JzZXJ2YWNvZXNfcmV2ZW5kZWRvciA9IG9ic2VydmFjb2VzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIG8gc3RhdHVzIGZvciBcImVudHJlZ3VlXCIgb3UgXCJyZXRpcmFkb1wiLCBkZWZpbmlyIGRhdGEgcmVhbFxyXG4gICAgaWYgKG5vdm9TdGF0dXMgPT09IFwiZW50cmVndWVcIiB8fCBub3ZvU3RhdHVzID09PSBcInJldGlyYWRvXCIpIHtcclxuICAgICAgZGFkb3NBdHVhbGl6YWNhby5kYXRhX2VudHJlZ2FfcmVhbCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBdHVhbGl6YXIgbyBwZWRpZG9cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicGVkaWRvc1wiKVxyXG4gICAgICAudXBkYXRlKGRhZG9zQXR1YWxpemFjYW8pXHJcbiAgICAgIC5lcShcImlkXCIsIHBlZGlkb0lkKVxyXG4gICAgICAuc2VsZWN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlZ2lzdHJhciBtdWRhbsOnYSBubyBoaXN0w7NyaWNvXHJcbiAgICBhd2FpdCByZWdpc3RyYXJNdWRhbmNhU3RhdHVzKFxyXG4gICAgICBwZWRpZG9JZCxcclxuICAgICAgcGVkaWRvQXR1YWwuc3RhdHVzX2RldGFsaGFkbyxcclxuICAgICAgbm92b1N0YXR1cyxcclxuICAgICAgb2JzZXJ2YWNvZXMsXHJcbiAgICAgIHVwZGF0ZWRCeVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBhdHVhbGl6YXIgc3RhdHVzIGRvIHBlZGlkbzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQZWRpZG9zKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicGVkaWRvc1wiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgYFxyXG4gICAgICAqLFxyXG4gICAgICBpdGVuc19wZWRpZG86aXRlbnNfcGVkaWRvKFxyXG4gICAgICAgICosXHJcbiAgICAgICAgcHJvZHV0bzpwcm9kdXRvcygqKVxyXG4gICAgICApXHJcbiAgICBgXHJcbiAgICApXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBTdWJzdGl0dWlyIGEgZnVuw6fDo28gZ2V0UGVkaWRvc0NsaWVudGUgcG9yIGVzdGEgdmVyc8OjbyBjb3JyaWdpZGE6XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQZWRpZG9zQ2xpZW50ZSh1c2VySWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkJ1c2NhbmRvIHBlZGlkb3MgcGFyYSB1c3XDoXJpbzpcIiwgdXNlcklkKTtcclxuXHJcbiAgICAvLyBDb252ZXJ0ZXIgdXNlcklkIHBhcmEgbsO6bWVyb1xyXG4gICAgY29uc3QgY2xpZW50ZUlkID0gTnVtYmVyLnBhcnNlSW50KHVzZXJJZCk7XHJcblxyXG4gICAgLy8gQnVzY2FyIHBlZGlkb3MgdXNhbmRvIG8gY2xpZW50ZV9pZCBkaXJldGFtZW50ZVxyXG4gICAgY29uc3QgeyBkYXRhOiBwZWRpZG9zLCBlcnJvcjogcGVkaWRvc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBlZGlkb3NcIilcclxuICAgICAgLnNlbGVjdChcclxuICAgICAgICBgXHJcbiAgICAgICAgKixcclxuICAgICAgICBwZWRpZG9faXRlbnM6cGVkaWRvX2l0ZW5zKFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBwZWRpZG9faWQsXHJcbiAgICAgICAgICBwYWNvdGVfaWQsXHJcbiAgICAgICAgICBxdGQsXHJcbiAgICAgICAgICB2YWxvcl91bml0YXJpbyxcclxuICAgICAgICAgIHBhY290ZXM6cGFjb3RlcyhpZCwgZGVzY3JpY2FvLCBjb3IsIGltYWdlbSlcclxuICAgICAgICApXHJcbiAgICAgIGBcclxuICAgICAgKVxyXG4gICAgICAuZXEoXCJjbGllbnRlX2lkXCIsIGNsaWVudGVJZCkgLy8gQ29ycmlnaWRvOiBjbGllbnRlX2lkIGVtIHZleiBkZSBjbGllbnRfaWRcclxuICAgICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJQZWRpZG9zIGVuY29udHJhZG9zOlwiLCBwZWRpZG9zPy5sZW5ndGggfHwgMCk7XHJcblxyXG4gICAgaWYgKHBlZGlkb3NFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgcGVkaWRvczpcIiwgcGVkaWRvc0Vycm9yKTtcclxuICAgICAgdGhyb3cgcGVkaWRvc0Vycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHBlZGlkb3MgfHwgW10sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwZWRpZG9zIGRvIGNsaWVudGU6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBidXNjYXIgdGFtYW5ob3MgZGUgcm9kYXMgZGlzcG9uw612ZWlzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUYW1hbmhvcygpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJ0YW1hbmhvc1wiKVxyXG4gICAgLnNlbGVjdChcImlkLCBub21lXCIpXHJcbiAgICAub3JkZXIoXCJub21lXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGJ1c2NhciBhbHR1cmFzIGRpc3BvbsOtdmVpcyBjb20gYmFzZSBubyB0YW1hbmhvIGRhIHJvZGFcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsdHVyYXNCeVRhbWFuaG9JZCh0YW1hbmhvSWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImFsdHVyYXNcIilcclxuICAgIC5zZWxlY3QoXCJpZCwgdmFsb3JcIilcclxuICAgIC5lcShcInRhbWFuaG9faWRcIiwgdGFtYW5ob0lkKVxyXG4gICAgLm9yZGVyKFwidmFsb3JcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XHJcblxyXG4gIC8vIFJlbW92ZXIgZHVwbGljYXRhcyBiYXNlYWRvIG5vIHZhbG9yXHJcbiAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCB1bmlxdWVBbHR1cmFzID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55W10sIGN1cnJlbnQpID0+IHtcclxuICAgICAgY29uc3QgZXhpc3RzID0gYWNjLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmFsb3IgPT09IGN1cnJlbnQudmFsb3IpO1xyXG4gICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgIGFjYy5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogdW5pcXVlQWx0dXJhcywgZXJyb3IgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgYnVzY2FyIGxhcmd1cmFzIGJhc2VkIG9uIGFsdHVyYV9pZFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGFyZ3VyYXNCeUFsdHVyYUlkKGFsdHVyYUlkOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIvCflI0gQnVzY2FuZG8gbGFyZ3VyYXMgcGFyYSBhbHR1cmFJZDpcIiwgYWx0dXJhSWQpO1xyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJsYXJndXJhc1wiKVxyXG4gICAgLnNlbGVjdChcImlkLCB2YWxvclwiKVxyXG4gICAgLmVxKFwiYWx0dXJhX2lkXCIsIGFsdHVyYUlkKVxyXG4gICAgLm9yZGVyKFwidmFsb3JcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XHJcblxyXG4gIC8vIFJlbW92ZXIgZHVwbGljYXRhcyBiYXNlYWRvIG5vIHZhbG9yXHJcbiAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCB1bmlxdWVMYXJndXJhcyA9IGRhdGEucmVkdWNlKChhY2M6IGFueVtdLCBjdXJyZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGV4aXN0cyA9IGFjYy5maW5kKChpdGVtKSA9PiBpdGVtLnZhbG9yID09PSBjdXJyZW50LnZhbG9yKTtcclxuICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICBhY2MucHVzaChjdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwi8J+TjyBMYXJndXJhcyDDum5pY2FzIGVuY29udHJhZGFzOlwiLCB7XHJcbiAgICAgIGRhdGE6IHVuaXF1ZUxhcmd1cmFzLFxyXG4gICAgICBlcnJvcixcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogdW5pcXVlTGFyZ3VyYXMsIGVycm9yIH07XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIvCfk48gTGFyZ3VyYXMgZW5jb250cmFkYXM6XCIsIHsgZGF0YSwgZXJyb3IgfSk7XHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBidXNjYXIgcGFja2FnZSBkZXRhaWxzIGJ5IGxhcmd1cmFfaWRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBhY290ZUJ5TGFyZ3VyYUlkKGxhcmd1cmFJZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+UjSBCdXNjYW5kbyBwYWNvdGUgcGFyYSBsYXJndXJhSWQ6XCIsIGxhcmd1cmFJZCk7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwYWNvdGVzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAgIC5lcShcImxhcmd1cmFfaWRcIiwgbGFyZ3VyYUlkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCLwn5OmIFJlc3VsdGFkbyBkYSBidXNjYTpcIiwgeyBkYXRhLCBlcnJvciB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvIGFvIGJ1c2NhciBwYWNvdGUgcG9yIGxhcmd1cmFfaWQ6XCIsIGVycm9yKTtcclxuICAgICAgLy8gRmFsbGJhY2s6IHJldG9ybmFyIHVtIHBhY290ZSBwYWRyw6NvXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICBub21lOiBcIkxUUDYwXCIsXHJcbiAgICAgICAgICBjb3I6IFwiIzRBNDk1M1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTmVuaHVtIHBhY290ZSBlbmNvbnRyYWRvIHBhcmEgbGFyZ3VyYV9pZDpcIiwgbGFyZ3VyYUlkKTtcclxuICAgICAgLy8gRmFsbGJhY2s6IHJldG9ybmFyIHVtIHBhY290ZSBwYWRyw6NvXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICBub21lOiBcIkxUUDYwXCIsXHJcbiAgICAgICAgICBjb3I6IFwiIzRBNDk1M1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWp1c3RhciBkYWRvcyBzZSBub21lIGVzdGl2ZXIgbnVsbFxyXG4gICAgY29uc3QgcGFjb3RlQWp1c3RhZG8gPSB7XHJcbiAgICAgIGlkOiBkYXRhLmlkLFxyXG4gICAgICBub21lOiBkYXRhLm5vbWUgfHwgZGF0YS5kZXNjcmljYW8gfHwgXCJMVFA2MFwiLFxyXG4gICAgICBjb3I6IGRhdGEuY29yIHx8IFwiIzk0OTY5OFwiLCAvLyBDb3IgcGFkcsOjbyBiYXNlYWRhIG5vcyBkYWRvcyBleGlzdGVudGVzXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHBhY290ZUFqdXN0YWRvLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgcGFjb3RlOlwiLCBlcnJvcik7XHJcbiAgICAvLyBGYWxsYmFjazogcmV0b3JuYXIgdW0gcGFjb3RlIHBhZHLDo29cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBpZDogMSxcclxuICAgICAgICBub21lOiBcIkxUUDYwXCIsXHJcbiAgICAgICAgY29yOiBcIiM0QTQ5NTNcIixcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gRlVOw4fDlUVTIERPIENBUlJJTkhPID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBCdXNjYXIgY2FycmluaG8gZG8gdXN1w6FyaW9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhcnJpbmhvVXN1YXJpbyh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXHJcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gQWRpY2lvbmFyIGl0ZW0gYW8gY2FycmluaG9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkaWNpb25hckl0ZW1DYXJyaW5obyhcclxuICB1c2VySWQ6IHN0cmluZyxcclxuICBwcm9kdXRvTm9tZTogc3RyaW5nLFxyXG4gIHF1YW50aWRhZGUgPSA1LFxyXG4gIGltYWdlbT86IHN0cmluZ1xyXG4pIHtcclxuICAvLyBFbnN1cmUgcXVhbnRpdHkgaXMgYSBtdWx0aXBsZSBvZiA1IGFuZCBhdCBsZWFzdCA1XHJcbiAgY29uc3QgYWRqdXN0ZWRRdWFudGl0eSA9IE1hdGgubWF4KE1hdGgucm91bmQocXVhbnRpZGFkZSAvIDUpICogNSwgNSk7XHJcblxyXG4gIC8vIFZlcmlmaWNhciBzZSBvIGl0ZW0gasOhIGV4aXN0ZSBubyBjYXJyaW5ob1xyXG4gIGNvbnN0IHsgZGF0YTogaXRlbUV4aXN0ZW50ZSwgZXJyb3I6IGVycm9yQnVzY2EgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXHJcbiAgICAuZXEoXCJwcm9kdXRvX25vbWVcIiwgcHJvZHV0b05vbWUpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvckJ1c2NhICYmIGVycm9yQnVzY2EuY29kZSAhPT0gXCJQR1JTVDExNlwiKSB7XHJcbiAgICAvLyBQR1JTVDExNiA9IE5vIHJvd3MgZm91bmQgKGVzcGVyYWRvIHNlIGl0ZW0gbsOjbyBleGlzdGUpXHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3JCdXNjYSB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKGl0ZW1FeGlzdGVudGUpIHtcclxuICAgIC8vIEl0ZW0gasOhIGV4aXN0ZSwgYWRpY2lvbmFyIDUgdW5pZGFkZXNcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgcXVhbnRpZGFkZTogaXRlbUV4aXN0ZW50ZS5xdWFudGlkYWRlICsgNSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcShcImlkXCIsIGl0ZW1FeGlzdGVudGUuaWQpXHJcbiAgICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJdGVtIG7Do28gZXhpc3RlLCBjcmlhciBub3ZvIGNvbSBxdWFudGlkYWRlIGFqdXN0YWRhXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAgIC5pbnNlcnQoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgIHByb2R1dG9fbm9tZTogcHJvZHV0b05vbWUsXHJcbiAgICAgICAgICBxdWFudGlkYWRlOiBhZGp1c3RlZFF1YW50aXR5LFxyXG4gICAgICAgICAgaW1hZ2VtOiBpbWFnZW0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSlcclxuICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBdHVhbGl6YXIgcXVhbnRpZGFkZSBkZSBpdGVtIG5vIGNhcnJpbmhvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHVhbGl6YXJRdWFudGlkYWRlQ2FycmluaG8oXHJcbiAgdXNlcklkOiBzdHJpbmcsXHJcbiAgcHJvZHV0b05vbWU6IHN0cmluZyxcclxuICBxdWFudGlkYWRlOiBudW1iZXJcclxuKSB7XHJcbiAgLy8gRW5zdXJlIHF1YW50aXR5IGlzIGEgbXVsdGlwbGUgb2YgNSBhbmQgYXQgbGVhc3QgNVxyXG4gIGNvbnN0IGFkanVzdGVkUXVhbnRpdHkgPSBNYXRoLm1heChNYXRoLnJvdW5kKHF1YW50aWRhZGUgLyA1KSAqIDUsIDUpO1xyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJjYXJyaW5ob191c3Vhcmlvc1wiKVxyXG4gICAgLnVwZGF0ZSh7XHJcbiAgICAgIHF1YW50aWRhZGU6IGFkanVzdGVkUXVhbnRpdHksXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH0pXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5lcShcInByb2R1dG9fbm9tZVwiLCBwcm9kdXRvTm9tZSlcclxuICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gUmVtb3ZlciBpdGVtIGRvIGNhcnJpbmhvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVySXRlbUNhcnJpbmhvKHVzZXJJZDogc3RyaW5nLCBwcm9kdXRvTm9tZTogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgIC5kZWxldGUoKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXHJcbiAgICAuZXEoXCJwcm9kdXRvX25vbWVcIiwgcHJvZHV0b05vbWUpO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBMaW1wYXIgY2FycmluaG8gZG8gdXN1w6FyaW9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbXBhckNhcnJpbmhvVXN1YXJpbyh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAuZGVsZXRlKClcclxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gQXR1YWxpemFyIGNhcnJpbmhvIGNvbXBsZXRvIGRvIHVzdcOhcmlvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHVhbGl6YXJDYXJyaW5ob1VzdWFyaW8odXNlcklkOiBzdHJpbmcsIGl0ZW1zOiBhbnlbXSkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBQcmltZWlybywgbGltcGFyIG8gY2FycmluaG8gYXR1YWxcclxuICAgIGF3YWl0IGxpbXBhckNhcnJpbmhvVXN1YXJpbyh1c2VySWQpO1xyXG5cclxuICAgIC8vIFNlIG7Do28gaMOhIGl0ZW5zLCBhcGVuYXMgcmV0b3JuYXIgc3VjZXNzb1xyXG4gICAgaWYgKCFpdGVtcyB8fCBpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbnNlcmlyIHRvZG9zIG9zIG5vdm9zIGl0ZW5zXHJcbiAgICBjb25zdCBpdGVuc1BhcmFJbnNlcmlyID0gaXRlbXMubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgIHByb2R1dG9fbm9tZTogaXRlbS5ub21lLFxyXG4gICAgICBxdWFudGlkYWRlOiBpdGVtLnF1YW50aWRhZGUsXHJcbiAgICAgIGltYWdlbTogaXRlbS5pbWFnZW0sXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH0pKTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAgIC5pbnNlcnQoaXRlbnNQYXJhSW5zZXJpcilcclxuICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGF0dWFsaXphciBjYXJyaW5obzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IEZVTsOHw5VFUyBERSBSRVZFTkRFRE9SRVMgRSBFU1RPUVVFID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBCdXNjYXIgcmV2ZW5kZWRvcmVzIHF1ZSBwb3NzdWVtIHVtIHByb2R1dG8gZXNwZWPDrWZpY28gZW0gZXN0b3F1ZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmV2ZW5kZWRvcmVzQ29tUHJvZHV0byhwcm9kdXRvTm9tZTogc3RyaW5nKSB7XHJcbiAgLy8gVXNhbmRvIEpPSU4gbWFudWFsIGVtIHZleiBkZSByZWxhY2lvbmFtZW50b1xyXG4gIGNvbnN0IHsgZGF0YTogZXN0b3F1ZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInJldmVuZGVkb3JfZXN0b3F1ZVwiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgYFxyXG4gICAgICBpZCxcclxuICAgICAgcmV2ZW5kZWRvcl9pZCxcclxuICAgICAgcHJvZHV0byxcclxuICAgICAgcXVhbnRpZGFkZSxcclxuICAgICAgcHJlY28sXHJcbiAgICAgIHN0YXR1c1xyXG4gICAgYFxyXG4gICAgKVxyXG4gICAgLmVxKFwicHJvZHV0b1wiLCBwcm9kdXRvTm9tZSlcclxuICAgIC5ndChcInF1YW50aWRhZGVcIiwgMCk7IC8vIEFwZW5hcyBjb20gZXN0b3F1ZSBkaXNwb27DrXZlbFxyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG5cclxuICAvLyBCdXNjYXIgaW5mb3JtYcOnw7VlcyBkb3MgcmV2ZW5kZWRvcmVzXHJcbiAgY29uc3QgcmV2ZW5kZWRvcklkcyA9IGVzdG9xdWU/Lm1hcCgoaXRlbSkgPT4gaXRlbS5yZXZlbmRlZG9yX2lkKSB8fCBbXTtcclxuXHJcbiAgaWYgKHJldmVuZGVkb3JJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogcmV2ZW5kZWRvcmVzLCBlcnJvcjogcmV2ZW5kZWRvcmVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInJldmVuZGVkb3Jlc1wiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgYFxyXG4gICAgICBpZCxcclxuICAgICAgdXN1YXJpb19pZCxcclxuICAgICAgbG9qYSxcclxuICAgICAgY2lkYWRlLFxyXG4gICAgICB1ZixcclxuICAgICAgZnJldGUsXHJcbiAgICAgIHZlbmRhcyxcclxuICAgICAgc3RhdHVzXHJcbiAgICBgXHJcbiAgICApXHJcbiAgICAuaW4oXCJpZFwiLCByZXZlbmRlZG9ySWRzKTtcclxuXHJcbiAgaWYgKHJldmVuZGVkb3Jlc0Vycm9yKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcmV2ZW5kZWRvcmVzRXJyb3IgfTtcclxuICB9XHJcblxyXG4gIC8vIENvbWJpbmFyIG9zIGRhZG9zXHJcbiAgY29uc3QgcmVzdWx0YWRvID1cclxuICAgIGVzdG9xdWVcclxuICAgICAgPy5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCByZXZlbmRlZG9yID0gcmV2ZW5kZWRvcmVzPy5maW5kKFxyXG4gICAgICAgICAgKHIpID0+IHIuaWQgPT09IGl0ZW0ucmV2ZW5kZWRvcl9pZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLml0ZW0sXHJcbiAgICAgICAgICByZXZlbmRlZG9yOiByZXZlbmRlZG9yIHx8IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5yZXZlbmRlZG9yICE9PSBudWxsKSB8fCBbXTtcclxuXHJcbiAgLy8gT3JkZW5hciBwb3IgcHJlw6dvXHJcbiAgcmVzdWx0YWRvLnNvcnQoKGEsIGIpID0+IGEucHJlY28gLSBiLnByZWNvKTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YTogcmVzdWx0YWRvLCBlcnJvcjogbnVsbCB9O1xyXG59XHJcblxyXG4vLyBCdXNjYXIgcmV2ZW5kZWRvcmVzIHBhcmEgbcO6bHRpcGxvcyBwcm9kdXRvc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmV2ZW5kZWRvcmVzUGFyYVByb2R1dG9zKHByb2R1dG9Ob21lczogc3RyaW5nW10pIHtcclxuICBpZiAoIXByb2R1dG9Ob21lcy5sZW5ndGgpIHJldHVybiB7IGRhdGE6IHt9LCBlcnJvcjogbnVsbCB9O1xyXG5cclxuICAvLyBCdXNjYXIgdG9kb3Mgb3MgcHJvZHV0b3MgZGUgdW1hIHZlelxyXG4gIGNvbnN0IHsgZGF0YTogZXN0b3F1ZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInJldmVuZGVkb3JfZXN0b3F1ZVwiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgYFxyXG4gICAgICBpZCxcclxuICAgICAgcmV2ZW5kZWRvcl9pZCxcclxuICAgICAgcHJvZHV0byxcclxuICAgICAgcXVhbnRpZGFkZSxcclxuICAgICAgcHJlY28sXHJcbiAgICAgIHN0YXR1c1xyXG4gICAgYFxyXG4gICAgKVxyXG4gICAgLmluKFwicHJvZHV0b1wiLCBwcm9kdXRvTm9tZXMpXHJcbiAgICAuZ3QoXCJxdWFudGlkYWRlXCIsIDApOyAvLyBBcGVuYXMgY29tIGVzdG9xdWUgZGlzcG9uw612ZWxcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiB7fSwgZXJyb3IgfTtcclxuICB9XHJcblxyXG4gIGlmICghZXN0b3F1ZSB8fCBlc3RvcXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIHsgZGF0YToge30sIGVycm9yOiBudWxsIH07XHJcbiAgfVxyXG5cclxuICAvLyBCdXNjYXIgaW5mb3JtYcOnw7VlcyBkb3MgcmV2ZW5kZWRvcmVzXHJcbiAgY29uc3QgcmV2ZW5kZWRvcklkcyA9IFsuLi5uZXcgU2V0KGVzdG9xdWUubWFwKChpdGVtKSA9PiBpdGVtLnJldmVuZGVkb3JfaWQpKV07XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogcmV2ZW5kZWRvcmVzLCBlcnJvcjogcmV2ZW5kZWRvcmVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInJldmVuZGVkb3Jlc1wiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgYFxyXG4gICAgICBpZCxcclxuICAgICAgdXN1YXJpb19pZCxcclxuICAgICAgbG9qYSxcclxuICAgICAgY2lkYWRlLFxyXG4gICAgICB1ZixcclxuICAgICAgZnJldGUsXHJcbiAgICAgIHZlbmRhcyxcclxuICAgICAgc3RhdHVzXHJcbiAgICBgXHJcbiAgICApXHJcbiAgICAuaW4oXCJpZFwiLCByZXZlbmRlZG9ySWRzKTtcclxuXHJcbiAgaWYgKHJldmVuZGVkb3Jlc0Vycm9yKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiB7fSwgZXJyb3I6IHJldmVuZGVkb3Jlc0Vycm9yIH07XHJcbiAgfVxyXG5cclxuICAvLyBDb21iaW5hciBvcyBkYWRvcyBlIGFncnVwYXIgcG9yIHByb2R1dG9cclxuICBjb25zdCBwcm9kdXRvc0FncnVwYWRvczogUmVjb3JkPHN0cmluZywgYW55W10+ID0ge307XHJcblxyXG4gIHByb2R1dG9Ob21lcy5mb3JFYWNoKChwcm9kdXRvTm9tZSkgPT4ge1xyXG4gICAgY29uc3QgcHJvZHV0b0VzdG9xdWUgPSBlc3RvcXVlXHJcbiAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ucHJvZHV0byA9PT0gcHJvZHV0b05vbWUpXHJcbiAgICAgIC5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCByZXZlbmRlZG9yID0gcmV2ZW5kZWRvcmVzPy5maW5kKFxyXG4gICAgICAgICAgKHIpID0+IHIuaWQgPT09IGl0ZW0ucmV2ZW5kZWRvcl9pZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHJldmVuZGVkb3IgPyB7IC4uLml0ZW0sIHJldmVuZGVkb3IgfSA6IG51bGw7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IG51bGwpO1xyXG5cclxuICAgIC8vIE9yZGVuYXIgcG9yIHByZcOnb1xyXG4gICAgcHJvZHV0b0VzdG9xdWUuc29ydCgoYSwgYikgPT4gYS5wcmVjbyAtIGIucHJlY28pO1xyXG5cclxuICAgIHByb2R1dG9zQWdydXBhZG9zW3Byb2R1dG9Ob21lXSA9IHByb2R1dG9Fc3RvcXVlO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhOiBwcm9kdXRvc0FncnVwYWRvcywgZXJyb3I6IG51bGwgfTtcclxufVxyXG5cclxuLy8gQnVzY2FyIGluZm9ybWHDp8O1ZXMgZG8gdXN1w6FyaW9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJJbmZvKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwidXN1YXJpb3NcIilcclxuICAgIC5zZWxlY3QoXHJcbiAgICAgIFwiaWQsIG5vbWUsIHNvYnJlbm9tZSwgZW1haWwsIGNwZiwgdGVsZWZvbmUsIGNpZGFkZSwgdWYsIGNlcCwgcnVhLCBiYWlycm8sIGNvbXBsZW1lbnRvLCBudW1lcm9cIlxyXG4gICAgKVxyXG4gICAgLmVxKFwiaWRcIiwgdXNlcklkKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGJ1c2NhciB1c3VhcmlvX2lkIGRvIHJldmVuZGVkb3IgYmFzZWFkbyBubyByZXZlbmRlZG9yX2lkXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc3VhcmlvSWRSZXZlbmRlZG9yKHJldmVuZGVkb3JJZDogbnVtYmVyKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicmV2ZW5kZWRvcmVzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJ1c3VhcmlvX2lkXCIpXHJcbiAgICAgIC5lcShcImlkXCIsIHJldmVuZGVkb3JJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgdXN1YXJpb19pZCBkbyByZXZlbmRlZG9yOlwiLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogZGF0YS51c3VhcmlvX2lkLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgdXN1YXJpb19pZCBkbyByZXZlbmRlZG9yOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrU3RhdHVzUGVkaWRvKGlkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCJJbmljaWFuZG8gY3JpYcOnw6NvIGRvIHBlZGlkbyBwYXJhIHVzdcOhcmlvOlwiLCBpZCk7XHJcblxyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJRCBkbyBwYWdhbWVudG8gbsOjbyBlbmNvbnRyYWRvXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IGNoZWNrUGF5bWVudFN0YXR1cyhpZCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJTdGF0dXMgZG8gcGFnYW1lbnRvOlwiLCBzdGF0dXMpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHN0YXR1cywgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gdmVyaWZpY2FyIHN0YXR1cyBkbyBwYWdhbWVudG86XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsYXJQZWRpZG8oaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluaWNpYW5kbyBjcmlhw6fDo28gZG8gcGVkaWRvIHBhcmEgdXN1w6FyaW86XCIsIGlkKTtcclxuXHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklEIGRvIHBhZ2FtZW50byBuw6NvIGVuY29udHJhZG9cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYW5jZWxQYXltZW50KGlkKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN0YXR1cyBkbyBwYWdhbWVudG86XCIsIHJlc3BvbnNlKTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiByZXNwb25zZSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gdmVyaWZpY2FyIHN0YXR1cyBkbyBwYWdhbWVudG86XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImNyZWF0ZVBheW1lbnQiLCJjcmVhdGVPclVwZGF0ZUN1c3RvbWVyIiwiZ2V0UGl4UXJDb2RlIiwiY2hlY2tQYXltZW50U3RhdHVzIiwiY2FuY2VsUGF5bWVudCIsImdldFByb2R1dG9zIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZ2V0UHJvZHV0byIsImlkIiwiZXEiLCJzaW5nbGUiLCJzYWx2YXJDYWxjdWxvIiwidGFtYW5ob1JvZGEiLCJhbHR1cmEiLCJsYXJndXJhIiwicmVzdWx0YWRvIiwiY29yIiwiaW5zZXJ0IiwidGFtYW5ob19yb2RhIiwic2FsdmFyQ2FsY3Vsb1VzdWFyaW8iLCJ1c2VySWQiLCJ0YW1hbmhvIiwicGFjb3RlIiwiY2FsY3Vsb3MiLCJjb250YXJFcnJvciIsImNvbnNvbGUiLCJsZW5ndGgiLCJjYWxjdWxvTWFpc0FudGlnbyIsImRlbGV0ZUVycm9yIiwiZGVsZXRlIiwidXNlcmlkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJnZXRDYWxjdWxvc1VzdWFyaW8iLCJnZXRDYWxjdWxvcyIsImNyaWFyUGVkaWRvIiwiaXRlbXMiLCJ0b3RhbCIsInRpcG9FbnRyZWdhIiwibWV0b2RvUGFnYW1lbnRvIiwiZGFkb3NBZGljaW9uYWlzIiwicGVkaWRvIiwicGVkaWRvRXJyb3IiLCJ1c2VyX2lkIiwidGlwb19lbnRyZWdhIiwicGFnYW1lbnRvX3RpcG8iLCJzdGF0dXMiLCJkYWRvc19hZGljaW9uYWlzIiwiaXRlbnMiLCJtYXAiLCJpdGVtIiwicGVkaWRvX2lkIiwicHJvZHV0b19ub21lIiwibm9tZSIsInF1YW50aWRhZGUiLCJwcmVjb191bml0YXJpbyIsInByZWNvIiwicmV2ZW5kZWRvcl9pZCIsIml0ZW5zRXJyb3IiLCJnZXRQYWNvdGVCeVByb2R1dG9Ob21lIiwicHJvZHV0b05vbWUiLCJtYXBlYW1lbnRvUHJvZHV0b3MiLCJwYWNvdGVzIiwiaWxpa2UiLCJsaW1pdCIsImNvcmVzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInBhY290ZVBvckNvciIsImVycm9yQ29yIiwiZ2V0UGFjb3RlVmFsaWRvIiwicmVnaXN0cmFyTXVkYW5jYVN0YXR1cyIsInBlZGlkb0lkIiwic3RhdHVzQW50ZXJpb3IiLCJzdGF0dXNOb3ZvIiwib2JzZXJ2YWNhbyIsInVwZGF0ZWRCeSIsInN0YXR1c19hbnRlcmlvciIsInN0YXR1c19ub3ZvIiwidXBkYXRlZF9ieSIsImNyaWFyUGVkaWRvTm92byIsInJldmVuZGVkb3JJZCIsInZhbG9yVG90YWwiLCJmcmV0ZSIsImxvZyIsImNsaWVudGVJZCIsIk51bWJlciIsInBhcnNlSW50IiwicmV2ZW5kZWRvclVzdWFyaW9JZCIsInJldmVuZGVkb3JFcnJvciIsImdldFVzdWFyaW9JZFJldmVuZGVkb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJudW1lcm9QZWRpZG8iLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0b1VwcGVyQ2FzZSIsInN0YXR1c0luaWNpYWwiLCJ1c2VyIiwiZ2V0VXNlckluZm8iLCJlbWFpbCIsInRlbGVmb25lIiwiY3BmIiwiY2xpZW50ZSIsIm5hbWUiLCJzb2JyZW5vbWUiLCJwaG9uZSIsIm1vYmlsZVBob25lIiwiY3BmQ25waiIsInBvc3RhbENvZGUiLCJjZXAiLCJhZGRyZXNzIiwicnVhIiwiYWRkcmVzc051bWJlciIsIm51bWVybyIsImNvbXBsZW1lbnQiLCJjb21wbGVtZW50byIsInByb3ZpbmNlIiwiYmFpcnJvIiwiY2l0eSIsImNpZGFkZSIsInN0YXRlIiwidWYiLCJleHRlcm5hbFJlZmVyZW5jZSIsInBhZ2FtZW50b0RhdGEiLCJiaWxsaW5nVHlwZSIsImN1c3RvbWVyIiwidmFsdWUiLCJkdWVEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImRlc2NyaXB0aW9uIiwiY3JlZGl0Q2FyZCIsImhvbGRlck5hbWUiLCJudW1iZXIiLCJleHBpcnlNb250aCIsImV4cGlyeVllYXIiLCJjY3YiLCJpbnN0YWxsbWVudENvdW50IiwidG90YWxWYWx1ZSIsImluc3RhbGxtZW50VmFsdWUiLCJkaXNjb3VudCIsImR1ZURhdGVMaW1pdERheXMiLCJ0eXBlIiwiaW50ZXJlc3QiLCJmaW5lIiwiY3JlZGl0Q2FyZEhvbGRlckluZm8iLCJhZGRyZXNzQ29tcGxlbWVudCIsInJlbW90ZUlwIiwicGFnYW1lbnRvIiwiZGFkb3NQYWdhbWVudG8iLCJwaXgiLCJib2xldG8iLCJiYW5rU2xpcCIsImNsaWVudGVfaWQiLCJ2YWxvcl90b3RhbCIsInN0YXR1c19kZXRhbGhhZG8iLCJ1cGRhdGVkX2F0IiwicGFnYW1lbnRvX2lkIiwiaXRlbnNQYXJhSW5zZXJpciIsIlByb21pc2UiLCJhbGwiLCJpbmRleCIsInBhY290ZUlkIiwiaXRlbVBhcmFJbnNlcmlyIiwicGFjb3RlX2lkIiwicXRkIiwidmFsb3JfdW5pdGFyaW8iLCJpdGVuc0luc2VyaWRvcyIsInBhZ2FtZW50b0lkIiwiYXR1YWxpemFyU3RhdHVzUGVkaWRvIiwibm92b1N0YXR1cyIsImRhdGFFc3RpbWFkYSIsIm9ic2VydmFjb2VzIiwicGVkaWRvQXR1YWwiLCJlcnJvckJ1c2NhIiwiZGFkb3NBdHVhbGl6YWNhbyIsImRhdGFfZXN0aW1hZGFfZW50cmVnYSIsIm9ic2VydmFjb2VzX3JldmVuZGVkb3IiLCJkYXRhX2VudHJlZ2FfcmVhbCIsInVwZGF0ZSIsImdldFBlZGlkb3MiLCJnZXRQZWRpZG9zQ2xpZW50ZSIsInBlZGlkb3MiLCJwZWRpZG9zRXJyb3IiLCJnZXRUYW1hbmhvcyIsImdldEFsdHVyYXNCeVRhbWFuaG9JZCIsInRhbWFuaG9JZCIsInVuaXF1ZUFsdHVyYXMiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyZW50IiwiZXhpc3RzIiwiZmluZCIsInZhbG9yIiwicHVzaCIsImdldExhcmd1cmFzQnlBbHR1cmFJZCIsImFsdHVyYUlkIiwidW5pcXVlTGFyZ3VyYXMiLCJnZXRQYWNvdGVCeUxhcmd1cmFJZCIsImxhcmd1cmFJZCIsInBhY290ZUFqdXN0YWRvIiwiZGVzY3JpY2FvIiwiZ2V0Q2FycmluaG9Vc3VhcmlvIiwiYWRpY2lvbmFySXRlbUNhcnJpbmhvIiwiaW1hZ2VtIiwiYWRqdXN0ZWRRdWFudGl0eSIsIm1heCIsInJvdW5kIiwiaXRlbUV4aXN0ZW50ZSIsImNvZGUiLCJhdHVhbGl6YXJRdWFudGlkYWRlQ2FycmluaG8iLCJyZW1vdmVySXRlbUNhcnJpbmhvIiwibGltcGFyQ2FycmluaG9Vc3VhcmlvIiwiYXR1YWxpemFyQ2FycmluaG9Vc3VhcmlvIiwiZ2V0UmV2ZW5kZWRvcmVzQ29tUHJvZHV0byIsImVzdG9xdWUiLCJndCIsInJldmVuZGVkb3JJZHMiLCJyZXZlbmRlZG9yZXMiLCJyZXZlbmRlZG9yZXNFcnJvciIsImluIiwicmV2ZW5kZWRvciIsInIiLCJmaWx0ZXIiLCJzb3J0IiwiYSIsImIiLCJnZXRSZXZlbmRlZG9yZXNQYXJhUHJvZHV0b3MiLCJwcm9kdXRvTm9tZXMiLCJTZXQiLCJwcm9kdXRvc0FncnVwYWRvcyIsImZvckVhY2giLCJwcm9kdXRvRXN0b3F1ZSIsInByb2R1dG8iLCJ1c3VhcmlvX2lkIiwiY2hlY2tTdGF0dXNQZWRpZG8iLCJjYW5jZWxhclBlZGlkbyIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/database.ts\n");

/***/ }),

/***/ "(ssr)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(ssr)/./node_modules/.pnpm/@supabase+supabase-js@2.53.0/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://djqueobbsqebtfnqysmt.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqcXVlb2Jic3FlYnRmbnF5c210Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2MjIyNzQsImV4cCI6MjA2OTE5ODI3NH0.8bUtQl__vruvkxUFcMEWB9IGNU8eZmDQEnDOs9J8i30\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error('Missing Supabase credentials. Please check your .env.local file.');\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBRWpFLElBQUksQ0FBQ0QsZUFBZSxDQUFDSSxpQkFBaUI7SUFDcEMsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQiIsInNvdXJjZXMiOlsiQzpcXHhhbXBwXFxodGRvY3NcXEdJVEhVQlxcY2FycGx1c1xcbGliXFxzdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCJcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMXHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZXHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgY3JlZGVudGlhbHMuIFBsZWFzZSBjaGVjayB5b3VyIC5lbnYubG9jYWwgZmlsZS4nKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcclxuXHJcbi8vIFRpcG9zIHBhcmEgb3MgZGFkb3MgZG8gU3VwYWJhc2VcclxuZXhwb3J0IHR5cGUgVXNlciA9IHtcclxuICBpZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIG5vbWU6IHN0cmluZ1xyXG4gIHNvYnJlbm9tZTogc3RyaW5nXHJcbiAgdGVsZWZvbmU6IHN0cmluZ1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQcm9kdXRvID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICBub21lOiBzdHJpbmdcclxuICBjYXRlZ29yaWE6IHN0cmluZ1xyXG4gIHByZWNvOiBudW1iZXJcclxuICBkZXNjcmljYW86IHN0cmluZ1xyXG4gIGltYWdlbV9wcmluY2lwYWw6IHN0cmluZ1xyXG4gIGltYWdlbnM6IHN0cmluZ1tdXHJcbiAgZXN0b3F1ZTogbnVtYmVyXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBlZGlkbyA9IHtcclxuICBpZDogc3RyaW5nXHJcbiAgdXNlcl9pZDogc3RyaW5nXHJcbiAgc3RhdHVzOiBzdHJpbmdcclxuICB0b3RhbDogbnVtYmVyXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEl0ZW1QZWRpZG8gPSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHBlZGlkb19pZDogc3RyaW5nXHJcbiAgcHJvZHV0b19pZDogc3RyaW5nXHJcbiAgcXVhbnRpZGFkZTogbnVtYmVyXHJcbiAgcHJlY29fdW5pdGFyaW86IG51bWJlclxyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDYWxjdWxvUmVzdWx0YWRvID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICB0YW1hbmhvX3JvZGE6IHN0cmluZ1xyXG4gIGFsdHVyYTogc3RyaW5nXHJcbiAgbGFyZ3VyYTogc3RyaW5nXHJcbiAgcmVzdWx0YWRvOiBzdHJpbmdcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciIsInN1cGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/supabase.ts\n");

/***/ })

};
;