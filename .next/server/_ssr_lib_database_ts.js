"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_database_ts";
exports.ids = ["_ssr_lib_database_ts"];
exports.modules = {

/***/ "(ssr)/./lib/asaas.ts":
/*!**********************!*\
  !*** ./lib/asaas.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cancelPayment: () => (/* binding */ cancelPayment),\n/* harmony export */   checkPaymentStatus: () => (/* binding */ checkPaymentStatus),\n/* harmony export */   createOrUpdateCustomer: () => (/* binding */ createOrUpdateCustomer),\n/* harmony export */   createPayment: () => (/* binding */ createPayment),\n/* harmony export */   formatCep: () => (/* binding */ formatCep),\n/* harmony export */   formatCpfCnpj: () => (/* binding */ formatCpfCnpj),\n/* harmony export */   formatPhone: () => (/* binding */ formatPhone),\n/* harmony export */   getPaymentLink: () => (/* binding */ getPaymentLink),\n/* harmony export */   getPixQrCode: () => (/* binding */ getPixQrCode)\n/* harmony export */ });\n// Biblioteca para integração com o Asaas\n// Tipos para a API do Asaas\n// Função para fazer requisições à API do Asaas\nasync function asaasRequest(endpoint, method = \"POST\", data) {\n    try {\n        const response = await fetch(\"/api/asaas/proxy\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                endpoint,\n                method,\n                data\n            })\n        });\n        const responseData = await response.json();\n        return responseData;\n    } catch (error) {\n        console.error(\"Erro na requisição Asaas:\", error);\n        return {\n            error: true,\n            message: error.message\n        };\n    }\n}\n// Funções para interagir com a API do Asaas\n// Criar ou atualizar cliente\nasync function createOrUpdateCustomer(customerData) {\n    // Verificar se o cliente já existe pelo CPF/CNPJ\n    try {\n        console.log(\"Verificando cliente no Asaas:\", customerData);\n        const searchResult = await asaasRequest(`/customers?cpfCnpj=${customerData.cpfCnpj}`);\n        if (searchResult.data && searchResult.data.length > 0) {\n            // Cliente já existe, atualizar\n            const existingCustomer = searchResult.data[0];\n            console.log(\"Cliente encontrado:\", existingCustomer);\n            return await asaasRequest(`/customers/${existingCustomer.id}`, \"PUT\", customerData);\n        } else {\n            // Cliente não existe, criar\n            console.log(\"Cliente não encontrado, criando...\");\n            return await asaasRequest(\"/customers\", \"POST\", customerData);\n        }\n    } catch (error) {\n        console.error(\"Erro ao criar/atualizar cliente no Asaas:\", error);\n        throw error;\n    }\n}\n// Criar cobrança\nasync function createPayment(paymentData) {\n    try {\n        return await asaasRequest(\"/payments\", \"POST\", paymentData);\n    } catch (error) {\n        console.error(\"Erro ao criar cobrança no Asaas:\", error);\n        throw error;\n    }\n}\n// Obter QR Code PIX\nasync function getPixQrCode(paymentId) {\n    try {\n        return await asaasRequest(`/payments/${paymentId}/billingInfo`, \"GET\", null);\n    } catch (error) {\n        console.error(\"Erro ao obter QR Code PIX:\", error);\n        throw error;\n    }\n}\n// Obter link de pagamento\nasync function getPaymentLink(paymentId) {\n    try {\n        const payment = await asaasRequest(`/payments/${paymentId}`);\n        return payment.invoiceUrl;\n    } catch (error) {\n        console.error(\"Erro ao obter link de pagamento:\", error);\n        throw error;\n    }\n}\n// Verificar status de pagamento\nasync function checkPaymentStatus(paymentId) {\n    try {\n        const payment = await asaasRequest(`/payments/${paymentId}/status`, \"GET\", null);\n        return payment.status;\n    } catch (error) {\n        console.error(\"Erro ao verificar status do pagamento:\", error);\n        throw error;\n    }\n}\n// Cancelar cobrança\nasync function cancelPayment(paymentId) {\n    try {\n        return await asaasRequest(`/payments/${paymentId}/cancel`, \"POST\");\n    } catch (error) {\n        console.error(\"Erro ao cancelar cobrança:\", error);\n        throw error;\n    }\n}\n// Função para formatar CPF/CNPJ (remover caracteres especiais)\nfunction formatCpfCnpj(cpfCnpj) {\n    return cpfCnpj.replace(/[^\\d]/g, \"\");\n}\n// Função para formatar telefone (remover caracteres especiais)\nfunction formatPhone(phone) {\n    return phone.replace(/[^\\d]/g, \"\");\n}\n// Função para formatar CEP (remover caracteres especiais)\nfunction formatCep(cep) {\n    return cep.replace(/[^\\d]/g, \"\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJO1FBQ0YsT0FBTyxNQUFNMUIsYUFBYSxDQUFDLFVBQVUsRUFBRTBCLFVBQVUsT0FBTyxDQUFDLEVBQUU7SUFDN0QsRUFBRSxPQUFPZCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE1BQU1BO0lBQ1I7QUFDRjtBQUVBLCtEQUErRDtBQUN4RCxTQUFTcUIsY0FBY2QsT0FBZTtJQUMzQyxPQUFPQSxRQUFRZSxPQUFPLENBQUMsVUFBVTtBQUNuQztBQUVBLCtEQUErRDtBQUN4RCxTQUFTQyxZQUFZQyxLQUFhO0lBQ3ZDLE9BQU9BLE1BQU1GLE9BQU8sQ0FBQyxVQUFVO0FBQ2pDO0FBRUEsMERBQTBEO0FBQ25ELFNBQVNHLFVBQVVDLEdBQVc7SUFDbkMsT0FBT0EsSUFBSUosT0FBTyxDQUFDLFVBQVU7QUFDL0IiLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxHSVRIVUJcXGNhcnBsdXNcXGxpYlxcYXNhYXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQmlibGlvdGVjYSBwYXJhIGludGVncmHDp8OjbyBjb20gbyBBc2Fhc1xyXG5cclxuLy8gVGlwb3MgcGFyYSBhIEFQSSBkbyBBc2Fhc1xyXG5leHBvcnQgaW50ZXJmYWNlIEFzYWFzQ3VzdG9tZXIge1xyXG4gIGlkPzogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIHBob25lOiBzdHJpbmdcclxuICBtb2JpbGVQaG9uZT86IHN0cmluZ1xyXG4gIGNwZkNucGo6IHN0cmluZ1xyXG4gIHBvc3RhbENvZGU6IHN0cmluZ1xyXG4gIGFkZHJlc3M6IHN0cmluZ1xyXG4gIGFkZHJlc3NOdW1iZXI6IHN0cmluZ1xyXG4gIGNvbXBsZW1lbnQ/OiBzdHJpbmdcclxuICBwcm92aW5jZTogc3RyaW5nIC8vIGJhaXJyb1xyXG4gIGNpdHk6IHN0cmluZ1xyXG4gIHN0YXRlOiBzdHJpbmdcclxuICBleHRlcm5hbFJlZmVyZW5jZT86IHN0cmluZ1xyXG4gIG5vdGlmaWNhdGlvbkRpc2FibGVkPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFzYWFzUGF5bWVudCB7XHJcbiAgaWQ/OiBzdHJpbmdcclxuICBjdXN0b21lcjogc3RyaW5nIC8vIElEIGRvIGNsaWVudGUgbm8gQXNhYXNcclxuICBiaWxsaW5nVHlwZTogXCJCT0xFVE9cIiB8IFwiQ1JFRElUX0NBUkRcIiB8IFwiUElYXCIgfCBcIlVOREVGSU5FRFwiXHJcbiAgdmFsdWU6IG51bWJlclxyXG4gIGR1ZURhdGU6IHN0cmluZyAvLyBGb3JtYXRvOiBZWVlZLU1NLUREXHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICBleHRlcm5hbFJlZmVyZW5jZT86IHN0cmluZ1xyXG4gIGluc3RhbGxtZW50Q291bnQ/OiBudW1iZXJcclxuICB0b3RhbFZhbHVlPzogbnVtYmVyXHJcbiAgaW5zdGFsbG1lbnRWYWx1ZT86IG51bWJlclxyXG4gIGRpc2NvdW50Pzoge1xyXG4gICAgdmFsdWU/OiBudW1iZXJcclxuICAgIGR1ZURhdGVMaW1pdERheXM/OiBudW1iZXJcclxuICAgIHR5cGU/OiBcIkZJWEVEXCIgfCBcIlBFUkNFTlRBR0VcIlxyXG4gIH1cclxuICBpbnRlcmVzdD86IHtcclxuICAgIHZhbHVlOiBudW1iZXJcclxuICB9XHJcbiAgZmluZT86IHtcclxuICAgIHZhbHVlOiBudW1iZXJcclxuICB9XHJcbiAgcG9zdGFsU2VydmljZT86IGJvb2xlYW5cclxuICBjcmVkaXRDYXJkPzoge1xyXG4gICAgaG9sZGVyTmFtZTogc3RyaW5nXHJcbiAgICBudW1iZXI6IHN0cmluZ1xyXG4gICAgZXhwaXJ5TW9udGg6IHN0cmluZ1xyXG4gICAgZXhwaXJ5WWVhcjogc3RyaW5nXHJcbiAgICBjY3Y6IHN0cmluZ1xyXG4gIH1cclxuICBjcmVkaXRDYXJkSG9sZGVySW5mbz86IHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgY3BmQ25wajogc3RyaW5nXHJcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmdcclxuICAgIGFkZHJlc3NOdW1iZXI6IHN0cmluZ1xyXG4gICAgYWRkcmVzc0NvbXBsZW1lbnQ/OiBzdHJpbmdcclxuICAgIHBob25lOiBzdHJpbmdcclxuICAgIG1vYmlsZVBob25lPzogc3RyaW5nXHJcbiAgfVxyXG4gIHJlbW90ZUlwPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXNhYXNQaXhRckNvZGUge1xyXG4gIGVuY29kZWRJbWFnZTogc3RyaW5nXHJcbiAgcGF5bG9hZDogc3RyaW5nXHJcbiAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZ1xyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGZhemVyIHJlcXVpc2nDp8O1ZXMgw6AgQVBJIGRvIEFzYWFzXHJcbmFzeW5jIGZ1bmN0aW9uIGFzYWFzUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBtZXRob2QgPSBcIlBPU1RcIiwgZGF0YT86IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9hc2Fhcy9wcm94eVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbmRwb2ludCwgbWV0aG9kLCBkYXRhIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlRGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gbmEgcmVxdWlzacOnw6NvIEFzYWFzOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBlcnJvcjogdHJ1ZSwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIGludGVyYWdpciBjb20gYSBBUEkgZG8gQXNhYXNcclxuXHJcbi8vIENyaWFyIG91IGF0dWFsaXphciBjbGllbnRlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUN1c3RvbWVyKGN1c3RvbWVyRGF0YTogQXNhYXNDdXN0b21lcik6IFByb21pc2U8QXNhYXNDdXN0b21lcj4ge1xyXG4gIC8vIFZlcmlmaWNhciBzZSBvIGNsaWVudGUgasOhIGV4aXN0ZSBwZWxvIENQRi9DTlBKXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwiVmVyaWZpY2FuZG8gY2xpZW50ZSBubyBBc2FhczpcIiwgY3VzdG9tZXJEYXRhKVxyXG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gYXdhaXQgYXNhYXNSZXF1ZXN0KGAvY3VzdG9tZXJzP2NwZkNucGo9JHtjdXN0b21lckRhdGEuY3BmQ25wan1gKVxyXG5cclxuICAgIGlmIChzZWFyY2hSZXN1bHQuZGF0YSAmJiBzZWFyY2hSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIENsaWVudGUgasOhIGV4aXN0ZSwgYXR1YWxpemFyXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ3VzdG9tZXIgPSBzZWFyY2hSZXN1bHQuZGF0YVswXVxyXG4gICAgICBjb25zb2xlLmxvZyhcIkNsaWVudGUgZW5jb250cmFkbzpcIiwgZXhpc3RpbmdDdXN0b21lcilcclxuICAgICAgcmV0dXJuIGF3YWl0IGFzYWFzUmVxdWVzdChgL2N1c3RvbWVycy8ke2V4aXN0aW5nQ3VzdG9tZXIuaWR9YCwgXCJQVVRcIiwgY3VzdG9tZXJEYXRhKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQ2xpZW50ZSBuw6NvIGV4aXN0ZSwgY3JpYXJcclxuICAgICAgY29uc29sZS5sb2coXCJDbGllbnRlIG7Do28gZW5jb250cmFkbywgY3JpYW5kby4uLlwiKVxyXG4gICAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFwiL2N1c3RvbWVyc1wiLCBcIlBPU1RcIiwgY3VzdG9tZXJEYXRhKVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBjcmlhci9hdHVhbGl6YXIgY2xpZW50ZSBubyBBc2FhczpcIiwgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JpYXIgY29icmFuw6dhXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQYXltZW50KHBheW1lbnREYXRhOiBBc2Fhc1BheW1lbnQpOiBQcm9taXNlPGFueT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KFwiL3BheW1lbnRzXCIsIFwiUE9TVFwiLCBwYXltZW50RGF0YSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY3JpYXIgY29icmFuw6dhIG5vIEFzYWFzOlwiLCBlcnJvcilcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG4vLyBPYnRlciBRUiBDb2RlIFBJWFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGl4UXJDb2RlKHBheW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxBc2Fhc1BpeFFyQ29kZT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgYXNhYXNSZXF1ZXN0KGAvcGF5bWVudHMvJHtwYXltZW50SWR9L2JpbGxpbmdJbmZvYCwgXCJHRVRcIiwgbnVsbClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gb2J0ZXIgUVIgQ29kZSBQSVg6XCIsIGVycm9yKVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbi8vIE9idGVyIGxpbmsgZGUgcGFnYW1lbnRvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXltZW50TGluayhwYXltZW50SWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCBhc2Fhc1JlcXVlc3QoYC9wYXltZW50cy8ke3BheW1lbnRJZH1gKVxyXG4gICAgcmV0dXJuIHBheW1lbnQuaW52b2ljZVVybFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBvYnRlciBsaW5rIGRlIHBhZ2FtZW50bzpcIiwgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuLy8gVmVyaWZpY2FyIHN0YXR1cyBkZSBwYWdhbWVudG9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrUGF5bWVudFN0YXR1cyhwYXltZW50SWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCBhc2Fhc1JlcXVlc3QoYC9wYXltZW50cy8ke3BheW1lbnRJZH0vc3RhdHVzYCwgXCJHRVRcIiwgbnVsbClcclxuICAgIHJldHVybiBwYXltZW50LnN0YXR1c1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyB2ZXJpZmljYXIgc3RhdHVzIGRvIHBhZ2FtZW50bzpcIiwgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuLy8gQ2FuY2VsYXIgY29icmFuw6dhXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxQYXltZW50KHBheW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGFzYWFzUmVxdWVzdChgL3BheW1lbnRzLyR7cGF5bWVudElkfS9jYW5jZWxgLCBcIlBPU1RcIilcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY2FuY2VsYXIgY29icmFuw6dhOlwiLCBlcnJvcilcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGZvcm1hdGFyIENQRi9DTlBKIChyZW1vdmVyIGNhcmFjdGVyZXMgZXNwZWNpYWlzKVxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Q3BmQ25waihjcGZDbnBqOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBjcGZDbnBqLnJlcGxhY2UoL1teXFxkXS9nLCBcIlwiKVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGZvcm1hdGFyIHRlbGVmb25lIChyZW1vdmVyIGNhcmFjdGVyZXMgZXNwZWNpYWlzKVxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHBob25lLnJlcGxhY2UoL1teXFxkXS9nLCBcIlwiKVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGZvcm1hdGFyIENFUCAocmVtb3ZlciBjYXJhY3RlcmVzIGVzcGVjaWFpcylcclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdENlcChjZXA6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGNlcC5yZXBsYWNlKC9bXlxcZF0vZywgXCJcIilcclxufVxyXG4iXSwibmFtZXMiOlsiYXNhYXNSZXF1ZXN0IiwiZW5kcG9pbnQiLCJtZXRob2QiLCJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiY3JlYXRlT3JVcGRhdGVDdXN0b21lciIsImN1c3RvbWVyRGF0YSIsImxvZyIsInNlYXJjaFJlc3VsdCIsImNwZkNucGoiLCJsZW5ndGgiLCJleGlzdGluZ0N1c3RvbWVyIiwiaWQiLCJjcmVhdGVQYXltZW50IiwicGF5bWVudERhdGEiLCJnZXRQaXhRckNvZGUiLCJwYXltZW50SWQiLCJnZXRQYXltZW50TGluayIsInBheW1lbnQiLCJpbnZvaWNlVXJsIiwiY2hlY2tQYXltZW50U3RhdHVzIiwic3RhdHVzIiwiY2FuY2VsUGF5bWVudCIsImZvcm1hdENwZkNucGoiLCJyZXBsYWNlIiwiZm9ybWF0UGhvbmUiLCJwaG9uZSIsImZvcm1hdENlcCIsImNlcCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/asaas.ts\n");

/***/ }),

/***/ "(ssr)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adicionarItemCarrinho: () => (/* binding */ adicionarItemCarrinho),\n/* harmony export */   atualizarCarrinhoUsuario: () => (/* binding */ atualizarCarrinhoUsuario),\n/* harmony export */   atualizarQuantidadeCarrinho: () => (/* binding */ atualizarQuantidadeCarrinho),\n/* harmony export */   atualizarStatusPedido: () => (/* binding */ atualizarStatusPedido),\n/* harmony export */   checkStatusPedido: () => (/* binding */ checkStatusPedido),\n/* harmony export */   criarPedido: () => (/* binding */ criarPedido),\n/* harmony export */   criarPedidoNovo: () => (/* binding */ criarPedidoNovo),\n/* harmony export */   getAlturasByTamanhoId: () => (/* binding */ getAlturasByTamanhoId),\n/* harmony export */   getCalculos: () => (/* binding */ getCalculos),\n/* harmony export */   getCalculosUsuario: () => (/* binding */ getCalculosUsuario),\n/* harmony export */   getCarrinhoUsuario: () => (/* binding */ getCarrinhoUsuario),\n/* harmony export */   getLargurasByAlturaId: () => (/* binding */ getLargurasByAlturaId),\n/* harmony export */   getPacoteByLarguraId: () => (/* binding */ getPacoteByLarguraId),\n/* harmony export */   getPacoteByProdutoNome: () => (/* binding */ getPacoteByProdutoNome),\n/* harmony export */   getPacoteValido: () => (/* binding */ getPacoteValido),\n/* harmony export */   getPedidos: () => (/* binding */ getPedidos),\n/* harmony export */   getPedidosCliente: () => (/* binding */ getPedidosCliente),\n/* harmony export */   getProduto: () => (/* binding */ getProduto),\n/* harmony export */   getProdutos: () => (/* binding */ getProdutos),\n/* harmony export */   getRevendedoresComProduto: () => (/* binding */ getRevendedoresComProduto),\n/* harmony export */   getRevendedoresParaProdutos: () => (/* binding */ getRevendedoresParaProdutos),\n/* harmony export */   getTamanhos: () => (/* binding */ getTamanhos),\n/* harmony export */   getUserInfo: () => (/* binding */ getUserInfo),\n/* harmony export */   getUsuarioIdRevendedor: () => (/* binding */ getUsuarioIdRevendedor),\n/* harmony export */   limparCarrinhoUsuario: () => (/* binding */ limparCarrinhoUsuario),\n/* harmony export */   registrarMudancaStatus: () => (/* binding */ registrarMudancaStatus),\n/* harmony export */   removerItemCarrinho: () => (/* binding */ removerItemCarrinho),\n/* harmony export */   salvarCalculo: () => (/* binding */ salvarCalculo),\n/* harmony export */   salvarCalculoUsuario: () => (/* binding */ salvarCalculoUsuario)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _lib_asaas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/asaas */ \"(ssr)/./lib/asaas.ts\");\n\n\n// Funções para produtos\nasync function getProdutos() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"produtos\").select(\"*\").order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function getProduto(id) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"produtos\").select(\"*\").eq(\"id\", id).single();\n    return {\n        data,\n        error\n    };\n}\n// Funções para cálculos\nasync function salvarCalculo(tamanhoRoda, altura, largura, resultado, cor) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculos\").insert([\n        {\n            tamanho_roda: tamanhoRoda,\n            altura: altura,\n            largura: largura,\n            resultado: resultado,\n            cor: cor\n        }\n    ]).select();\n    return {\n        data,\n        error\n    };\n}\n// Nova função para salvar cálculos do usuário com limite de 10\nasync function salvarCalculoUsuario(userId, tamanho, altura, largura, pacote) {\n    try {\n        // 1. Verificar quantos cálculos o usuário já tem\n        const { data: calculos, error: contarError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").select(\"id, created_at\").eq(\"userid\", userId).order(\"created_at\", {\n            ascending: true\n        });\n        if (contarError) {\n            console.error(\"Erro ao contar cálculos do usuário:\", contarError);\n            return {\n                data: null,\n                error: contarError\n            };\n        }\n        // 2. Se já tiver 10 ou mais, excluir o mais antigo\n        if (calculos && calculos.length >= 10) {\n            const calculoMaisAntigo = calculos[0];\n            const { error: deleteError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").delete().eq(\"id\", calculoMaisAntigo.id);\n            if (deleteError) {\n                console.error(\"Erro ao excluir cálculo mais antigo:\", deleteError);\n                return {\n                    data: null,\n                    error: deleteError\n                };\n            }\n        }\n        // 3. Inserir o novo cálculo\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").insert([\n            {\n                userid: userId,\n                tamanho: tamanho,\n                altura: altura,\n                largura: largura,\n                pacote: pacote,\n                created_at: new Date()\n            }\n        ]).select();\n        if (error) {\n            console.error(\"Erro ao salvar cálculo do usuário:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao salvar cálculo do usuário:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Função para obter os cálculos do usuário\nasync function getCalculosUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculo_usuarios\").select(\"*\").eq(\"userid\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function getCalculos(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"calculos\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Funções para pedidos\nasync function criarPedido(userId, items, total, tipoEntrega = \"retirada\", metodoPagamento = \"cartao\", dadosAdicionais = {}) {\n    try {\n        // Criar o pedido\n        const { data: pedido, error: pedidoError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").insert([\n            {\n                user_id: userId,\n                total: total,\n                tipo_entrega: tipoEntrega,\n                pagamento_tipo: metodoPagamento,\n                status: \"pendente\",\n                dados_adicionais: dadosAdicionais\n            }\n        ]).select().single();\n        if (pedidoError) throw pedidoError;\n        // Inserir os itens do pedido\n        const itens = items.map((item)=>({\n                pedido_id: pedido.id,\n                produto_nome: item.nome,\n                quantidade: item.quantidade,\n                preco_unitario: item.preco,\n                revendedor_id: item.revendedor_id\n            }));\n        const { error: itensError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"itens_pedido\").insert(itens);\n        if (itensError) throw itensError;\n        return {\n            data: pedido,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao criar pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Remover as funções getClienteByUsuarioId e garantirCliente que estavam criando uma tabela clientes desnecessária\n// Função para buscar pacote baseado no nome do produto\nasync function getPacoteByProdutoNome(produtoNome) {\n    try {\n        // Mapear nomes de produtos para pacotes\n        // Você pode ajustar essa lógica conforme sua regra de negócio\n        const mapeamentoProdutos = {\n            \"Microesferas Azul\": 1,\n            \"Microesferas Vermelha\": 2,\n            \"Microesferas Verde\": 3,\n            \"Microesferas Amarela\": 4,\n            \"Microesferas Preta\": 5,\n            \"Microesferas Branca\": 6\n        };\n        // Se existe um mapeamento direto, usar ele\n        if (mapeamentoProdutos[produtoNome]) {\n            return {\n                data: mapeamentoProdutos[produtoNome],\n                error: null\n            };\n        }\n        // Caso contrário, tentar buscar por nome similar\n        const { data: pacotes, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id, nome, cor\").ilike(\"nome\", `%${produtoNome}%`).limit(1);\n        if (error) {\n            console.error(\"Erro ao buscar pacote por nome:\", error);\n            return {\n                data: 1,\n                error: null\n            }; // Fallback para ID 1\n        }\n        if (pacotes && pacotes.length > 0) {\n            return {\n                data: pacotes[0].id,\n                error: null\n            };\n        }\n        // Se não encontrou nada, tentar buscar por cor\n        const cores = [\n            \"azul\",\n            \"vermelha\",\n            \"verde\",\n            \"amarela\",\n            \"preta\",\n            \"branca\"\n        ];\n        for (const cor of cores){\n            if (produtoNome.toLowerCase().includes(cor)) {\n                const { data: pacotePorCor, error: errorCor } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id\").ilike(\"cor\", `%${cor}%`).limit(1);\n                if (!errorCor && pacotePorCor && pacotePorCor.length > 0) {\n                    return {\n                        data: pacotePorCor[0].id,\n                        error: null\n                    };\n                }\n            }\n        }\n        // Fallback final\n        return {\n            data: 1,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        return {\n            data: 1,\n            error: null\n        };\n    }\n}\n// Função para buscar um pacote válido (por enquanto retorna o primeiro disponível)\nasync function getPacoteValido() {\n    try {\n        const { data: pacotes, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"id\").limit(1);\n        if (error) {\n            console.error(\"Erro ao buscar pacote:\", error);\n            return 1; // Fallback para ID 1\n        }\n        return pacotes && pacotes.length > 0 ? pacotes[0].id : 1;\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        return 1; // Fallback para ID 1\n    }\n}\n// Função para registrar mudança de status no histórico\nasync function registrarMudancaStatus(pedidoId, statusAnterior, statusNovo, observacao, updatedBy) {\n    try {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedido_historico_status\").insert([\n            {\n                pedido_id: pedidoId,\n                status_anterior: statusAnterior,\n                status_novo: statusNovo,\n                observacao: observacao,\n                updated_by: updatedBy\n            }\n        ]).select();\n        if (error) {\n            console.error(\"Erro ao registrar mudança de status:\", error);\n        }\n        return {\n            data,\n            error\n        };\n    } catch (error) {\n        console.error(\"Erro ao registrar mudança de status:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Substituir a função criarPedidoNovo por esta versão corrigida:\nasync function criarPedidoNovo(userId, revendedorId, items, valorTotal, frete, tipoEntrega, metodoPagamento) {\n    try {\n        console.log(\"Iniciando criação do pedido para usuário:\", userId);\n        console.log(\"Revendedor ID:\", revendedorId);\n        console.log(\"Items:\", items);\n        console.log(\"Valor Total:\", valorTotal);\n        console.log(\"Frete:\", frete);\n        console.log(\"Tipo de Entrega:\", tipoEntrega);\n        console.log(\"Método de Pagamento:\", metodoPagamento);\n        // Converter userId para número\n        const clienteId = Number.parseInt(userId);\n        // Buscar o usuario_id do revendedor baseado no revendedor_id\n        const { data: revendedorUsuarioId, error: revendedorError } = await getUsuarioIdRevendedor(revendedorId);\n        if (revendedorError || !revendedorUsuarioId) {\n            throw new Error(\"Erro ao buscar revendedor: \" + (revendedorError?.message || \"Revendedor não encontrado\"));\n        }\n        console.log(\"Cliente ID:\", clienteId);\n        console.log(\"Revendedor ID:\", revendedorId);\n        console.log(\"Revendedor Usuario ID:\", revendedorUsuarioId);\n        // Gerar número do pedido único\n        const numeroPedido = `PED-${Date.now()}-${Math.random().toString(36).substr(2, 4).toUpperCase()}`;\n        // Definir status inicial baseado no tipo de entrega\n        const statusInicial = tipoEntrega === \"retirada\" ? \"aguardando_preparacao\" : \"aguardando_aceite\";\n        // Criar o pedido usando o schema correto\n        const { data: pedido, error: pedidoError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").insert([\n            {\n                cliente_id: clienteId,\n                revendedor_id: revendedorUsuarioId,\n                numero: numeroPedido,\n                frete: frete,\n                valor_total: valorTotal,\n                pagamento_tipo: metodoPagamento,\n                tipo_entrega: tipoEntrega,\n                status: \"pago\",\n                status_detalhado: statusInicial,\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            }\n        ]).select().single();\n        if (pedidoError) {\n            console.error(\"Erro ao criar pedido:\", pedidoError);\n            throw pedidoError;\n        }\n        const user = await getUserInfo(clienteId.toString());\n        console.log(\"User:\", user);\n        if (!user.data) {\n            throw new Error(\"Usuário não encontrado\");\n        }\n        if (!user.data?.nome || !user.data?.email || !user.data?.telefone || !user.data?.cpf) {\n            throw new Error(\"Dados do usuário incompletos\");\n        }\n        const cliente = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.createOrUpdateCustomer)({\n            name: user.data?.nome + \" \" + user.data?.sobrenome,\n            email: user.data?.email,\n            phone: user.data?.telefone,\n            mobilePhone: user.data?.telefone,\n            cpfCnpj: user.data?.cpf,\n            postalCode: user.data?.cep,\n            address: user.data?.rua,\n            addressNumber: user.data?.numero,\n            complement: user.data?.complemento,\n            province: user.data?.bairro,\n            city: user.data?.cidade,\n            state: user.data?.uf,\n            externalReference: user.data?.id.toString()\n        });\n        console.log(\"Cliente criado:\", cliente);\n        const pagamentoData = {\n            billingType: metodoPagamento,\n            customer: cliente.id,\n            value: Number(valorTotal) + Number(frete),\n            dueDate: \"2025-07-29\",\n            externalReference: pedido.id.toString(),\n            description: `#${numeroPedido}`\n        };\n        if (metodoPagamento === \"CREDIT_CARD\") {\n            pagamentoData.creditCard = {\n                holderName: user.data.nome + \" \" + user.data.sobrenome,\n                number: \"4111111111111111\",\n                expiryMonth: \"12\",\n                expiryYear: \"2025\",\n                ccv: \"123\"\n            };\n            pagamentoData.installmentCount = 1;\n            pagamentoData.totalValue = Number(valorTotal) + Number(frete);\n            pagamentoData.installmentValue = Number(valorTotal) + Number(frete);\n            pagamentoData.discount = {\n                value: 0,\n                dueDateLimitDays: 0,\n                type: \"FIXED\"\n            };\n            pagamentoData.interest = {\n                value: 0\n            };\n            pagamentoData.fine = {\n                value: 0\n            };\n            pagamentoData.creditCardHolderInfo = {\n                name: user.data.nome + \" \" + user.data.sobrenome,\n                email: user.data.email,\n                cpfCnpj: user.data.cpf,\n                postalCode: user.data.cep,\n                addressNumber: user.data.numero,\n                addressComplement: user.data.complemento || \"\",\n                phone: user.data.telefone,\n                mobilePhone: user.data.telefone\n            };\n            pagamentoData.remoteIp = \"127.0.0.1\";\n        }\n        const pagamento = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.createPayment)(pagamentoData);\n        console.log(\"Pagamento criado:\", pagamento);\n        if (!pagamento.id) {\n            throw new Error(\"Erro ao criar pagamento no Asaas\");\n        }\n        let dadosPagamento = null;\n        if (metodoPagamento === \"PIX\" || metodoPagamento === \"BOLETO\") {\n            dadosPagamento = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.getPixQrCode)(pagamento.id);\n            console.log(\"QR Code PIX:\", dadosPagamento);\n        }\n        let pix = null;\n        let boleto = null;\n        if (dadosPagamento) {\n            pix = dadosPagamento.pix;\n            boleto = dadosPagamento.bankSlip;\n        }\n        // Registrar o status inicial no histórico\n        await registrarMudancaStatus(pedido.id, null, statusInicial, \"Pedido criado\", null);\n        // Preparar itens para inserção com pacote_id correto para cada item\n        const itensParaInserir = await Promise.all(items.map(async (item, index)=>{\n            // Buscar o pacote_id correto baseado no nome do produto\n            const { data: pacoteId } = await getPacoteByProdutoNome(item.nome);\n            const itemParaInserir = {\n                pedido_id: pedido.id,\n                pacote_id: pacoteId,\n                qtd: Number(item.quantidade) || 0,\n                valor_unitario: Number(item.preco) || 0\n            };\n            console.log(`Item ${index + 1} preparado:`, itemParaInserir);\n            console.log(`Produto: ${item.nome} -> Pacote ID: ${pacoteId}`);\n            return itemParaInserir;\n        }));\n        console.log(\"Todos os itens preparados:\", itensParaInserir);\n        // Inserir os itens do pedido\n        const { data: itensInseridos, error: itensError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedido_itens\").insert(itensParaInserir).select();\n        if (itensError) {\n            console.error(\"Erro detalhado ao inserir itens do pedido:\", itensError);\n            console.error(\"Dados que tentamos inserir:\", itensParaInserir);\n            throw itensError;\n        }\n        console.log(\"Itens inseridos com sucesso:\", itensInseridos);\n        console.log(\"Pagamento criado com sucesso:\", pix);\n        console.log(\"Pagamento criado com sucesso:\", boleto);\n        console.log(\"Pagamento criado com sucesso:\", pagamento.id);\n        return {\n            data: pedido,\n            pix,\n            boleto,\n            pagamentoId: pagamento.id,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao criar pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// Função para atualizar status do pedido\nasync function atualizarStatusPedido(pedidoId, novoStatus, dataEstimada, observacoes, updatedBy) {\n    try {\n        // Primeiro, buscar o status atual\n        const { data: pedidoAtual, error: errorBusca } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(\"status_detalhado\").eq(\"id\", pedidoId).single();\n        if (errorBusca) {\n            throw errorBusca;\n        }\n        // Preparar dados para atualização\n        const dadosAtualizacao = {\n            status_detalhado: novoStatus,\n            updated_at: new Date().toISOString()\n        };\n        if (dataEstimada) {\n            dadosAtualizacao.data_estimada_entrega = dataEstimada;\n        }\n        if (observacoes) {\n            dadosAtualizacao.observacoes_revendedor = observacoes;\n        }\n        // Se o status for \"entregue\" ou \"retirado\", definir data real\n        if (novoStatus === \"entregue\" || novoStatus === \"retirado\") {\n            dadosAtualizacao.data_entrega_real = new Date().toISOString();\n        }\n        // Atualizar o pedido\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").update(dadosAtualizacao).eq(\"id\", pedidoId).select();\n        if (error) {\n            throw error;\n        }\n        // Registrar mudança no histórico\n        await registrarMudancaStatus(pedidoId, pedidoAtual.status_detalhado, novoStatus, observacoes, updatedBy);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao atualizar status do pedido:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function getPedidos(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(`\n      *,\n      itens_pedido:itens_pedido(\n        *,\n        produto:produtos(*)\n      )\n    `).eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Substituir a função getPedidosCliente por esta versão corrigida:\nasync function getPedidosCliente(userId) {\n    try {\n        console.log(\"Buscando pedidos para usuário:\", userId);\n        // Converter userId para número\n        const clienteId = Number.parseInt(userId);\n        // Buscar pedidos usando o cliente_id diretamente\n        const { data: pedidos, error: pedidosError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pedidos\").select(`\n        *,\n        pedido_itens:pedido_itens(\n          id,\n          pedido_id,\n          pacote_id,\n          qtd,\n          valor_unitario,\n          pacotes:pacotes(id, descricao, cor, imagem)\n        )\n      `).eq(\"cliente_id\", clienteId) // Corrigido: cliente_id em vez de client_id\n        .order(\"created_at\", {\n            ascending: false\n        });\n        console.log(\"Pedidos encontrados:\", pedidos?.length || 0);\n        if (pedidosError) {\n            console.error(\"Erro ao buscar pedidos:\", pedidosError);\n            throw pedidosError;\n        }\n        return {\n            data: pedidos || [],\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pedidos do cliente:\", error);\n        return {\n            data: [],\n            error\n        };\n    }\n}\n// Função para buscar tamanhos de rodas disponíveis\nasync function getTamanhos() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"tamanhos\").select(\"id, nome\").order(\"nome\", {\n        ascending: true\n    });\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar alturas disponíveis com base no tamanho da roda\nasync function getAlturasByTamanhoId(tamanhoId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"alturas\").select(\"id, valor\").eq(\"tamanho_id\", tamanhoId).order(\"valor\", {\n        ascending: true\n    });\n    // Remover duplicatas baseado no valor\n    if (data && data.length > 0) {\n        const uniqueAlturas = data.reduce((acc, current)=>{\n            const exists = acc.find((item)=>item.valor === current.valor);\n            if (!exists) {\n                acc.push(current);\n            }\n            return acc;\n        }, []);\n        return {\n            data: uniqueAlturas,\n            error\n        };\n    }\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar larguras based on altura_id\nasync function getLargurasByAlturaId(alturaId) {\n    console.log(\"🔍 Buscando larguras para alturaId:\", alturaId);\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"larguras\").select(\"id, valor\").eq(\"altura_id\", alturaId).order(\"valor\", {\n        ascending: true\n    });\n    // Remover duplicatas baseado no valor\n    if (data && data.length > 0) {\n        const uniqueLarguras = data.reduce((acc, current)=>{\n            const exists = acc.find((item)=>item.valor === current.valor);\n            if (!exists) {\n                acc.push(current);\n            }\n            return acc;\n        }, []);\n        console.log(\"📏 Larguras únicas encontradas:\", {\n            data: uniqueLarguras,\n            error\n        });\n        return {\n            data: uniqueLarguras,\n            error\n        };\n    }\n    console.log(\"📏 Larguras encontradas:\", {\n        data,\n        error\n    });\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar package details by largura_id\nasync function getPacoteByLarguraId(larguraId) {\n    try {\n        console.log(\"🔍 Buscando pacote para larguraId:\", larguraId);\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"pacotes\").select(\"*\").eq(\"largura_id\", larguraId).single();\n        console.log(\"📦 Resultado da busca:\", {\n            data,\n            error\n        });\n        if (error) {\n            console.error(\"❌ Erro ao buscar pacote por largura_id:\", error);\n            // Fallback: retornar um pacote padrão\n            return {\n                data: {\n                    id: 1,\n                    nome: \"LTP60\",\n                    cor: \"#4A4953\"\n                },\n                error: null\n            };\n        }\n        if (!data) {\n            console.log(\"Nenhum pacote encontrado para largura_id:\", larguraId);\n            // Fallback: retornar um pacote padrão\n            return {\n                data: {\n                    id: 1,\n                    nome: \"LTP60\",\n                    cor: \"#4A4953\"\n                },\n                error: null\n            };\n        }\n        // Ajustar dados se nome estiver null\n        const pacoteAjustado = {\n            id: data.id,\n            nome: data.nome || data.descricao || \"LTP60\",\n            cor: data.cor || \"#949698\"\n        };\n        return {\n            data: pacoteAjustado,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar pacote:\", error);\n        // Fallback: retornar um pacote padrão\n        return {\n            data: {\n                id: 1,\n                nome: \"LTP60\",\n                cor: \"#4A4953\"\n            },\n            error: null\n        };\n    }\n}\n// ==================== FUNÇÕES DO CARRINHO ====================\n// Buscar carrinho do usuário\nasync function getCarrinhoUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return {\n        data,\n        error\n    };\n}\n// Adicionar item ao carrinho\nasync function adicionarItemCarrinho(userId, produtoNome, quantidade = 5, imagem) {\n    // Ensure quantity is a multiple of 5 and at least 5\n    const adjustedQuantity = Math.max(Math.round(quantidade / 5) * 5, 5);\n    // Verificar se o item já existe no carrinho\n    const { data: itemExistente, error: errorBusca } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").select(\"*\").eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome).single();\n    if (errorBusca && errorBusca.code !== \"PGRST116\") {\n        // PGRST116 = No rows found (esperado se item não existe)\n        return {\n            data: null,\n            error: errorBusca\n        };\n    }\n    if (itemExistente) {\n        // Item já existe, adicionar 5 unidades\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").update({\n            quantidade: itemExistente.quantidade + 5,\n            updated_at: new Date().toISOString()\n        }).eq(\"id\", itemExistente.id).select();\n        return {\n            data,\n            error\n        };\n    } else {\n        // Item não existe, criar novo com quantidade ajustada\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").insert([\n            {\n                user_id: userId,\n                produto_nome: produtoNome,\n                quantidade: adjustedQuantity,\n                imagem: imagem\n            }\n        ]).select();\n        return {\n            data,\n            error\n        };\n    }\n}\n// Atualizar quantidade de item no carrinho\nasync function atualizarQuantidadeCarrinho(userId, produtoNome, quantidade) {\n    // Ensure quantity is a multiple of 5 and at least 5\n    const adjustedQuantity = Math.max(Math.round(quantidade / 5) * 5, 5);\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").update({\n        quantidade: adjustedQuantity,\n        updated_at: new Date().toISOString()\n    }).eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome).select();\n    return {\n        data,\n        error\n    };\n}\n// Remover item do carrinho\nasync function removerItemCarrinho(userId, produtoNome) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").delete().eq(\"user_id\", userId).eq(\"produto_nome\", produtoNome);\n    return {\n        data,\n        error\n    };\n}\n// Limpar carrinho do usuário\nasync function limparCarrinhoUsuario(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").delete().eq(\"user_id\", userId);\n    return {\n        data,\n        error\n    };\n}\n// Atualizar carrinho completo do usuário\nasync function atualizarCarrinhoUsuario(userId, items) {\n    try {\n        // Primeiro, limpar o carrinho atual\n        await limparCarrinhoUsuario(userId);\n        // Se não há itens, apenas retornar sucesso\n        if (!items || items.length === 0) {\n            return {\n                data: null,\n                error: null\n            };\n        }\n        // Inserir todos os novos itens\n        const itensParaInserir = items.map((item)=>({\n                user_id: userId,\n                produto_nome: item.nome,\n                quantidade: item.quantidade,\n                imagem: item.imagem,\n                created_at: new Date().toISOString()\n            }));\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"carrinho_usuarios\").insert(itensParaInserir).select();\n        return {\n            data,\n            error\n        };\n    } catch (error) {\n        console.error(\"Erro ao atualizar carrinho:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// ==================== FUNÇÕES DE REVENDEDORES E ESTOQUE ====================\n// Buscar revendedores que possuem um produto específico em estoque\nasync function getRevendedoresComProduto(produtoNome) {\n    // Usando JOIN manual em vez de relacionamento\n    const { data: estoque, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedor_estoque\").select(`\n      id,\n      revendedor_id,\n      produto,\n      quantidade,\n      preco,\n      status\n    `).eq(\"produto\", produtoNome).gt(\"quantidade\", 0); // Apenas com estoque disponível\n    if (error) {\n        return {\n            data: null,\n            error\n        };\n    }\n    // Buscar informações dos revendedores\n    const revendedorIds = estoque?.map((item)=>item.revendedor_id) || [];\n    if (revendedorIds.length === 0) {\n        return {\n            data: [],\n            error: null\n        };\n    }\n    const { data: revendedores, error: revendedoresError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(`\n      id,\n      usuario_id,\n      loja,\n      cidade,\n      uf,\n      frete,\n      vendas,\n      status\n    `).in(\"id\", revendedorIds);\n    if (revendedoresError) {\n        return {\n            data: null,\n            error: revendedoresError\n        };\n    }\n    // Combinar os dados\n    const resultado = estoque?.map((item)=>{\n        const revendedor = revendedores?.find((r)=>r.id === item.revendedor_id);\n        return {\n            ...item,\n            revendedor: revendedor || null\n        };\n    }).filter((item)=>item.revendedor !== null) || [];\n    // Ordenar por preço\n    resultado.sort((a, b)=>a.preco - b.preco);\n    return {\n        data: resultado,\n        error: null\n    };\n}\n// Buscar revendedores para múltiplos produtos\nasync function getRevendedoresParaProdutos(produtoNomes) {\n    if (!produtoNomes.length) return {\n        data: {},\n        error: null\n    };\n    // Buscar todos os produtos de uma vez\n    const { data: estoque, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedor_estoque\").select(`\n      id,\n      revendedor_id,\n      produto,\n      quantidade,\n      preco,\n      status\n    `).in(\"produto\", produtoNomes).gt(\"quantidade\", 0); // Apenas com estoque disponível\n    if (error) {\n        return {\n            data: {},\n            error\n        };\n    }\n    if (!estoque || estoque.length === 0) {\n        return {\n            data: {},\n            error: null\n        };\n    }\n    // Buscar informações dos revendedores\n    const revendedorIds = [\n        ...new Set(estoque.map((item)=>item.revendedor_id))\n    ];\n    const { data: revendedores, error: revendedoresError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(`\n      id,\n      usuario_id,\n      loja,\n      cidade,\n      uf,\n      frete,\n      vendas,\n      status\n    `).in(\"id\", revendedorIds);\n    if (revendedoresError) {\n        return {\n            data: {},\n            error: revendedoresError\n        };\n    }\n    // Combinar os dados e agrupar por produto\n    const produtosAgrupados = {};\n    produtoNomes.forEach((produtoNome)=>{\n        const produtoEstoque = estoque.filter((item)=>item.produto === produtoNome).map((item)=>{\n            const revendedor = revendedores?.find((r)=>r.id === item.revendedor_id);\n            return revendedor ? {\n                ...item,\n                revendedor\n            } : null;\n        }).filter((item)=>item !== null);\n        // Ordenar por preço\n        produtoEstoque.sort((a, b)=>a.preco - b.preco);\n        produtosAgrupados[produtoNome] = produtoEstoque;\n    });\n    return {\n        data: produtosAgrupados,\n        error: null\n    };\n}\n// Buscar informações do usuário\nasync function getUserInfo(userId) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"usuarios\").select(\"id, nome, sobrenome, email, cpf, telefone, cidade, uf, cep, rua, bairro, complemento, numero\").eq(\"id\", userId).single();\n    return {\n        data,\n        error\n    };\n}\n// Função para buscar usuario_id do revendedor baseado no revendedor_id\nasync function getUsuarioIdRevendedor(revendedorId) {\n    try {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"revendedores\").select(\"usuario_id\").eq(\"id\", revendedorId).single();\n        if (error) {\n            console.error(\"Erro ao buscar usuario_id do revendedor:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data: data.usuario_id,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao buscar usuario_id do revendedor:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function checkStatusPedido(id) {\n    try {\n        console.log(\"Iniciando criação do pedido para usuário:\", id);\n        if (!id) {\n            throw new Error(\"ID do pagamento não encontrado\");\n        }\n        const status = await (0,_lib_asaas__WEBPACK_IMPORTED_MODULE_1__.checkPaymentStatus)(id);\n        console.log(\"Status do pagamento:\", status);\n        return {\n            data: status,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar status do pagamento:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFFcEMsT0FBTztZQUFFN0MsTUFBTTZDO1lBQVE1QyxPQUFPO1FBQUs7SUFDckMsRUFBRSxPQUFPQSxPQUFPO1FBQ2R1QixRQUFRdkIsS0FBSyxDQUFDLDBDQUEwQ0E7UUFDeEQsT0FBTztZQUFFRCxNQUFNO1lBQU1DO1FBQU07SUFDN0I7QUFDRiIsInNvdXJjZXMiOlsiQzpcXHhhbXBwXFxodGRvY3NcXEdJVEhVQlxcY2FycGx1c1xcbGliXFxkYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuL3N1cGFiYXNlXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBheW1lbnQsIGNyZWF0ZU9yVXBkYXRlQ3VzdG9tZXIsIGdldFBpeFFyQ29kZSwgY2hlY2tQYXltZW50U3RhdHVzIH0gZnJvbSBcIkAvbGliL2FzYWFzXCI7XHJcblxyXG4vLyBGdW7Dp8O1ZXMgcGFyYSBwcm9kdXRvc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHV0b3MoKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicHJvZHV0b3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1dG8oaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInByb2R1dG9zXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwiaWRcIiwgaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIGPDoWxjdWxvc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FsdmFyQ2FsY3VsbyhcclxuICB0YW1hbmhvUm9kYTogc3RyaW5nLFxyXG4gIGFsdHVyYTogc3RyaW5nLFxyXG4gIGxhcmd1cmE6IHN0cmluZyxcclxuICByZXN1bHRhZG86IHN0cmluZyxcclxuICBjb3I6IHN0cmluZ1xyXG4pIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJjYWxjdWxvc1wiKVxyXG4gICAgLmluc2VydChbXHJcbiAgICAgIHtcclxuICAgICAgICB0YW1hbmhvX3JvZGE6IHRhbWFuaG9Sb2RhLFxyXG4gICAgICAgIGFsdHVyYTogYWx0dXJhLFxyXG4gICAgICAgIGxhcmd1cmE6IGxhcmd1cmEsXHJcbiAgICAgICAgcmVzdWx0YWRvOiByZXN1bHRhZG8sXHJcbiAgICAgICAgY29yOiBjb3IsXHJcbiAgICAgIH0sXHJcbiAgICBdKVxyXG4gICAgLnNlbGVjdCgpO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBOb3ZhIGZ1bsOnw6NvIHBhcmEgc2FsdmFyIGPDoWxjdWxvcyBkbyB1c3XDoXJpbyBjb20gbGltaXRlIGRlIDEwXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWx2YXJDYWxjdWxvVXN1YXJpbyhcclxuICB1c2VySWQ6IHN0cmluZyxcclxuICB0YW1hbmhvOiBzdHJpbmcsXHJcbiAgYWx0dXJhOiBzdHJpbmcsXHJcbiAgbGFyZ3VyYTogc3RyaW5nLFxyXG4gIHBhY290ZTogc3RyaW5nXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICAvLyAxLiBWZXJpZmljYXIgcXVhbnRvcyBjw6FsY3Vsb3MgbyB1c3XDoXJpbyBqw6EgdGVtXHJcbiAgICBjb25zdCB7IGRhdGE6IGNhbGN1bG9zLCBlcnJvcjogY29udGFyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY2FsY3Vsb191c3Vhcmlvc1wiKVxyXG4gICAgICAuc2VsZWN0KFwiaWQsIGNyZWF0ZWRfYXRcIilcclxuICAgICAgLmVxKFwidXNlcmlkXCIsIHVzZXJJZClcclxuICAgICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoY29udGFyRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY29udGFyIGPDoWxjdWxvcyBkbyB1c3XDoXJpbzpcIiwgY29udGFyRXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogY29udGFyRXJyb3IgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAyLiBTZSBqw6EgdGl2ZXIgMTAgb3UgbWFpcywgZXhjbHVpciBvIG1haXMgYW50aWdvXHJcbiAgICBpZiAoY2FsY3Vsb3MgJiYgY2FsY3Vsb3MubGVuZ3RoID49IDEwKSB7XHJcbiAgICAgIGNvbnN0IGNhbGN1bG9NYWlzQW50aWdvID0gY2FsY3Vsb3NbMF07XHJcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwiY2FsY3Vsb191c3Vhcmlvc1wiKVxyXG4gICAgICAgIC5kZWxldGUoKVxyXG4gICAgICAgIC5lcShcImlkXCIsIGNhbGN1bG9NYWlzQW50aWdvLmlkKTtcclxuXHJcbiAgICAgIGlmIChkZWxldGVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGV4Y2x1aXIgY8OhbGN1bG8gbWFpcyBhbnRpZ286XCIsIGRlbGV0ZUVycm9yKTtcclxuICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZGVsZXRlRXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIDMuIEluc2VyaXIgbyBub3ZvIGPDoWxjdWxvXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImNhbGN1bG9fdXN1YXJpb3NcIilcclxuICAgICAgLmluc2VydChbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlcmlkOiB1c2VySWQsXHJcbiAgICAgICAgICB0YW1hbmhvOiB0YW1hbmhvLFxyXG4gICAgICAgICAgYWx0dXJhOiBhbHR1cmEsXHJcbiAgICAgICAgICBsYXJndXJhOiBsYXJndXJhLFxyXG4gICAgICAgICAgcGFjb3RlOiBwYWNvdGUsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0pXHJcbiAgICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gc2FsdmFyIGPDoWxjdWxvIGRvIHVzdcOhcmlvOlwiLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gc2FsdmFyIGPDoWxjdWxvIGRvIHVzdcOhcmlvOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBvYnRlciBvcyBjw6FsY3Vsb3MgZG8gdXN1w6FyaW9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhbGN1bG9zVXN1YXJpbyh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhbGN1bG9fdXN1YXJpb3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJ1c2VyaWRcIiwgdXNlcklkKVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWxjdWxvcyh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhbGN1bG9zXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXHJcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgcGVkaWRvc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JpYXJQZWRpZG8oXHJcbiAgdXNlcklkOiBzdHJpbmcsXHJcbiAgaXRlbXM6IGFueVtdLFxyXG4gIHRvdGFsOiBudW1iZXIsXHJcbiAgdGlwb0VudHJlZ2EgPSBcInJldGlyYWRhXCIsXHJcbiAgbWV0b2RvUGFnYW1lbnRvID0gXCJjYXJ0YW9cIixcclxuICBkYWRvc0FkaWNpb25haXM6IGFueSA9IHt9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBDcmlhciBvIHBlZGlkb1xyXG4gICAgY29uc3QgeyBkYXRhOiBwZWRpZG8sIGVycm9yOiBwZWRpZG9FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwZWRpZG9zXCIpXHJcbiAgICAgIC5pbnNlcnQoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgIHRpcG9fZW50cmVnYTogdGlwb0VudHJlZ2EsXHJcbiAgICAgICAgICBwYWdhbWVudG9fdGlwbzogbWV0b2RvUGFnYW1lbnRvLFxyXG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRlbnRlXCIsXHJcbiAgICAgICAgICBkYWRvc19hZGljaW9uYWlzOiBkYWRvc0FkaWNpb25haXMsIC8vIEFybWF6ZW5hIG8gZW5kZXJlw6dvIGFsdGVybmF0aXZvIHNlIGV4aXN0aXJcclxuICAgICAgICB9LFxyXG4gICAgICBdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChwZWRpZG9FcnJvcikgdGhyb3cgcGVkaWRvRXJyb3I7XHJcblxyXG4gICAgLy8gSW5zZXJpciBvcyBpdGVucyBkbyBwZWRpZG9cclxuICAgIGNvbnN0IGl0ZW5zID0gaXRlbXMubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICBwZWRpZG9faWQ6IHBlZGlkby5pZCxcclxuICAgICAgcHJvZHV0b19ub21lOiBpdGVtLm5vbWUsXHJcbiAgICAgIHF1YW50aWRhZGU6IGl0ZW0ucXVhbnRpZGFkZSxcclxuICAgICAgcHJlY29fdW5pdGFyaW86IGl0ZW0ucHJlY28sXHJcbiAgICAgIHJldmVuZGVkb3JfaWQ6IGl0ZW0ucmV2ZW5kZWRvcl9pZCxcclxuICAgIH0pKTtcclxuXHJcbiAgICBjb25zdCB7IGVycm9yOiBpdGVuc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIml0ZW5zX3BlZGlkb1wiKVxyXG4gICAgICAuaW5zZXJ0KGl0ZW5zKTtcclxuXHJcbiAgICBpZiAoaXRlbnNFcnJvcikgdGhyb3cgaXRlbnNFcnJvcjtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiBwZWRpZG8sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGNyaWFyIHBlZGlkbzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFJlbW92ZXIgYXMgZnVuw6fDtWVzIGdldENsaWVudGVCeVVzdWFyaW9JZCBlIGdhcmFudGlyQ2xpZW50ZSBxdWUgZXN0YXZhbSBjcmlhbmRvIHVtYSB0YWJlbGEgY2xpZW50ZXMgZGVzbmVjZXNzw6FyaWFcclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgYnVzY2FyIHBhY290ZSBiYXNlYWRvIG5vIG5vbWUgZG8gcHJvZHV0b1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFjb3RlQnlQcm9kdXRvTm9tZShwcm9kdXRvTm9tZTogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIE1hcGVhciBub21lcyBkZSBwcm9kdXRvcyBwYXJhIHBhY290ZXNcclxuICAgIC8vIFZvY8OqIHBvZGUgYWp1c3RhciBlc3NhIGzDs2dpY2EgY29uZm9ybWUgc3VhIHJlZ3JhIGRlIG5lZ8OzY2lvXHJcbiAgICBjb25zdCBtYXBlYW1lbnRvUHJvZHV0b3M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XHJcbiAgICAgIFwiTWljcm9lc2ZlcmFzIEF6dWxcIjogMSxcclxuICAgICAgXCJNaWNyb2VzZmVyYXMgVmVybWVsaGFcIjogMixcclxuICAgICAgXCJNaWNyb2VzZmVyYXMgVmVyZGVcIjogMyxcclxuICAgICAgXCJNaWNyb2VzZmVyYXMgQW1hcmVsYVwiOiA0LFxyXG4gICAgICBcIk1pY3JvZXNmZXJhcyBQcmV0YVwiOiA1LFxyXG4gICAgICBcIk1pY3JvZXNmZXJhcyBCcmFuY2FcIjogNixcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2UgZXhpc3RlIHVtIG1hcGVhbWVudG8gZGlyZXRvLCB1c2FyIGVsZVxyXG4gICAgaWYgKG1hcGVhbWVudG9Qcm9kdXRvc1twcm9kdXRvTm9tZV0pIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbWFwZWFtZW50b1Byb2R1dG9zW3Byb2R1dG9Ob21lXSwgZXJyb3I6IG51bGwgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYXNvIGNvbnRyw6FyaW8sIHRlbnRhciBidXNjYXIgcG9yIG5vbWUgc2ltaWxhclxyXG4gICAgY29uc3QgeyBkYXRhOiBwYWNvdGVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwYWNvdGVzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJpZCwgbm9tZSwgY29yXCIpXHJcbiAgICAgIC5pbGlrZShcIm5vbWVcIiwgYCUke3Byb2R1dG9Ob21lfSVgKVxyXG4gICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYWNvdGUgcG9yIG5vbWU6XCIsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogMSwgZXJyb3I6IG51bGwgfTsgLy8gRmFsbGJhY2sgcGFyYSBJRCAxXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhY290ZXMgJiYgcGFjb3Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHBhY290ZXNbMF0uaWQsIGVycm9yOiBudWxsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbsOjbyBlbmNvbnRyb3UgbmFkYSwgdGVudGFyIGJ1c2NhciBwb3IgY29yXHJcbiAgICBjb25zdCBjb3JlcyA9IFtcImF6dWxcIiwgXCJ2ZXJtZWxoYVwiLCBcInZlcmRlXCIsIFwiYW1hcmVsYVwiLCBcInByZXRhXCIsIFwiYnJhbmNhXCJdO1xyXG4gICAgZm9yIChjb25zdCBjb3Igb2YgY29yZXMpIHtcclxuICAgICAgaWYgKHByb2R1dG9Ob21lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY29yKSkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFjb3RlUG9yQ29yLCBlcnJvcjogZXJyb3JDb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbShcInBhY290ZXNcIilcclxuICAgICAgICAgIC5zZWxlY3QoXCJpZFwiKVxyXG4gICAgICAgICAgLmlsaWtlKFwiY29yXCIsIGAlJHtjb3J9JWApXHJcbiAgICAgICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgICAgIGlmICghZXJyb3JDb3IgJiYgcGFjb3RlUG9yQ29yICYmIHBhY290ZVBvckNvci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiBwYWNvdGVQb3JDb3JbMF0uaWQsIGVycm9yOiBudWxsIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmFsbGJhY2sgZmluYWxcclxuICAgIHJldHVybiB7IGRhdGE6IDEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYWNvdGU6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IDEsIGVycm9yOiBudWxsIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGJ1c2NhciB1bSBwYWNvdGUgdsOhbGlkbyAocG9yIGVucXVhbnRvIHJldG9ybmEgbyBwcmltZWlybyBkaXNwb27DrXZlbClcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBhY290ZVZhbGlkbygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBwYWNvdGVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwYWNvdGVzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJpZFwiKVxyXG4gICAgICAubGltaXQoMSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYWNvdGU6XCIsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIDE7IC8vIEZhbGxiYWNrIHBhcmEgSUQgMVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYWNvdGVzICYmIHBhY290ZXMubGVuZ3RoID4gMCA/IHBhY290ZXNbMF0uaWQgOiAxO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBidXNjYXIgcGFjb3RlOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gMTsgLy8gRmFsbGJhY2sgcGFyYSBJRCAxXHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIHJlZ2lzdHJhciBtdWRhbsOnYSBkZSBzdGF0dXMgbm8gaGlzdMOzcmljb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0cmFyTXVkYW5jYVN0YXR1cyhcclxuICBwZWRpZG9JZDogbnVtYmVyLFxyXG4gIHN0YXR1c0FudGVyaW9yOiBzdHJpbmcgfCBudWxsLFxyXG4gIHN0YXR1c05vdm86IHN0cmluZyxcclxuICBvYnNlcnZhY2FvPzogc3RyaW5nLFxyXG4gIHVwZGF0ZWRCeT86IG51bWJlclxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwZWRpZG9faGlzdG9yaWNvX3N0YXR1c1wiKVxyXG4gICAgICAuaW5zZXJ0KFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBwZWRpZG9faWQ6IHBlZGlkb0lkLFxyXG4gICAgICAgICAgc3RhdHVzX2FudGVyaW9yOiBzdGF0dXNBbnRlcmlvcixcclxuICAgICAgICAgIHN0YXR1c19ub3ZvOiBzdGF0dXNOb3ZvLFxyXG4gICAgICAgICAgb2JzZXJ2YWNhbzogb2JzZXJ2YWNhbyxcclxuICAgICAgICAgIHVwZGF0ZWRfYnk6IHVwZGF0ZWRCeSxcclxuICAgICAgICB9LFxyXG4gICAgICBdKVxyXG4gICAgICAuc2VsZWN0KCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIHJlZ2lzdHJhciBtdWRhbsOnYSBkZSBzdGF0dXM6XCIsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyByZWdpc3RyYXIgbXVkYW7Dp2EgZGUgc3RhdHVzOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gU3Vic3RpdHVpciBhIGZ1bsOnw6NvIGNyaWFyUGVkaWRvTm92byBwb3IgZXN0YSB2ZXJzw6NvIGNvcnJpZ2lkYTpcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyaWFyUGVkaWRvTm92byhcclxuICB1c2VySWQ6IHN0cmluZyxcclxuICByZXZlbmRlZG9ySWQ6IG51bWJlcixcclxuICBpdGVtczogYW55W10sXHJcbiAgdmFsb3JUb3RhbDogbnVtYmVyLFxyXG4gIGZyZXRlOiBudW1iZXIsXHJcbiAgdGlwb0VudHJlZ2E6IHN0cmluZyxcclxuICBtZXRvZG9QYWdhbWVudG86IHN0cmluZyxcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwiSW5pY2lhbmRvIGNyaWHDp8OjbyBkbyBwZWRpZG8gcGFyYSB1c3XDoXJpbzpcIiwgdXNlcklkKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUmV2ZW5kZWRvciBJRDpcIiwgcmV2ZW5kZWRvcklkKTtcclxuICAgIGNvbnNvbGUubG9nKFwiSXRlbXM6XCIsIGl0ZW1zKTtcclxuICAgIGNvbnNvbGUubG9nKFwiVmFsb3IgVG90YWw6XCIsIHZhbG9yVG90YWwpO1xyXG4gICAgY29uc29sZS5sb2coXCJGcmV0ZTpcIiwgZnJldGUpO1xyXG4gICAgY29uc29sZS5sb2coXCJUaXBvIGRlIEVudHJlZ2E6XCIsIHRpcG9FbnRyZWdhKTtcclxuICAgIGNvbnNvbGUubG9nKFwiTcOpdG9kbyBkZSBQYWdhbWVudG86XCIsIG1ldG9kb1BhZ2FtZW50byk7XHJcblxyXG4gICAgLy8gQ29udmVydGVyIHVzZXJJZCBwYXJhIG7Dum1lcm9cclxuICAgIGNvbnN0IGNsaWVudGVJZCA9IE51bWJlci5wYXJzZUludCh1c2VySWQpO1xyXG5cclxuICAgIC8vIEJ1c2NhciBvIHVzdWFyaW9faWQgZG8gcmV2ZW5kZWRvciBiYXNlYWRvIG5vIHJldmVuZGVkb3JfaWRcclxuICAgIGNvbnN0IHsgZGF0YTogcmV2ZW5kZWRvclVzdWFyaW9JZCwgZXJyb3I6IHJldmVuZGVkb3JFcnJvciB9ID1cclxuICAgICAgYXdhaXQgZ2V0VXN1YXJpb0lkUmV2ZW5kZWRvcihyZXZlbmRlZG9ySWQpO1xyXG5cclxuICAgIGlmIChyZXZlbmRlZG9yRXJyb3IgfHwgIXJldmVuZGVkb3JVc3VhcmlvSWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiRXJybyBhbyBidXNjYXIgcmV2ZW5kZWRvcjogXCIgK1xyXG4gICAgICAgICAgKHJldmVuZGVkb3JFcnJvcj8ubWVzc2FnZSB8fCBcIlJldmVuZGVkb3IgbsOjbyBlbmNvbnRyYWRvXCIpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJDbGllbnRlIElEOlwiLCBjbGllbnRlSWQpO1xyXG4gICAgY29uc29sZS5sb2coXCJSZXZlbmRlZG9yIElEOlwiLCByZXZlbmRlZG9ySWQpO1xyXG4gICAgY29uc29sZS5sb2coXCJSZXZlbmRlZG9yIFVzdWFyaW8gSUQ6XCIsIHJldmVuZGVkb3JVc3VhcmlvSWQpO1xyXG5cclxuICAgIC8vIEdlcmFyIG7Dum1lcm8gZG8gcGVkaWRvIMO6bmljb1xyXG4gICAgY29uc3QgbnVtZXJvUGVkaWRvID0gYFBFRC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKVxyXG4gICAgICAudG9TdHJpbmcoMzYpXHJcbiAgICAgIC5zdWJzdHIoMiwgNClcclxuICAgICAgLnRvVXBwZXJDYXNlKCl9YDtcclxuXHJcbiAgICAvLyBEZWZpbmlyIHN0YXR1cyBpbmljaWFsIGJhc2VhZG8gbm8gdGlwbyBkZSBlbnRyZWdhXHJcbiAgICBjb25zdCBzdGF0dXNJbmljaWFsID1cclxuICAgICAgdGlwb0VudHJlZ2EgPT09IFwicmV0aXJhZGFcIlxyXG4gICAgICAgID8gXCJhZ3VhcmRhbmRvX3ByZXBhcmFjYW9cIlxyXG4gICAgICAgIDogXCJhZ3VhcmRhbmRvX2FjZWl0ZVwiO1xyXG5cclxuICAgIC8vIENyaWFyIG8gcGVkaWRvIHVzYW5kbyBvIHNjaGVtYSBjb3JyZXRvXHJcbiAgICBjb25zdCB7IGRhdGE6IHBlZGlkbywgZXJyb3I6IHBlZGlkb0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBlZGlkb3NcIilcclxuICAgICAgLmluc2VydChbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY2xpZW50ZV9pZDogY2xpZW50ZUlkLCAvLyBJRCBkbyB1c3XDoXJpbyBxdWUgZmV6IGEgY29tcHJhXHJcbiAgICAgICAgICByZXZlbmRlZG9yX2lkOiByZXZlbmRlZG9yVXN1YXJpb0lkLCAvLyBJRCBkbyB1c3XDoXJpbyByZXZlbmRlZG9yIChkYSB0YWJlbGEgdXN1YXJpb3MpXHJcbiAgICAgICAgICBudW1lcm86IG51bWVyb1BlZGlkbyxcclxuICAgICAgICAgIGZyZXRlOiBmcmV0ZSxcclxuICAgICAgICAgIHZhbG9yX3RvdGFsOiB2YWxvclRvdGFsLFxyXG4gICAgICAgICAgcGFnYW1lbnRvX3RpcG86IG1ldG9kb1BhZ2FtZW50byxcclxuICAgICAgICAgIHRpcG9fZW50cmVnYTogdGlwb0VudHJlZ2EsXHJcbiAgICAgICAgICBzdGF0dXM6IFwicGFnb1wiLCAvLyBTdGF0dXMgZGUgcGFnYW1lbnRvXHJcbiAgICAgICAgICBzdGF0dXNfZGV0YWxoYWRvOiBzdGF0dXNJbmljaWFsLCAvLyBTdGF0dXMgZGV0YWxoYWRvIGJhc2VhZG8gbm8gdGlwbyBkZSBlbnRyZWdhXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgXSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAocGVkaWRvRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY3JpYXIgcGVkaWRvOlwiLCBwZWRpZG9FcnJvcik7XHJcbiAgICAgIHRocm93IHBlZGlkb0Vycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VySW5mbyhjbGllbnRlSWQudG9TdHJpbmcoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlVzZXI6XCIsIHVzZXIpO1xyXG5cclxuICAgIGlmICghdXNlci5kYXRhKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzdcOhcmlvIG7Do28gZW5jb250cmFkb1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgICF1c2VyLmRhdGE/Lm5vbWUgfHxcclxuICAgICAgIXVzZXIuZGF0YT8uZW1haWwgfHxcclxuICAgICAgIXVzZXIuZGF0YT8udGVsZWZvbmUgfHxcclxuICAgICAgIXVzZXIuZGF0YT8uY3BmXHJcbiAgICApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGFkb3MgZG8gdXN1w6FyaW8gaW5jb21wbGV0b3NcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xpZW50ZSA9IGF3YWl0IGNyZWF0ZU9yVXBkYXRlQ3VzdG9tZXIoe1xyXG4gICAgICBuYW1lOiB1c2VyLmRhdGE/Lm5vbWUgKyBcIiBcIiArIHVzZXIuZGF0YT8uc29icmVub21lLFxyXG4gICAgICBlbWFpbDogdXNlci5kYXRhPy5lbWFpbCxcclxuICAgICAgcGhvbmU6IHVzZXIuZGF0YT8udGVsZWZvbmUsXHJcbiAgICAgIG1vYmlsZVBob25lOiB1c2VyLmRhdGE/LnRlbGVmb25lLFxyXG4gICAgICBjcGZDbnBqOiB1c2VyLmRhdGE/LmNwZixcclxuICAgICAgcG9zdGFsQ29kZTogdXNlci5kYXRhPy5jZXAsXHJcbiAgICAgIGFkZHJlc3M6IHVzZXIuZGF0YT8ucnVhLFxyXG4gICAgICBhZGRyZXNzTnVtYmVyOiB1c2VyLmRhdGE/Lm51bWVybyxcclxuICAgICAgY29tcGxlbWVudDogdXNlci5kYXRhPy5jb21wbGVtZW50byxcclxuICAgICAgcHJvdmluY2U6IHVzZXIuZGF0YT8uYmFpcnJvLFxyXG4gICAgICBjaXR5OiB1c2VyLmRhdGE/LmNpZGFkZSxcclxuICAgICAgc3RhdGU6IHVzZXIuZGF0YT8udWYsXHJcbiAgICAgIGV4dGVybmFsUmVmZXJlbmNlOiB1c2VyLmRhdGE/LmlkLnRvU3RyaW5nKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkNsaWVudGUgY3JpYWRvOlwiLCBjbGllbnRlKTtcclxuXHJcbiAgICBjb25zdCBwYWdhbWVudG9EYXRhOiBBc2Fhc1BheW1lbnQgPSB7XHJcbiAgICAgIGJpbGxpbmdUeXBlOiBtZXRvZG9QYWdhbWVudG8gYXNcclxuICAgICAgICB8IFwiQk9MRVRPXCJcclxuICAgICAgICB8IFwiQ1JFRElUX0NBUkRcIlxyXG4gICAgICAgIHwgXCJQSVhcIlxyXG4gICAgICAgIHwgXCJVTkRFRklORURcIixcclxuICAgICAgY3VzdG9tZXI6IGNsaWVudGUuaWQsXHJcbiAgICAgIHZhbHVlOiBOdW1iZXIodmFsb3JUb3RhbCkgKyBOdW1iZXIoZnJldGUpLFxyXG4gICAgICBkdWVEYXRlOiBcIjIwMjUtMDctMjlcIixcclxuICAgICAgZXh0ZXJuYWxSZWZlcmVuY2U6IHBlZGlkby5pZC50b1N0cmluZygpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogYCMke251bWVyb1BlZGlkb31gLFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAobWV0b2RvUGFnYW1lbnRvID09PSBcIkNSRURJVF9DQVJEXCIpIHtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5jcmVkaXRDYXJkID0ge1xyXG4gICAgICAgIGhvbGRlck5hbWU6IHVzZXIuZGF0YS5ub21lICsgXCIgXCIgKyB1c2VyLmRhdGEuc29icmVub21lLFxyXG4gICAgICAgIG51bWJlcjogXCI0MTExMTExMTExMTExMTExXCIsXHJcbiAgICAgICAgZXhwaXJ5TW9udGg6IFwiMTJcIixcclxuICAgICAgICBleHBpcnlZZWFyOiBcIjIwMjVcIixcclxuICAgICAgICBjY3Y6IFwiMTIzXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEuaW5zdGFsbG1lbnRDb3VudCA9IDE7XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEudG90YWxWYWx1ZSA9IE51bWJlcih2YWxvclRvdGFsKSArIE51bWJlcihmcmV0ZSk7XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEuaW5zdGFsbG1lbnRWYWx1ZSA9IE51bWJlcih2YWxvclRvdGFsKSArIE51bWJlcihmcmV0ZSk7XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEuZGlzY291bnQgPSB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgZHVlRGF0ZUxpbWl0RGF5czogMCxcclxuICAgICAgICB0eXBlOiBcIkZJWEVEXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEuaW50ZXJlc3QgPSB7XHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgIH07XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEuZmluZSA9IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgfTtcclxuICAgICAgcGFnYW1lbnRvRGF0YS5jcmVkaXRDYXJkSG9sZGVySW5mbyA9IHtcclxuICAgICAgICBuYW1lOiB1c2VyLmRhdGEubm9tZSArIFwiIFwiICsgdXNlci5kYXRhLnNvYnJlbm9tZSxcclxuICAgICAgICBlbWFpbDogdXNlci5kYXRhLmVtYWlsLFxyXG4gICAgICAgIGNwZkNucGo6IHVzZXIuZGF0YS5jcGYsXHJcbiAgICAgICAgcG9zdGFsQ29kZTogdXNlci5kYXRhLmNlcCxcclxuICAgICAgICBhZGRyZXNzTnVtYmVyOiB1c2VyLmRhdGEubnVtZXJvLFxyXG4gICAgICAgIGFkZHJlc3NDb21wbGVtZW50OiB1c2VyLmRhdGEuY29tcGxlbWVudG8gfHwgXCJcIixcclxuICAgICAgICBwaG9uZTogdXNlci5kYXRhLnRlbGVmb25lLFxyXG4gICAgICAgIG1vYmlsZVBob25lOiB1c2VyLmRhdGEudGVsZWZvbmUsXHJcbiAgICAgIH07XHJcbiAgICAgIHBhZ2FtZW50b0RhdGEucmVtb3RlSXAgPSBcIjEyNy4wLjAuMVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBhZ2FtZW50byA9IGF3YWl0IGNyZWF0ZVBheW1lbnQocGFnYW1lbnRvRGF0YSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJQYWdhbWVudG8gY3JpYWRvOlwiLCBwYWdhbWVudG8pO1xyXG5cclxuICAgIGlmICghcGFnYW1lbnRvLmlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm8gYW8gY3JpYXIgcGFnYW1lbnRvIG5vIEFzYWFzXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkYWRvc1BhZ2FtZW50byA9IG51bGw7XHJcbiAgICBpZihtZXRvZG9QYWdhbWVudG8gPT09IFwiUElYXCIgfHwgbWV0b2RvUGFnYW1lbnRvID09PSBcIkJPTEVUT1wiKSB7XHJcbiAgICAgIGRhZG9zUGFnYW1lbnRvID0gYXdhaXQgZ2V0UGl4UXJDb2RlKHBhZ2FtZW50by5pZCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiUVIgQ29kZSBQSVg6XCIsIGRhZG9zUGFnYW1lbnRvKTtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBpeCA9IG51bGw7XHJcbiAgICBsZXQgYm9sZXRvID0gbnVsbDtcclxuXHJcbiAgICBpZihkYWRvc1BhZ2FtZW50bykge1xyXG4gICAgICBwaXggPSBkYWRvc1BhZ2FtZW50by5waXg7XHJcbiAgICAgIGJvbGV0byA9IGRhZG9zUGFnYW1lbnRvLmJhbmtTbGlwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlZ2lzdHJhciBvIHN0YXR1cyBpbmljaWFsIG5vIGhpc3TDs3JpY29cclxuICAgIGF3YWl0IHJlZ2lzdHJhck11ZGFuY2FTdGF0dXMoXHJcbiAgICAgIHBlZGlkby5pZCxcclxuICAgICAgbnVsbCxcclxuICAgICAgc3RhdHVzSW5pY2lhbCxcclxuICAgICAgXCJQZWRpZG8gY3JpYWRvXCIsXHJcbiAgICAgIG51bGxcclxuICAgICk7XHJcblxyXG4gICAgLy8gUHJlcGFyYXIgaXRlbnMgcGFyYSBpbnNlcsOnw6NvIGNvbSBwYWNvdGVfaWQgY29ycmV0byBwYXJhIGNhZGEgaXRlbVxyXG4gICAgY29uc3QgaXRlbnNQYXJhSW5zZXJpciA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICBpdGVtcy5tYXAoYXN5bmMgKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgLy8gQnVzY2FyIG8gcGFjb3RlX2lkIGNvcnJldG8gYmFzZWFkbyBubyBub21lIGRvIHByb2R1dG9cclxuICAgICAgICBjb25zdCB7IGRhdGE6IHBhY290ZUlkIH0gPSBhd2FpdCBnZXRQYWNvdGVCeVByb2R1dG9Ob21lKGl0ZW0ubm9tZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJhSW5zZXJpciA9IHtcclxuICAgICAgICAgIHBlZGlkb19pZDogcGVkaWRvLmlkLFxyXG4gICAgICAgICAgcGFjb3RlX2lkOiBwYWNvdGVJZCxcclxuICAgICAgICAgIHF0ZDogTnVtYmVyKGl0ZW0ucXVhbnRpZGFkZSkgfHwgMCxcclxuICAgICAgICAgIHZhbG9yX3VuaXRhcmlvOiBOdW1iZXIoaXRlbS5wcmVjbykgfHwgMCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgSXRlbSAke2luZGV4ICsgMX0gcHJlcGFyYWRvOmAsIGl0ZW1QYXJhSW5zZXJpcik7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFByb2R1dG86ICR7aXRlbS5ub21lfSAtPiBQYWNvdGUgSUQ6ICR7cGFjb3RlSWR9YCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1QYXJhSW5zZXJpcjtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJUb2RvcyBvcyBpdGVucyBwcmVwYXJhZG9zOlwiLCBpdGVuc1BhcmFJbnNlcmlyKTtcclxuXHJcbiAgICAvLyBJbnNlcmlyIG9zIGl0ZW5zIGRvIHBlZGlkb1xyXG4gICAgY29uc3QgeyBkYXRhOiBpdGVuc0luc2VyaWRvcywgZXJyb3I6IGl0ZW5zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicGVkaWRvX2l0ZW5zXCIpXHJcbiAgICAgIC5pbnNlcnQoaXRlbnNQYXJhSW5zZXJpcilcclxuICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgIGlmIChpdGVuc0Vycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGRldGFsaGFkbyBhbyBpbnNlcmlyIGl0ZW5zIGRvIHBlZGlkbzpcIiwgaXRlbnNFcnJvcik7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJEYWRvcyBxdWUgdGVudGFtb3MgaW5zZXJpcjpcIiwgaXRlbnNQYXJhSW5zZXJpcik7XHJcbiAgICAgIHRocm93IGl0ZW5zRXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJJdGVucyBpbnNlcmlkb3MgY29tIHN1Y2Vzc286XCIsIGl0ZW5zSW5zZXJpZG9zKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUGFnYW1lbnRvIGNyaWFkbyBjb20gc3VjZXNzbzpcIiwgcGl4KTtcclxuICAgIGNvbnNvbGUubG9nKFwiUGFnYW1lbnRvIGNyaWFkbyBjb20gc3VjZXNzbzpcIiwgYm9sZXRvKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUGFnYW1lbnRvIGNyaWFkbyBjb20gc3VjZXNzbzpcIiwgcGFnYW1lbnRvLmlkKTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiBwZWRpZG8sIHBpeCwgYm9sZXRvLCBwYWdhbWVudG9JZDogcGFnYW1lbnRvLmlkLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBjcmlhciBwZWRpZG86XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGF0dWFsaXphciBzdGF0dXMgZG8gcGVkaWRvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHVhbGl6YXJTdGF0dXNQZWRpZG8oXHJcbiAgcGVkaWRvSWQ6IG51bWJlcixcclxuICBub3ZvU3RhdHVzOiBzdHJpbmcsXHJcbiAgZGF0YUVzdGltYWRhPzogc3RyaW5nLFxyXG4gIG9ic2VydmFjb2VzPzogc3RyaW5nLFxyXG4gIHVwZGF0ZWRCeT86IG51bWJlclxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgLy8gUHJpbWVpcm8sIGJ1c2NhciBvIHN0YXR1cyBhdHVhbFxyXG4gICAgY29uc3QgeyBkYXRhOiBwZWRpZG9BdHVhbCwgZXJyb3I6IGVycm9yQnVzY2EgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicGVkaWRvc1wiKVxyXG4gICAgICAuc2VsZWN0KFwic3RhdHVzX2RldGFsaGFkb1wiKVxyXG4gICAgICAuZXEoXCJpZFwiLCBwZWRpZG9JZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvckJ1c2NhKSB7XHJcbiAgICAgIHRocm93IGVycm9yQnVzY2E7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJlcGFyYXIgZGFkb3MgcGFyYSBhdHVhbGl6YcOnw6NvXHJcbiAgICBjb25zdCBkYWRvc0F0dWFsaXphY2FvOiBhbnkgPSB7XHJcbiAgICAgIHN0YXR1c19kZXRhbGhhZG86IG5vdm9TdGF0dXMsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGRhdGFFc3RpbWFkYSkge1xyXG4gICAgICBkYWRvc0F0dWFsaXphY2FvLmRhdGFfZXN0aW1hZGFfZW50cmVnYSA9IGRhdGFFc3RpbWFkYTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JzZXJ2YWNvZXMpIHtcclxuICAgICAgZGFkb3NBdHVhbGl6YWNhby5vYnNlcnZhY29lc19yZXZlbmRlZG9yID0gb2JzZXJ2YWNvZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbyBzdGF0dXMgZm9yIFwiZW50cmVndWVcIiBvdSBcInJldGlyYWRvXCIsIGRlZmluaXIgZGF0YSByZWFsXHJcbiAgICBpZiAobm92b1N0YXR1cyA9PT0gXCJlbnRyZWd1ZVwiIHx8IG5vdm9TdGF0dXMgPT09IFwicmV0aXJhZG9cIikge1xyXG4gICAgICBkYWRvc0F0dWFsaXphY2FvLmRhdGFfZW50cmVnYV9yZWFsID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEF0dWFsaXphciBvIHBlZGlkb1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJwZWRpZG9zXCIpXHJcbiAgICAgIC51cGRhdGUoZGFkb3NBdHVhbGl6YWNhbylcclxuICAgICAgLmVxKFwiaWRcIiwgcGVkaWRvSWQpXHJcbiAgICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG11ZGFuw6dhIG5vIGhpc3TDs3JpY29cclxuICAgIGF3YWl0IHJlZ2lzdHJhck11ZGFuY2FTdGF0dXMoXHJcbiAgICAgIHBlZGlkb0lkLFxyXG4gICAgICBwZWRpZG9BdHVhbC5zdGF0dXNfZGV0YWxoYWRvLFxyXG4gICAgICBub3ZvU3RhdHVzLFxyXG4gICAgICBvYnNlcnZhY29lcyxcclxuICAgICAgdXBkYXRlZEJ5XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGF0dWFsaXphciBzdGF0dXMgZG8gcGVkaWRvOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlZGlkb3ModXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJwZWRpZG9zXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgICosXHJcbiAgICAgIGl0ZW5zX3BlZGlkbzppdGVuc19wZWRpZG8oXHJcbiAgICAgICAgKixcclxuICAgICAgICBwcm9kdXRvOnByb2R1dG9zKCopXHJcbiAgICAgIClcclxuICAgIGBcclxuICAgIClcclxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIFN1YnN0aXR1aXIgYSBmdW7Dp8OjbyBnZXRQZWRpZG9zQ2xpZW50ZSBwb3IgZXN0YSB2ZXJzw6NvIGNvcnJpZ2lkYTpcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlZGlkb3NDbGllbnRlKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwiQnVzY2FuZG8gcGVkaWRvcyBwYXJhIHVzdcOhcmlvOlwiLCB1c2VySWQpO1xyXG5cclxuICAgIC8vIENvbnZlcnRlciB1c2VySWQgcGFyYSBuw7ptZXJvXHJcbiAgICBjb25zdCBjbGllbnRlSWQgPSBOdW1iZXIucGFyc2VJbnQodXNlcklkKTtcclxuXHJcbiAgICAvLyBCdXNjYXIgcGVkaWRvcyB1c2FuZG8gbyBjbGllbnRlX2lkIGRpcmV0YW1lbnRlXHJcbiAgICBjb25zdCB7IGRhdGE6IHBlZGlkb3MsIGVycm9yOiBwZWRpZG9zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicGVkaWRvc1wiKVxyXG4gICAgICAuc2VsZWN0KFxyXG4gICAgICAgIGBcclxuICAgICAgICAqLFxyXG4gICAgICAgIHBlZGlkb19pdGVuczpwZWRpZG9faXRlbnMoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIHBlZGlkb19pZCxcclxuICAgICAgICAgIHBhY290ZV9pZCxcclxuICAgICAgICAgIHF0ZCxcclxuICAgICAgICAgIHZhbG9yX3VuaXRhcmlvLFxyXG4gICAgICAgICAgcGFjb3RlczpwYWNvdGVzKGlkLCBkZXNjcmljYW8sIGNvciwgaW1hZ2VtKVxyXG4gICAgICAgIClcclxuICAgICAgYFxyXG4gICAgICApXHJcbiAgICAgIC5lcShcImNsaWVudGVfaWRcIiwgY2xpZW50ZUlkKSAvLyBDb3JyaWdpZG86IGNsaWVudGVfaWQgZW0gdmV6IGRlIGNsaWVudF9pZFxyXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlBlZGlkb3MgZW5jb250cmFkb3M6XCIsIHBlZGlkb3M/Lmxlbmd0aCB8fCAwKTtcclxuXHJcbiAgICBpZiAocGVkaWRvc0Vycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwZWRpZG9zOlwiLCBwZWRpZG9zRXJyb3IpO1xyXG4gICAgICB0aHJvdyBwZWRpZG9zRXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogcGVkaWRvcyB8fCBbXSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYnVzY2FyIHBlZGlkb3MgZG8gY2xpZW50ZTpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGJ1c2NhciB0YW1hbmhvcyBkZSByb2RhcyBkaXNwb27DrXZlaXNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRhbWFuaG9zKCkge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcInRhbWFuaG9zXCIpXHJcbiAgICAuc2VsZWN0KFwiaWQsIG5vbWVcIilcclxuICAgIC5vcmRlcihcIm5vbWVcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgYnVzY2FyIGFsdHVyYXMgZGlzcG9uw612ZWlzIGNvbSBiYXNlIG5vIHRhbWFuaG8gZGEgcm9kYVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWx0dXJhc0J5VGFtYW5ob0lkKHRhbWFuaG9JZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiYWx0dXJhc1wiKVxyXG4gICAgLnNlbGVjdChcImlkLCB2YWxvclwiKVxyXG4gICAgLmVxKFwidGFtYW5ob19pZFwiLCB0YW1hbmhvSWQpXHJcbiAgICAub3JkZXIoXCJ2YWxvclwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgLy8gUmVtb3ZlciBkdXBsaWNhdGFzIGJhc2VhZG8gbm8gdmFsb3JcclxuICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHVuaXF1ZUFsdHVyYXMgPSBkYXRhLnJlZHVjZSgoYWNjOiBhbnlbXSwgY3VycmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBleGlzdHMgPSBhY2MuZmluZCgoaXRlbSkgPT4gaXRlbS52YWxvciA9PT0gY3VycmVudC52YWxvcik7XHJcbiAgICAgIGlmICghZXhpc3RzKSB7XHJcbiAgICAgICAgYWNjLnB1c2goY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiB1bmlxdWVBbHR1cmFzLCBlcnJvciB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSBidXNjYXIgbGFyZ3VyYXMgYmFzZWQgb24gYWx0dXJhX2lkXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYXJndXJhc0J5QWx0dXJhSWQoYWx0dXJhSWQ6IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwi8J+UjSBCdXNjYW5kbyBsYXJndXJhcyBwYXJhIGFsdHVyYUlkOlwiLCBhbHR1cmFJZCk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImxhcmd1cmFzXCIpXHJcbiAgICAuc2VsZWN0KFwiaWQsIHZhbG9yXCIpXHJcbiAgICAuZXEoXCJhbHR1cmFfaWRcIiwgYWx0dXJhSWQpXHJcbiAgICAub3JkZXIoXCJ2YWxvclwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgLy8gUmVtb3ZlciBkdXBsaWNhdGFzIGJhc2VhZG8gbm8gdmFsb3JcclxuICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHVuaXF1ZUxhcmd1cmFzID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55W10sIGN1cnJlbnQpID0+IHtcclxuICAgICAgY29uc3QgZXhpc3RzID0gYWNjLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmFsb3IgPT09IGN1cnJlbnQudmFsb3IpO1xyXG4gICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgIGFjYy5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCLwn5OPIExhcmd1cmFzIMO6bmljYXMgZW5jb250cmFkYXM6XCIsIHtcclxuICAgICAgZGF0YTogdW5pcXVlTGFyZ3VyYXMsXHJcbiAgICAgIGVycm9yLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4geyBkYXRhOiB1bmlxdWVMYXJndXJhcywgZXJyb3IgfTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwi8J+TjyBMYXJndXJhcyBlbmNvbnRyYWRhczpcIiwgeyBkYXRhLCBlcnJvciB9KTtcclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIGJ1c2NhciBwYWNrYWdlIGRldGFpbHMgYnkgbGFyZ3VyYV9pZFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFjb3RlQnlMYXJndXJhSWQobGFyZ3VyYUlkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCLwn5SNIEJ1c2NhbmRvIHBhY290ZSBwYXJhIGxhcmd1cmFJZDpcIiwgbGFyZ3VyYUlkKTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBhY290ZXNcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLmVxKFwibGFyZ3VyYV9pZFwiLCBsYXJndXJhSWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIvCfk6YgUmVzdWx0YWRvIGRhIGJ1c2NhOlwiLCB7IGRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm8gYW8gYnVzY2FyIHBhY290ZSBwb3IgbGFyZ3VyYV9pZDpcIiwgZXJyb3IpO1xyXG4gICAgICAvLyBGYWxsYmFjazogcmV0b3JuYXIgdW0gcGFjb3RlIHBhZHLDo29cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgIG5vbWU6IFwiTFRQNjBcIixcclxuICAgICAgICAgIGNvcjogXCIjNEE0OTUzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJOZW5odW0gcGFjb3RlIGVuY29udHJhZG8gcGFyYSBsYXJndXJhX2lkOlwiLCBsYXJndXJhSWQpO1xyXG4gICAgICAvLyBGYWxsYmFjazogcmV0b3JuYXIgdW0gcGFjb3RlIHBhZHLDo29cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgIG5vbWU6IFwiTFRQNjBcIixcclxuICAgICAgICAgIGNvcjogXCIjNEE0OTUzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBanVzdGFyIGRhZG9zIHNlIG5vbWUgZXN0aXZlciBudWxsXHJcbiAgICBjb25zdCBwYWNvdGVBanVzdGFkbyA9IHtcclxuICAgICAgaWQ6IGRhdGEuaWQsXHJcbiAgICAgIG5vbWU6IGRhdGEubm9tZSB8fCBkYXRhLmRlc2NyaWNhbyB8fCBcIkxUUDYwXCIsXHJcbiAgICAgIGNvcjogZGF0YS5jb3IgfHwgXCIjOTQ5Njk4XCIsIC8vIENvciBwYWRyw6NvIGJhc2VhZGEgbm9zIGRhZG9zIGV4aXN0ZW50ZXNcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogcGFjb3RlQWp1c3RhZG8sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYWNvdGU6XCIsIGVycm9yKTtcclxuICAgIC8vIEZhbGxiYWNrOiByZXRvcm5hciB1bSBwYWNvdGUgcGFkcsOjb1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGlkOiAxLFxyXG4gICAgICAgIG5vbWU6IFwiTFRQNjBcIixcclxuICAgICAgICBjb3I6IFwiIzRBNDk1M1wiLFxyXG4gICAgICB9LFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBGVU7Dh8OVRVMgRE8gQ0FSUklOSE8gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEJ1c2NhciBjYXJyaW5obyBkbyB1c3XDoXJpb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FycmluaG9Vc3VhcmlvKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBBZGljaW9uYXIgaXRlbSBhbyBjYXJyaW5ob1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRpY2lvbmFySXRlbUNhcnJpbmhvKFxyXG4gIHVzZXJJZDogc3RyaW5nLFxyXG4gIHByb2R1dG9Ob21lOiBzdHJpbmcsXHJcbiAgcXVhbnRpZGFkZSA9IDUsXHJcbiAgaW1hZ2VtPzogc3RyaW5nXHJcbikge1xyXG4gIC8vIEVuc3VyZSBxdWFudGl0eSBpcyBhIG11bHRpcGxlIG9mIDUgYW5kIGF0IGxlYXN0IDVcclxuICBjb25zdCBhZGp1c3RlZFF1YW50aXR5ID0gTWF0aC5tYXgoTWF0aC5yb3VuZChxdWFudGlkYWRlIC8gNSkgKiA1LCA1KTtcclxuXHJcbiAgLy8gVmVyaWZpY2FyIHNlIG8gaXRlbSBqw6EgZXhpc3RlIG5vIGNhcnJpbmhvXHJcbiAgY29uc3QgeyBkYXRhOiBpdGVtRXhpc3RlbnRlLCBlcnJvcjogZXJyb3JCdXNjYSB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5lcShcInByb2R1dG9fbm9tZVwiLCBwcm9kdXRvTm9tZSlcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yQnVzY2EgJiYgZXJyb3JCdXNjYS5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcclxuICAgIC8vIFBHUlNUMTE2ID0gTm8gcm93cyBmb3VuZCAoZXNwZXJhZG8gc2UgaXRlbSBuw6NvIGV4aXN0ZSlcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvckJ1c2NhIH07XHJcbiAgfVxyXG5cclxuICBpZiAoaXRlbUV4aXN0ZW50ZSkge1xyXG4gICAgLy8gSXRlbSBqw6EgZXhpc3RlLCBhZGljaW9uYXIgNSB1bmlkYWRlc1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJjYXJyaW5ob191c3Vhcmlvc1wiKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBxdWFudGlkYWRlOiBpdGVtRXhpc3RlbnRlLnF1YW50aWRhZGUgKyA1LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfSlcclxuICAgICAgLmVxKFwiaWRcIiwgaXRlbUV4aXN0ZW50ZS5pZClcclxuICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEl0ZW0gbsOjbyBleGlzdGUsIGNyaWFyIG5vdm8gY29tIHF1YW50aWRhZGUgYWp1c3RhZGFcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgICAgLmluc2VydChbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgcHJvZHV0b19ub21lOiBwcm9kdXRvTm9tZSxcclxuICAgICAgICAgIHF1YW50aWRhZGU6IGFkanVzdGVkUXVhbnRpdHksXHJcbiAgICAgICAgICBpbWFnZW06IGltYWdlbSxcclxuICAgICAgICB9LFxyXG4gICAgICBdKVxyXG4gICAgICAuc2VsZWN0KCk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEF0dWFsaXphciBxdWFudGlkYWRlIGRlIGl0ZW0gbm8gY2FycmluaG9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF0dWFsaXphclF1YW50aWRhZGVDYXJyaW5obyhcclxuICB1c2VySWQ6IHN0cmluZyxcclxuICBwcm9kdXRvTm9tZTogc3RyaW5nLFxyXG4gIHF1YW50aWRhZGU6IG51bWJlclxyXG4pIHtcclxuICAvLyBFbnN1cmUgcXVhbnRpdHkgaXMgYSBtdWx0aXBsZSBvZiA1IGFuZCBhdCBsZWFzdCA1XHJcbiAgY29uc3QgYWRqdXN0ZWRRdWFudGl0eSA9IE1hdGgubWF4KE1hdGgucm91bmQocXVhbnRpZGFkZSAvIDUpICogNSwgNSk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNhcnJpbmhvX3VzdWFyaW9zXCIpXHJcbiAgICAudXBkYXRlKHtcclxuICAgICAgcXVhbnRpZGFkZTogYWRqdXN0ZWRRdWFudGl0eSxcclxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfSlcclxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxyXG4gICAgLmVxKFwicHJvZHV0b19ub21lXCIsIHByb2R1dG9Ob21lKVxyXG4gICAgLnNlbGVjdCgpO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBSZW1vdmVyIGl0ZW0gZG8gY2FycmluaG9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZXJJdGVtQ2FycmluaG8odXNlcklkOiBzdHJpbmcsIHByb2R1dG9Ob21lOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJjYXJyaW5ob191c3Vhcmlvc1wiKVxyXG4gICAgLmRlbGV0ZSgpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5lcShcInByb2R1dG9fbm9tZVwiLCBwcm9kdXRvTm9tZSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIExpbXBhciBjYXJyaW5obyBkbyB1c3XDoXJpb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGltcGFyQ2FycmluaG9Vc3VhcmlvKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgIC5kZWxldGUoKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpO1xyXG5cclxuICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBBdHVhbGl6YXIgY2FycmluaG8gY29tcGxldG8gZG8gdXN1w6FyaW9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF0dWFsaXphckNhcnJpbmhvVXN1YXJpbyh1c2VySWQ6IHN0cmluZywgaXRlbXM6IGFueVtdKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFByaW1laXJvLCBsaW1wYXIgbyBjYXJyaW5obyBhdHVhbFxyXG4gICAgYXdhaXQgbGltcGFyQ2FycmluaG9Vc3VhcmlvKHVzZXJJZCk7XHJcblxyXG4gICAgLy8gU2UgbsOjbyBow6EgaXRlbnMsIGFwZW5hcyByZXRvcm5hciBzdWNlc3NvXHJcbiAgICBpZiAoIWl0ZW1zIHx8IGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluc2VyaXIgdG9kb3Mgb3Mgbm92b3MgaXRlbnNcclxuICAgIGNvbnN0IGl0ZW5zUGFyYUluc2VyaXIgPSBpdGVtcy5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgcHJvZHV0b19ub21lOiBpdGVtLm5vbWUsXHJcbiAgICAgIHF1YW50aWRhZGU6IGl0ZW0ucXVhbnRpZGFkZSxcclxuICAgICAgaW1hZ2VtOiBpdGVtLmltYWdlbSxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY2FycmluaG9fdXN1YXJpb3NcIilcclxuICAgICAgLmluc2VydChpdGVuc1BhcmFJbnNlcmlyKVxyXG4gICAgICAuc2VsZWN0KCk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gYXR1YWxpemFyIGNhcnJpbmhvOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gRlVOw4fDlUVTIERFIFJFVkVOREVET1JFUyBFIEVTVE9RVUUgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEJ1c2NhciByZXZlbmRlZG9yZXMgcXVlIHBvc3N1ZW0gdW0gcHJvZHV0byBlc3BlY8OtZmljbyBlbSBlc3RvcXVlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXZlbmRlZG9yZXNDb21Qcm9kdXRvKHByb2R1dG9Ob21lOiBzdHJpbmcpIHtcclxuICAvLyBVc2FuZG8gSk9JTiBtYW51YWwgZW0gdmV6IGRlIHJlbGFjaW9uYW1lbnRvXHJcbiAgY29uc3QgeyBkYXRhOiBlc3RvcXVlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicmV2ZW5kZWRvcl9lc3RvcXVlXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgIGlkLFxyXG4gICAgICByZXZlbmRlZG9yX2lkLFxyXG4gICAgICBwcm9kdXRvLFxyXG4gICAgICBxdWFudGlkYWRlLFxyXG4gICAgICBwcmVjbyxcclxuICAgICAgc3RhdHVzXHJcbiAgICBgXHJcbiAgICApXHJcbiAgICAuZXEoXCJwcm9kdXRvXCIsIHByb2R1dG9Ob21lKVxyXG4gICAgLmd0KFwicXVhbnRpZGFkZVwiLCAwKTsgLy8gQXBlbmFzIGNvbSBlc3RvcXVlIGRpc3BvbsOtdmVsXHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcblxyXG4gIC8vIEJ1c2NhciBpbmZvcm1hw6fDtWVzIGRvcyByZXZlbmRlZG9yZXNcclxuICBjb25zdCByZXZlbmRlZG9ySWRzID0gZXN0b3F1ZT8ubWFwKChpdGVtKSA9PiBpdGVtLnJldmVuZGVkb3JfaWQpIHx8IFtdO1xyXG5cclxuICBpZiAocmV2ZW5kZWRvcklkcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiByZXZlbmRlZG9yZXMsIGVycm9yOiByZXZlbmRlZG9yZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicmV2ZW5kZWRvcmVzXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgIGlkLFxyXG4gICAgICB1c3VhcmlvX2lkLFxyXG4gICAgICBsb2phLFxyXG4gICAgICBjaWRhZGUsXHJcbiAgICAgIHVmLFxyXG4gICAgICBmcmV0ZSxcclxuICAgICAgdmVuZGFzLFxyXG4gICAgICBzdGF0dXNcclxuICAgIGBcclxuICAgIClcclxuICAgIC5pbihcImlkXCIsIHJldmVuZGVkb3JJZHMpO1xyXG5cclxuICBpZiAocmV2ZW5kZWRvcmVzRXJyb3IpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiByZXZlbmRlZG9yZXNFcnJvciB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tYmluYXIgb3MgZGFkb3NcclxuICBjb25zdCByZXN1bHRhZG8gPVxyXG4gICAgZXN0b3F1ZVxyXG4gICAgICA/Lm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJldmVuZGVkb3IgPSByZXZlbmRlZG9yZXM/LmZpbmQoXHJcbiAgICAgICAgICAocikgPT4gci5pZCA9PT0gaXRlbS5yZXZlbmRlZG9yX2lkXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uaXRlbSxcclxuICAgICAgICAgIHJldmVuZGVkb3I6IHJldmVuZGVkb3IgfHwgbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnJldmVuZGVkb3IgIT09IG51bGwpIHx8IFtdO1xyXG5cclxuICAvLyBPcmRlbmFyIHBvciBwcmXDp29cclxuICByZXN1bHRhZG8uc29ydCgoYSwgYikgPT4gYS5wcmVjbyAtIGIucHJlY28pO1xyXG5cclxuICByZXR1cm4geyBkYXRhOiByZXN1bHRhZG8sIGVycm9yOiBudWxsIH07XHJcbn1cclxuXHJcbi8vIEJ1c2NhciByZXZlbmRlZG9yZXMgcGFyYSBtw7psdGlwbG9zIHByb2R1dG9zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXZlbmRlZG9yZXNQYXJhUHJvZHV0b3MocHJvZHV0b05vbWVzOiBzdHJpbmdbXSkge1xyXG4gIGlmICghcHJvZHV0b05vbWVzLmxlbmd0aCkgcmV0dXJuIHsgZGF0YToge30sIGVycm9yOiBudWxsIH07XHJcblxyXG4gIC8vIEJ1c2NhciB0b2RvcyBvcyBwcm9kdXRvcyBkZSB1bWEgdmV6XHJcbiAgY29uc3QgeyBkYXRhOiBlc3RvcXVlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicmV2ZW5kZWRvcl9lc3RvcXVlXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgIGlkLFxyXG4gICAgICByZXZlbmRlZG9yX2lkLFxyXG4gICAgICBwcm9kdXRvLFxyXG4gICAgICBxdWFudGlkYWRlLFxyXG4gICAgICBwcmVjbyxcclxuICAgICAgc3RhdHVzXHJcbiAgICBgXHJcbiAgICApXHJcbiAgICAuaW4oXCJwcm9kdXRvXCIsIHByb2R1dG9Ob21lcylcclxuICAgIC5ndChcInF1YW50aWRhZGVcIiwgMCk7IC8vIEFwZW5hcyBjb20gZXN0b3F1ZSBkaXNwb27DrXZlbFxyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IHt9LCBlcnJvciB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKCFlc3RvcXVlIHx8IGVzdG9xdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiB7fSwgZXJyb3I6IG51bGwgfTtcclxuICB9XHJcblxyXG4gIC8vIEJ1c2NhciBpbmZvcm1hw6fDtWVzIGRvcyByZXZlbmRlZG9yZXNcclxuICBjb25zdCByZXZlbmRlZG9ySWRzID0gWy4uLm5ldyBTZXQoZXN0b3F1ZS5tYXAoKGl0ZW0pID0+IGl0ZW0ucmV2ZW5kZWRvcl9pZCkpXTtcclxuXHJcbiAgY29uc3QgeyBkYXRhOiByZXZlbmRlZG9yZXMsIGVycm9yOiByZXZlbmRlZG9yZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicmV2ZW5kZWRvcmVzXCIpXHJcbiAgICAuc2VsZWN0KFxyXG4gICAgICBgXHJcbiAgICAgIGlkLFxyXG4gICAgICB1c3VhcmlvX2lkLFxyXG4gICAgICBsb2phLFxyXG4gICAgICBjaWRhZGUsXHJcbiAgICAgIHVmLFxyXG4gICAgICBmcmV0ZSxcclxuICAgICAgdmVuZGFzLFxyXG4gICAgICBzdGF0dXNcclxuICAgIGBcclxuICAgIClcclxuICAgIC5pbihcImlkXCIsIHJldmVuZGVkb3JJZHMpO1xyXG5cclxuICBpZiAocmV2ZW5kZWRvcmVzRXJyb3IpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IHt9LCBlcnJvcjogcmV2ZW5kZWRvcmVzRXJyb3IgfTtcclxuICB9XHJcblxyXG4gIC8vIENvbWJpbmFyIG9zIGRhZG9zIGUgYWdydXBhciBwb3IgcHJvZHV0b1xyXG4gIGNvbnN0IHByb2R1dG9zQWdydXBhZG9zOiBSZWNvcmQ8c3RyaW5nLCBhbnlbXT4gPSB7fTtcclxuXHJcbiAgcHJvZHV0b05vbWVzLmZvckVhY2goKHByb2R1dG9Ob21lKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdXRvRXN0b3F1ZSA9IGVzdG9xdWVcclxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5wcm9kdXRvID09PSBwcm9kdXRvTm9tZSlcclxuICAgICAgLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJldmVuZGVkb3IgPSByZXZlbmRlZG9yZXM/LmZpbmQoXHJcbiAgICAgICAgICAocikgPT4gci5pZCA9PT0gaXRlbS5yZXZlbmRlZG9yX2lkXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcmV2ZW5kZWRvciA/IHsgLi4uaXRlbSwgcmV2ZW5kZWRvciB9IDogbnVsbDtcclxuICAgICAgfSlcclxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gbnVsbCk7XHJcblxyXG4gICAgLy8gT3JkZW5hciBwb3IgcHJlw6dvXHJcbiAgICBwcm9kdXRvRXN0b3F1ZS5zb3J0KChhLCBiKSA9PiBhLnByZWNvIC0gYi5wcmVjbyk7XHJcblxyXG4gICAgcHJvZHV0b3NBZ3J1cGFkb3NbcHJvZHV0b05vbWVdID0gcHJvZHV0b0VzdG9xdWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGE6IHByb2R1dG9zQWdydXBhZG9zLCBlcnJvcjogbnVsbCB9O1xyXG59XHJcblxyXG4vLyBCdXNjYXIgaW5mb3JtYcOnw7VlcyBkbyB1c3XDoXJpb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckluZm8odXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJ1c3Vhcmlvc1wiKVxyXG4gICAgLnNlbGVjdChcclxuICAgICAgXCJpZCwgbm9tZSwgc29icmVub21lLCBlbWFpbCwgY3BmLCB0ZWxlZm9uZSwgY2lkYWRlLCB1ZiwgY2VwLCBydWEsIGJhaXJybywgY29tcGxlbWVudG8sIG51bWVyb1wiXHJcbiAgICApXHJcbiAgICAuZXEoXCJpZFwiLCB1c2VySWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgYnVzY2FyIHVzdWFyaW9faWQgZG8gcmV2ZW5kZWRvciBiYXNlYWRvIG5vIHJldmVuZGVkb3JfaWRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzdWFyaW9JZFJldmVuZGVkb3IocmV2ZW5kZWRvcklkOiBudW1iZXIpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJyZXZlbmRlZG9yZXNcIilcclxuICAgICAgLnNlbGVjdChcInVzdWFyaW9faWRcIilcclxuICAgICAgLmVxKFwiaWRcIiwgcmV2ZW5kZWRvcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciB1c3VhcmlvX2lkIGRvIHJldmVuZGVkb3I6XCIsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLnVzdWFyaW9faWQsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciB1c3VhcmlvX2lkIGRvIHJldmVuZGVkb3I6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrU3RhdHVzUGVkaWRvKFxyXG4gIGlkOiBzdHJpbmdcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwiSW5pY2lhbmRvIGNyaWHDp8OjbyBkbyBwZWRpZG8gcGFyYSB1c3XDoXJpbzpcIiwgaWQpOyAgICBcclxuXHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklEIGRvIHBhZ2FtZW50byBuw6NvIGVuY29udHJhZG9cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgY2hlY2tQYXltZW50U3RhdHVzKGlkKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN0YXR1cyBkbyBwYWdhbWVudG86XCIsIHN0YXR1cyk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogc3RhdHVzLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyB2ZXJpZmljYXIgc3RhdHVzIGRvIHBhZ2FtZW50bzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsic3VwYWJhc2UiLCJjcmVhdGVQYXltZW50IiwiY3JlYXRlT3JVcGRhdGVDdXN0b21lciIsImdldFBpeFFyQ29kZSIsImNoZWNrUGF5bWVudFN0YXR1cyIsImdldFByb2R1dG9zIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZ2V0UHJvZHV0byIsImlkIiwiZXEiLCJzaW5nbGUiLCJzYWx2YXJDYWxjdWxvIiwidGFtYW5ob1JvZGEiLCJhbHR1cmEiLCJsYXJndXJhIiwicmVzdWx0YWRvIiwiY29yIiwiaW5zZXJ0IiwidGFtYW5ob19yb2RhIiwic2FsdmFyQ2FsY3Vsb1VzdWFyaW8iLCJ1c2VySWQiLCJ0YW1hbmhvIiwicGFjb3RlIiwiY2FsY3Vsb3MiLCJjb250YXJFcnJvciIsImNvbnNvbGUiLCJsZW5ndGgiLCJjYWxjdWxvTWFpc0FudGlnbyIsImRlbGV0ZUVycm9yIiwiZGVsZXRlIiwidXNlcmlkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJnZXRDYWxjdWxvc1VzdWFyaW8iLCJnZXRDYWxjdWxvcyIsImNyaWFyUGVkaWRvIiwiaXRlbXMiLCJ0b3RhbCIsInRpcG9FbnRyZWdhIiwibWV0b2RvUGFnYW1lbnRvIiwiZGFkb3NBZGljaW9uYWlzIiwicGVkaWRvIiwicGVkaWRvRXJyb3IiLCJ1c2VyX2lkIiwidGlwb19lbnRyZWdhIiwicGFnYW1lbnRvX3RpcG8iLCJzdGF0dXMiLCJkYWRvc19hZGljaW9uYWlzIiwiaXRlbnMiLCJtYXAiLCJpdGVtIiwicGVkaWRvX2lkIiwicHJvZHV0b19ub21lIiwibm9tZSIsInF1YW50aWRhZGUiLCJwcmVjb191bml0YXJpbyIsInByZWNvIiwicmV2ZW5kZWRvcl9pZCIsIml0ZW5zRXJyb3IiLCJnZXRQYWNvdGVCeVByb2R1dG9Ob21lIiwicHJvZHV0b05vbWUiLCJtYXBlYW1lbnRvUHJvZHV0b3MiLCJwYWNvdGVzIiwiaWxpa2UiLCJsaW1pdCIsImNvcmVzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInBhY290ZVBvckNvciIsImVycm9yQ29yIiwiZ2V0UGFjb3RlVmFsaWRvIiwicmVnaXN0cmFyTXVkYW5jYVN0YXR1cyIsInBlZGlkb0lkIiwic3RhdHVzQW50ZXJpb3IiLCJzdGF0dXNOb3ZvIiwib2JzZXJ2YWNhbyIsInVwZGF0ZWRCeSIsInN0YXR1c19hbnRlcmlvciIsInN0YXR1c19ub3ZvIiwidXBkYXRlZF9ieSIsImNyaWFyUGVkaWRvTm92byIsInJldmVuZGVkb3JJZCIsInZhbG9yVG90YWwiLCJmcmV0ZSIsImxvZyIsImNsaWVudGVJZCIsIk51bWJlciIsInBhcnNlSW50IiwicmV2ZW5kZWRvclVzdWFyaW9JZCIsInJldmVuZGVkb3JFcnJvciIsImdldFVzdWFyaW9JZFJldmVuZGVkb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJudW1lcm9QZWRpZG8iLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0b1VwcGVyQ2FzZSIsInN0YXR1c0luaWNpYWwiLCJjbGllbnRlX2lkIiwibnVtZXJvIiwidmFsb3JfdG90YWwiLCJzdGF0dXNfZGV0YWxoYWRvIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwidXNlciIsImdldFVzZXJJbmZvIiwiZW1haWwiLCJ0ZWxlZm9uZSIsImNwZiIsImNsaWVudGUiLCJuYW1lIiwic29icmVub21lIiwicGhvbmUiLCJtb2JpbGVQaG9uZSIsImNwZkNucGoiLCJwb3N0YWxDb2RlIiwiY2VwIiwiYWRkcmVzcyIsInJ1YSIsImFkZHJlc3NOdW1iZXIiLCJjb21wbGVtZW50IiwiY29tcGxlbWVudG8iLCJwcm92aW5jZSIsImJhaXJybyIsImNpdHkiLCJjaWRhZGUiLCJzdGF0ZSIsInVmIiwiZXh0ZXJuYWxSZWZlcmVuY2UiLCJwYWdhbWVudG9EYXRhIiwiYmlsbGluZ1R5cGUiLCJjdXN0b21lciIsInZhbHVlIiwiZHVlRGF0ZSIsImRlc2NyaXB0aW9uIiwiY3JlZGl0Q2FyZCIsImhvbGRlck5hbWUiLCJudW1iZXIiLCJleHBpcnlNb250aCIsImV4cGlyeVllYXIiLCJjY3YiLCJpbnN0YWxsbWVudENvdW50IiwidG90YWxWYWx1ZSIsImluc3RhbGxtZW50VmFsdWUiLCJkaXNjb3VudCIsImR1ZURhdGVMaW1pdERheXMiLCJ0eXBlIiwiaW50ZXJlc3QiLCJmaW5lIiwiY3JlZGl0Q2FyZEhvbGRlckluZm8iLCJhZGRyZXNzQ29tcGxlbWVudCIsInJlbW90ZUlwIiwicGFnYW1lbnRvIiwiZGFkb3NQYWdhbWVudG8iLCJwaXgiLCJib2xldG8iLCJiYW5rU2xpcCIsIml0ZW5zUGFyYUluc2VyaXIiLCJQcm9taXNlIiwiYWxsIiwiaW5kZXgiLCJwYWNvdGVJZCIsIml0ZW1QYXJhSW5zZXJpciIsInBhY290ZV9pZCIsInF0ZCIsInZhbG9yX3VuaXRhcmlvIiwiaXRlbnNJbnNlcmlkb3MiLCJwYWdhbWVudG9JZCIsImF0dWFsaXphclN0YXR1c1BlZGlkbyIsIm5vdm9TdGF0dXMiLCJkYXRhRXN0aW1hZGEiLCJvYnNlcnZhY29lcyIsInBlZGlkb0F0dWFsIiwiZXJyb3JCdXNjYSIsImRhZG9zQXR1YWxpemFjYW8iLCJkYXRhX2VzdGltYWRhX2VudHJlZ2EiLCJvYnNlcnZhY29lc19yZXZlbmRlZG9yIiwiZGF0YV9lbnRyZWdhX3JlYWwiLCJ1cGRhdGUiLCJnZXRQZWRpZG9zIiwiZ2V0UGVkaWRvc0NsaWVudGUiLCJwZWRpZG9zIiwicGVkaWRvc0Vycm9yIiwiZ2V0VGFtYW5ob3MiLCJnZXRBbHR1cmFzQnlUYW1hbmhvSWQiLCJ0YW1hbmhvSWQiLCJ1bmlxdWVBbHR1cmFzIiwicmVkdWNlIiwiYWNjIiwiY3VycmVudCIsImV4aXN0cyIsImZpbmQiLCJ2YWxvciIsInB1c2giLCJnZXRMYXJndXJhc0J5QWx0dXJhSWQiLCJhbHR1cmFJZCIsInVuaXF1ZUxhcmd1cmFzIiwiZ2V0UGFjb3RlQnlMYXJndXJhSWQiLCJsYXJndXJhSWQiLCJwYWNvdGVBanVzdGFkbyIsImRlc2NyaWNhbyIsImdldENhcnJpbmhvVXN1YXJpbyIsImFkaWNpb25hckl0ZW1DYXJyaW5obyIsImltYWdlbSIsImFkanVzdGVkUXVhbnRpdHkiLCJtYXgiLCJyb3VuZCIsIml0ZW1FeGlzdGVudGUiLCJjb2RlIiwiYXR1YWxpemFyUXVhbnRpZGFkZUNhcnJpbmhvIiwicmVtb3Zlckl0ZW1DYXJyaW5obyIsImxpbXBhckNhcnJpbmhvVXN1YXJpbyIsImF0dWFsaXphckNhcnJpbmhvVXN1YXJpbyIsImdldFJldmVuZGVkb3Jlc0NvbVByb2R1dG8iLCJlc3RvcXVlIiwiZ3QiLCJyZXZlbmRlZG9ySWRzIiwicmV2ZW5kZWRvcmVzIiwicmV2ZW5kZWRvcmVzRXJyb3IiLCJpbiIsInJldmVuZGVkb3IiLCJyIiwiZmlsdGVyIiwic29ydCIsImEiLCJiIiwiZ2V0UmV2ZW5kZWRvcmVzUGFyYVByb2R1dG9zIiwicHJvZHV0b05vbWVzIiwiU2V0IiwicHJvZHV0b3NBZ3J1cGFkb3MiLCJmb3JFYWNoIiwicHJvZHV0b0VzdG9xdWUiLCJwcm9kdXRvIiwidXN1YXJpb19pZCIsImNoZWNrU3RhdHVzUGVkaWRvIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/database.ts\n");

/***/ }),

/***/ "(ssr)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(ssr)/./node_modules/.pnpm/@supabase+supabase-js@2.53.0/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://djqueobbsqebtfnqysmt.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqcXVlb2Jic3FlYnRmbnF5c210Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2MjIyNzQsImV4cCI6MjA2OTE5ODI3NH0.8bUtQl__vruvkxUFcMEWB9IGNU8eZmDQEnDOs9J8i30\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error('Missing Supabase credentials. Please check your .env.local file.');\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBRWpFLElBQUksQ0FBQ0QsZUFBZSxDQUFDSSxpQkFBaUI7SUFDcEMsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQiIsInNvdXJjZXMiOlsiQzpcXHhhbXBwXFxodGRvY3NcXEdJVEhVQlxcY2FycGx1c1xcbGliXFxzdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCJcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMXHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZXHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgY3JlZGVudGlhbHMuIFBsZWFzZSBjaGVjayB5b3VyIC5lbnYubG9jYWwgZmlsZS4nKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcclxuXHJcbi8vIFRpcG9zIHBhcmEgb3MgZGFkb3MgZG8gU3VwYWJhc2VcclxuZXhwb3J0IHR5cGUgVXNlciA9IHtcclxuICBpZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIG5vbWU6IHN0cmluZ1xyXG4gIHNvYnJlbm9tZTogc3RyaW5nXHJcbiAgdGVsZWZvbmU6IHN0cmluZ1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQcm9kdXRvID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICBub21lOiBzdHJpbmdcclxuICBjYXRlZ29yaWE6IHN0cmluZ1xyXG4gIHByZWNvOiBudW1iZXJcclxuICBkZXNjcmljYW86IHN0cmluZ1xyXG4gIGltYWdlbV9wcmluY2lwYWw6IHN0cmluZ1xyXG4gIGltYWdlbnM6IHN0cmluZ1tdXHJcbiAgZXN0b3F1ZTogbnVtYmVyXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBlZGlkbyA9IHtcclxuICBpZDogc3RyaW5nXHJcbiAgdXNlcl9pZDogc3RyaW5nXHJcbiAgc3RhdHVzOiBzdHJpbmdcclxuICB0b3RhbDogbnVtYmVyXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEl0ZW1QZWRpZG8gPSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHBlZGlkb19pZDogc3RyaW5nXHJcbiAgcHJvZHV0b19pZDogc3RyaW5nXHJcbiAgcXVhbnRpZGFkZTogbnVtYmVyXHJcbiAgcHJlY29fdW5pdGFyaW86IG51bWJlclxyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDYWxjdWxvUmVzdWx0YWRvID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICB0YW1hbmhvX3JvZGE6IHN0cmluZ1xyXG4gIGFsdHVyYTogc3RyaW5nXHJcbiAgbGFyZ3VyYTogc3RyaW5nXHJcbiAgcmVzdWx0YWRvOiBzdHJpbmdcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciIsInN1cGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/supabase.ts\n");

/***/ })

};
;